{"kind": "Listing", "data": {"after": "t3_yqyh3l", "dist": 25, "modhash": "", "geo_filter": "", "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Without further ado, meet **Shelf** \\- [https://getshelf.cloud](https://getshelf.cloud)\n\nI decided to build my own self-hosted file storage after my bad experience with Nextcloud. While it is a great and powerful product, on my old laptop it was really really slow, especially scrolling through large directories was a struggle. \n\nMy goal is to give a better experience while keeping things efficient. You can easily run it on a slow machines (e.g. DigitalOcean basic droplet with 1vCPU &amp; 1GB RAM) and still have a nice performance.\n\n**Shelf** is currently at the MVP stage and doesn't do much, other than stores your file, but it already supports S3-compatible storages (S3, Minio, DO Spaces).\n\nFeel free to try the [cloud version](http://app.getshelf.cloud/signup) or you can try to run it [locally](https://github.com/unmade/shelf-showcase), it should as easy as running `docker compose up`\n\nPlease, let me know what you think about the project\n\nhttps://preview.redd.it/comsdzr9r0z91.jpg?width=3442&amp;format=pjpg&amp;auto=webp&amp;s=21b557fe5b25230d3fc4eedb68866afd8a98b01a", "author_fullname": "t2_fulpr36", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "I've built a self-hosted file storage", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": 96, "top_awarded_type": null, "hide_score": false, "media_metadata": {"comsdzr9r0z91": {"status": "valid", "e": "Image", "m": "image/jpg", "p": [{"y": 74, "x": 108, "u": "https://preview.redd.it/comsdzr9r0z91.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=86bbc534e09e583a8487aa7532c5ab74b0814dae"}, {"y": 149, "x": 216, "u": "https://preview.redd.it/comsdzr9r0z91.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=3273b53687c61ed801027a877cdd05ea2f5ad051"}, {"y": 221, "x": 320, "u": "https://preview.redd.it/comsdzr9r0z91.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=0388ce63f2f4ac1fab17402f4e10d78ca0a2b72c"}, {"y": 442, "x": 640, "u": "https://preview.redd.it/comsdzr9r0z91.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=8c567f7ae995905cc282a6083157c5acb4e1df2c"}, {"y": 664, "x": 960, "u": "https://preview.redd.it/comsdzr9r0z91.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=8826e6598014db7fb411752b837878e9a9c70615"}, {"y": 747, "x": 1080, "u": "https://preview.redd.it/comsdzr9r0z91.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=86becb93d8b116da56c5a4474634cb6ed9e187fd"}], "s": {"y": 2382, "x": 3442, "u": "https://preview.redd.it/comsdzr9r0z91.jpg?width=3442&amp;format=pjpg&amp;auto=webp&amp;s=21b557fe5b25230d3fc4eedb68866afd8a98b01a"}, "id": "comsdzr9r0z91"}}, "name": "t3_yr0j31", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.97, "author_flair_background_color": null, "subreddit_type": "public", "ups": 324, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 324, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "https://b.thumbs.redditmedia.com/6cYDFQUaTIPCWUQpVI2fj-EHDgMv4plpujKdYNzwM6Y.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1668040576.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Without further ado, meet &lt;strong&gt;Shelf&lt;/strong&gt; - &lt;a href=\"https://getshelf.cloud\"&gt;https://getshelf.cloud&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;I decided to build my own self-hosted file storage after my bad experience with Nextcloud. While it is a great and powerful product, on my old laptop it was really really slow, especially scrolling through large directories was a struggle. &lt;/p&gt;\n\n&lt;p&gt;My goal is to give a better experience while keeping things efficient. You can easily run it on a slow machines (e.g. DigitalOcean basic droplet with 1vCPU &amp;amp; 1GB RAM) and still have a nice performance.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Shelf&lt;/strong&gt; is currently at the MVP stage and doesn&amp;#39;t do much, other than stores your file, but it already supports S3-compatible storages (S3, Minio, DO Spaces).&lt;/p&gt;\n\n&lt;p&gt;Feel free to try the &lt;a href=\"http://app.getshelf.cloud/signup\"&gt;cloud version&lt;/a&gt; or you can try to run it &lt;a href=\"https://github.com/unmade/shelf-showcase\"&gt;locally&lt;/a&gt;, it should as easy as running &lt;code&gt;docker compose up&lt;/code&gt;&lt;/p&gt;\n\n&lt;p&gt;Please, let me know what you think about the project&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/comsdzr9r0z91.jpg?width=3442&amp;amp;format=pjpg&amp;amp;auto=webp&amp;amp;s=21b557fe5b25230d3fc4eedb68866afd8a98b01a\"&gt;https://preview.redd.it/comsdzr9r0z91.jpg?width=3442&amp;amp;format=pjpg&amp;amp;auto=webp&amp;amp;s=21b557fe5b25230d3fc4eedb68866afd8a98b01a&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/gHdyQfmUDl6uej9C7zgA7QaXCR4R68n-TfLPBXNdruU.jpg?auto=webp&amp;s=aa3b3381a14cd7b168bb34737300aeb7073aeb3d", "width": 2491, "height": 1302}, "resolutions": [{"url": "https://external-preview.redd.it/gHdyQfmUDl6uej9C7zgA7QaXCR4R68n-TfLPBXNdruU.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=c814c5dcb24bdcd561af1e2521afd3e6d03b4ab7", "width": 108, "height": 56}, {"url": "https://external-preview.redd.it/gHdyQfmUDl6uej9C7zgA7QaXCR4R68n-TfLPBXNdruU.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=10b05cb86515b03e1f4fcb8075b350af5a6f0c17", "width": 216, "height": 112}, {"url": "https://external-preview.redd.it/gHdyQfmUDl6uej9C7zgA7QaXCR4R68n-TfLPBXNdruU.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=0f5e05ffda46eb6112b551ba2591a2477e48a643", "width": 320, "height": 167}, {"url": "https://external-preview.redd.it/gHdyQfmUDl6uej9C7zgA7QaXCR4R68n-TfLPBXNdruU.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=c2c579a28cb5631166de1b81136f1442b24702fe", "width": 640, "height": 334}, {"url": "https://external-preview.redd.it/gHdyQfmUDl6uej9C7zgA7QaXCR4R68n-TfLPBXNdruU.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=c76bbc249b6f71a8173013c36264e731894772d1", "width": 960, "height": 501}, {"url": "https://external-preview.redd.it/gHdyQfmUDl6uej9C7zgA7QaXCR4R68n-TfLPBXNdruU.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=e1608b6df7be528b7e6af52198bac4c1d3c74632", "width": 1080, "height": 564}], "variants": {}, "id": "vaw7cmpCgjbdWeqLVB49YcqbdGUWmRxxHKDWaYKKc84"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yr0j31", "is_robot_indexable": true, "report_reasons": null, "author": "iamlocal", "discussion_type": null, "num_comments": 75, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yr0j31/ive_built_a_selfhosted_file_storage/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yr0j31/ive_built_a_selfhosted_file_storage/", "subreddit_subscribers": 209213, "created_utc": 1668040576.0, "num_crossposts": 1, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hello , \nIs there an android / IOS multi user task manager? for a family for example. With recurrence management \u2014&gt; Wash cat litter every night Which would give every day in the todo of all the family \"wash the cat litter\" With a record of who completed the task?", "author_fullname": "t2_472drdzs", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Task familly manager", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yqpnd1", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.85, "author_flair_background_color": null, "subreddit_type": "public", "ups": 16, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 16, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668015284.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello , \nIs there an android / IOS multi user task manager? for a family for example. With recurrence management \u2014&amp;gt; Wash cat litter every night Which would give every day in the todo of all the family &amp;quot;wash the cat litter&amp;quot; With a record of who completed the task?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yqpnd1", "is_robot_indexable": true, "report_reasons": null, "author": "Mabed_", "discussion_type": null, "num_comments": 24, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yqpnd1/task_familly_manager/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yqpnd1/task_familly_manager/", "subreddit_subscribers": 209213, "created_utc": 1668015284.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "# K3S cluster with Raspberry PI and VMs\n\nIn a thread u/NattyB0h asked if I could share my K3s setup, so I decided to make a new thread with more details. \n\n## Setup VPN\n\nI've been using Wireguard, but you may use whatever you want. I have configured Wireguard as a mesh vpn, so each peer knows each other. I will not enter in details on how to install Wireguard, generate pub/sub keys, etc...\n\nThe config in my Pi looks like this:\n\n    [Interface]\n    Address = 10.1.1.1/24\n    PrivateKey = PRIVATE_KEY_HERE\n    \n    # oracle1\n    [Peer]\n    PublicKey = PUBLIC_KEY\n    AllowedIPs = 10.1.1.3/32, 10.42.0.0/16, 10.43.0.0/16\n    Endpoint=public-ip:51820\n    \n    # oracle2\n    [Peer]\n    PublicKey = PUBLIC_KEY\n    AllowedIPs = 10.1.1.4/32, 10.42.0.0/16, 10.43.0.0/16\n    Endpoint=public-ip:51820\n    \n    \n    # oracle3\n    [Peer]\n    PublicKey = PUBLIC_KEY\n    AllowedIPs = 10.1.1.5/32, 10.42.0.0/16, 10.43.0.0/16\n    Endpoint=public-ip:51820\n    \n    # oracle4\n    [Peer]\n    PublicKey = PUBLIC_KEY\n    AllowedIPs = 10.1.1.6/32, 10.42.0.0/16, 10.43.0.0/16\n    Endpoint=public-ip:51820\n\nPay attention to the AllowedIPs section. `10.42.0.0/16` is the IP mask for Pods and `10.43.0.0/16` for Services in the Kubernetes virtual lan. This settings are necessary so the OS knows how to route packets.\n\nThe config in the VMs are similar, just change the IP in the Interface section and add the Pi as a Peer.\n\nThe easiest way to start the VPN is though a systemd service unit: `sudo systemctl enable --now wg-quick@wg0`. This command will setup a `wg0` network interface, which you can check with `ip a show wg0`.\n\nOnce the VPN is working, let's setup some firewall rules.\n\n## Firewall (iptables)\n\nI have been using iptables. Since the VMs are exposed to the Internet I believe it's useful to have some rules, otherwise you may leave everything allowed. If you don't use iptables you need to adapt for your specific firewall.\n\nI follow the **Simple stateful firewall** ([https://wiki.archlinux.org/title/simple\\_stateful\\_firewall](https://wiki.archlinux.org/title/simple_stateful_firewall)) and my iptables file looks like this.\n\n    filter\n    :INPUT DROP [0:0]\n    :FORWARD DROP [0:0]\n    :OUTPUT ACCEPT [0:0]\n    :sshguard - [0:0]\n    -A INPUT -p icmp -j ACCEPT\n    -A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT\n    -A INPUT -i lo -j ACCEPT\n    -A INPUT -p tcp -m conntrack --ctstate NEW -m tcp --dport 22 -j sshguard\n    -A INPUT -p tcp -m conntrack --ctstate NEW -m tcp --dport 22 -j ACCEPT\n    -A INPUT -p udp -m conntrack --ctstate NEW -m udp --dport 51820 -m comment --comment wireguard -j ACCEPT\n    -A INPUT -p tcp -s 10.1.1.0/24 -m conntrack --ctstate NEW -m tcp --dport 80 -j ACCEPT\n    -A INPUT -p tcp -s 10.1.1.0/24 -m conntrack --ctstate NEW -m tcp --dport 443 -j ACCEPT\n    -A INPUT -p tcp -s 10.1.1.0/24 -m conntrack --ctstate NEW -m tcp --dport 53 -j ACCEPT\n    -A INPUT -p udp -s 10.1.1.0/24 -m conntrack --ctstate NEW -m udp --dport 53 -j ACCEPT\n    -A INPUT -p tcp -s 10.1.1.0/24 -m conntrack --ctstate NEW -m tcp --dport 6443 -m comment --comment \"k3s listen port\" -j ACCEPT\n    -A INPUT -p udp -s 10.1.1.0/24 -d 10.1.1.0/24 -m conntrack --ctstate NEW -m udp --dport 8472 -m comment --comment \"f.lannel vxlan\" -j ACCEPT\n    -A INPUT -p tcp -s 10.1.1.0/24 -d 10.1.1.0/24 -m conntrack --ctstate NEW -m tcp --dport 10250 -m comment --comment \"kubernetes metrics\" -j ACCEPT\n    -A INPUT -p tcp -j REJECT --reject-with tcp-reset\n    -A INPUT -p udp -j REJECT --reject-with icmp-port-unreachable\n    -A INPUT -j REJECT --reject-with icmp-proto-unreachable\n    -A FORWARD -s 10.42.0.0/16 -m comment --comment \"f.lanneld forward\" -j ACCEPT\n    -A FORWARD -d 10.42.0.0/16 -m comment --comment \"f.lanneld forward\" -j ACCEPT\n    -A FORWARD -j REJECT --reject-with icmp-host-prohibited\n\nBasically, this rules will:\n\n* change the default policy for INPUT and FORWARD to DROP (reject packets by default)\n* accept icmp packets\n* accept packets for already estabilished connections, no need to process all rules again\n* allow port 22 (ssh)\n* allow udp port 51820 (wireguard)\n* some tcp and udp rules specific to the kubernetes cluster\n   * port 53 for the kubernetes DNS\n   * port 80 and 443 for web services\n   * port 6443 for k3s node communication\n   * Special attention to udp port 8472 for flannel, without this the virtual network between pods and services won't work. I struggled a lot to discover this was necessary.\n   * port 10250 so the kubernetes server can collect cpu, memory usage, etc...\n\nI also have sshguard running on my VMs, otherwise you can remove the lines containing sshguard.\n\nIf you expose services with NodePort or host network you may need to configure rules for them too.\n\nThe default location for the iptables file may change for each distribution, so do some research. In Ubuntu Server it's located at /etc/iptables/rules.v4. You need to reload the file using `sudo iptables-restore /etc/iptables/rules.v4`.\n\n## K3S installation\n\nIf you don't know what's K3s I highly recommend to take a look at their docs ([https://docs.k3s.io/](https://docs.k3s.io/)).\n\nYou can install K3s in a single machine or in multiple machines to have a cluster. At least one node needs to be a server and the other ones will be a agent. You can have multiple nodes as servers but the setup becomes more complicated, so I just went for the single server.\n\nIn my case, I have my Pi as a server and 3 VMs as agents.\n\n## Server setup\n\nThis is my script to install the server.\n\n    #!/usr/bin/env bash\n    \n    curl -sfL https://get.k3s.io | \\\n        INSTALL_K3S_EXEC=\"server --node-ip 10.1.1.1,192.168.15.43 --advertise-address 10.1.1.1 --flannel-iface wg0\" \\\n        sh -\n\nNow let's see some details:\n\n* we set a custom node-ip option. This allow my services to become available on my lan (without wireguard) and though VPN.\n* advertised the ip address for agent nodes to connect\n* set the flannel interface for our wireguard interface. This is necessary so our Pods can only communicate with each other though the VPN.\n\nReplace the IPs with the ones you have.\n\nBy running the command you should have everything working. I won't go in details on how to use the `kubectl` CLI.\n\nRun the following command to check if your server is UP: `sudo kubectl get nodes`. It should output your node server name, kubernetes version, etc... The default kubeconfig is located at `/etc/rancher/k3s/k3s.yaml` you can copy it to your home and set the env var `KUBECONFIG` pointing to it, so you don't need to sudo everytime.\n\nBefore we install k3s on the agents we need to copy our server node token, get it by running: `sudo cat /var/lib/rancher/k3s/server/node-token`.\n\n## Agent setup\n\nThis is the command to install k3s on each agent node.\n\n    #!/usr/bin/env bash\n    \n    curl -sfL https://get.k3s.io | \\\n            INSTALL_K3S_EXEC=\"agent --server https://10.1.1.1:6443 --token K3SNODETOKENHERE --node-ip 10.1.1.4 --flannel-iface wg0\" \\\n            sh -\n\nThis will install k3s as an agent. In the server option use the IP address of your server. In the token option paste the token we got before. Also set the specific node-ip of the agent and once again use the VPN interface for communication.\n\nRight know you should have the agent nodes registered in the server. We can check that by running `kubectl get nodes`.\n\n    kubectl get nodes -o wide\n    NAME             STATUS   ROLES                  AGE    VERSION        INTERNAL-IP   EXTERNAL-IP   OS-IMAGE           KERNEL-VERSION       CONTAINER-RUNTIME\n    alarm            Ready    control-plane,master   286d   v1.25.3+k3s1   10.1.1.1      &lt;none&gt;        Arch Linux ARM     5.15.74-2-rpi-ARCH   containerd://1.6.8-k3s1\n    oracle-2-arm64   Ready    &lt;none&gt;                 5d3h   v1.25.3+k3s1   10.1.1.5      &lt;none&gt;        Ubuntu 22.04 LTS   5.15.0-1021-oracle   containerd://1.6.8-k3s1\n    oracle-1-amd64   Ready    &lt;none&gt;                 5d3h   v1.25.3+k3s1   10.1.1.3      &lt;none&gt;        Ubuntu 22.04 LTS   5.15.0-1021-oracle   containerd://1.6.8-k3s1\n    oracle-1-arm64   Ready    &lt;none&gt;                 5d3h   v1.25.3+k3s1   10.1.1.4      &lt;none&gt;        Ubuntu 22.04 LTS   5.15.0-1021-oracle   containerd://1.6.8-k3s1\n\n## That's all\n\nYou should\n\n## Troubleshooting\n\nI struggled a bit to get everything working so I want to share somethings that may help you.\n\n## Pods and networking\n\nI've used this manifest to make sure my pods can talk to each other.\n\n    apiVersion: apps/v1\n    kind: DaemonSet\n    metadata:\n      name: alpine\n      labels: &amp;labels\n        app: alpine\n    spec:\n      selector:\n        matchLabels:\n          &lt;&lt;: *labels\n      template:\n        metadata:\n          labels:\n            &lt;&lt;: *labels\n        spec:\n          containers:\n          - name: alpine\n            image: docker.io/library/alpine:3.16\n            imagePullPolicy: IfNotPresent\n            command: [\"/bin/sh\"]\n            args: [\"-c\", \"sleep 1h\"]\n\nIt's a ReplicaSet so you should have at least one pod on each node.\n\n    kubectl get pod -l app=alpine -o wide\n    NAME           READY   STATUS    RESTARTS        AGE    IP           NODE             NOMINATED NODE   READINESS GATES\n    alpine-kldqv   1/1     Running   122 (47m ago)   5d2h   10.42.0.13   alarm            &lt;none&gt;           &lt;none&gt;\n    alpine-qlw6w   1/1     Running   124 (44m ago)   5d2h   10.42.2.4    oracle-1-arm64   &lt;none&gt;           &lt;none&gt;\n    alpine-tc4cn   1/1     Running   124 (43m ago)   5d2h   10.42.3.6    oracle-2-arm64   &lt;none&gt;           &lt;none&gt;\n    alpine-rjtn9   1/1     Running   126 (39m ago)   5d2h   10.42.1.2    oracle-1-amd64   &lt;none&gt;           &lt;none&gt;\n\nYou can open a shell in one pod with: `kubectl exec -ti pod/alpine-kldqv -- sh`.\n\nThe hardest thing for me was getting networking running. As long as I can ping a pod from my Pi (alarm) to a pod in any of the VMs I know at least the basics are working fine.\n\n    / # ping 10.42.2.4\n    PING 10.42.2.4 (10.42.2.4): 56 data bytes\n    64 bytes from 10.42.2.4: seq=0 ttl=62 time=5.896 ms\n    64 bytes from 10.42.2.4: seq=1 ttl=62 time=6.899 ms\n\nInside the alpine shell you can `apk add` to install any necessary tool too.\n\nAnother tool that helped me a lot was `tcpdump`. By running tcpdump against the wireguard interface I could see networking errors and which ports I need to setup.\n\nFor example, leave a ping running in one the pods and in another terminal run tcpdump: `sudo tcpdump -ni wg0 'icmp'`. I discovered the udp port 8472 by doing that.", "author_fullname": "t2_11dzuw", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "K3S cluster with Raspberry PI and VMs", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yqw4zd", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.87, "author_flair_background_color": null, "subreddit_type": "public", "ups": 15, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 15, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668029365.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;h1&gt;K3S cluster with Raspberry PI and VMs&lt;/h1&gt;\n\n&lt;p&gt;In a thread &lt;a href=\"/u/NattyB0h\"&gt;u/NattyB0h&lt;/a&gt; asked if I could share my K3s setup, so I decided to make a new thread with more details. &lt;/p&gt;\n\n&lt;h2&gt;Setup VPN&lt;/h2&gt;\n\n&lt;p&gt;I&amp;#39;ve been using Wireguard, but you may use whatever you want. I have configured Wireguard as a mesh vpn, so each peer knows each other. I will not enter in details on how to install Wireguard, generate pub/sub keys, etc...&lt;/p&gt;\n\n&lt;p&gt;The config in my Pi looks like this:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;[Interface]\nAddress = 10.1.1.1/24\nPrivateKey = PRIVATE_KEY_HERE\n\n# oracle1\n[Peer]\nPublicKey = PUBLIC_KEY\nAllowedIPs = 10.1.1.3/32, 10.42.0.0/16, 10.43.0.0/16\nEndpoint=public-ip:51820\n\n# oracle2\n[Peer]\nPublicKey = PUBLIC_KEY\nAllowedIPs = 10.1.1.4/32, 10.42.0.0/16, 10.43.0.0/16\nEndpoint=public-ip:51820\n\n\n# oracle3\n[Peer]\nPublicKey = PUBLIC_KEY\nAllowedIPs = 10.1.1.5/32, 10.42.0.0/16, 10.43.0.0/16\nEndpoint=public-ip:51820\n\n# oracle4\n[Peer]\nPublicKey = PUBLIC_KEY\nAllowedIPs = 10.1.1.6/32, 10.42.0.0/16, 10.43.0.0/16\nEndpoint=public-ip:51820\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Pay attention to the AllowedIPs section. &lt;code&gt;10.42.0.0/16&lt;/code&gt; is the IP mask for Pods and &lt;code&gt;10.43.0.0/16&lt;/code&gt; for Services in the Kubernetes virtual lan. This settings are necessary so the OS knows how to route packets.&lt;/p&gt;\n\n&lt;p&gt;The config in the VMs are similar, just change the IP in the Interface section and add the Pi as a Peer.&lt;/p&gt;\n\n&lt;p&gt;The easiest way to start the VPN is though a systemd service unit: &lt;code&gt;sudo systemctl enable --now wg-quick@wg0&lt;/code&gt;. This command will setup a &lt;code&gt;wg0&lt;/code&gt; network interface, which you can check with &lt;code&gt;ip a show wg0&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Once the VPN is working, let&amp;#39;s setup some firewall rules.&lt;/p&gt;\n\n&lt;h2&gt;Firewall (iptables)&lt;/h2&gt;\n\n&lt;p&gt;I have been using iptables. Since the VMs are exposed to the Internet I believe it&amp;#39;s useful to have some rules, otherwise you may leave everything allowed. If you don&amp;#39;t use iptables you need to adapt for your specific firewall.&lt;/p&gt;\n\n&lt;p&gt;I follow the &lt;strong&gt;Simple stateful firewall&lt;/strong&gt; (&lt;a href=\"https://wiki.archlinux.org/title/simple_stateful_firewall\"&gt;https://wiki.archlinux.org/title/simple_stateful_firewall&lt;/a&gt;) and my iptables file looks like this.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;filter\n:INPUT DROP [0:0]\n:FORWARD DROP [0:0]\n:OUTPUT ACCEPT [0:0]\n:sshguard - [0:0]\n-A INPUT -p icmp -j ACCEPT\n-A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT\n-A INPUT -i lo -j ACCEPT\n-A INPUT -p tcp -m conntrack --ctstate NEW -m tcp --dport 22 -j sshguard\n-A INPUT -p tcp -m conntrack --ctstate NEW -m tcp --dport 22 -j ACCEPT\n-A INPUT -p udp -m conntrack --ctstate NEW -m udp --dport 51820 -m comment --comment wireguard -j ACCEPT\n-A INPUT -p tcp -s 10.1.1.0/24 -m conntrack --ctstate NEW -m tcp --dport 80 -j ACCEPT\n-A INPUT -p tcp -s 10.1.1.0/24 -m conntrack --ctstate NEW -m tcp --dport 443 -j ACCEPT\n-A INPUT -p tcp -s 10.1.1.0/24 -m conntrack --ctstate NEW -m tcp --dport 53 -j ACCEPT\n-A INPUT -p udp -s 10.1.1.0/24 -m conntrack --ctstate NEW -m udp --dport 53 -j ACCEPT\n-A INPUT -p tcp -s 10.1.1.0/24 -m conntrack --ctstate NEW -m tcp --dport 6443 -m comment --comment &amp;quot;k3s listen port&amp;quot; -j ACCEPT\n-A INPUT -p udp -s 10.1.1.0/24 -d 10.1.1.0/24 -m conntrack --ctstate NEW -m udp --dport 8472 -m comment --comment &amp;quot;f.lannel vxlan&amp;quot; -j ACCEPT\n-A INPUT -p tcp -s 10.1.1.0/24 -d 10.1.1.0/24 -m conntrack --ctstate NEW -m tcp --dport 10250 -m comment --comment &amp;quot;kubernetes metrics&amp;quot; -j ACCEPT\n-A INPUT -p tcp -j REJECT --reject-with tcp-reset\n-A INPUT -p udp -j REJECT --reject-with icmp-port-unreachable\n-A INPUT -j REJECT --reject-with icmp-proto-unreachable\n-A FORWARD -s 10.42.0.0/16 -m comment --comment &amp;quot;f.lanneld forward&amp;quot; -j ACCEPT\n-A FORWARD -d 10.42.0.0/16 -m comment --comment &amp;quot;f.lanneld forward&amp;quot; -j ACCEPT\n-A FORWARD -j REJECT --reject-with icmp-host-prohibited\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Basically, this rules will:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;change the default policy for INPUT and FORWARD to DROP (reject packets by default)&lt;/li&gt;\n&lt;li&gt;accept icmp packets&lt;/li&gt;\n&lt;li&gt;accept packets for already estabilished connections, no need to process all rules again&lt;/li&gt;\n&lt;li&gt;allow port 22 (ssh)&lt;/li&gt;\n&lt;li&gt;allow udp port 51820 (wireguard)&lt;/li&gt;\n&lt;li&gt;some tcp and udp rules specific to the kubernetes cluster\n\n&lt;ul&gt;\n&lt;li&gt;port 53 for the kubernetes DNS&lt;/li&gt;\n&lt;li&gt;port 80 and 443 for web services&lt;/li&gt;\n&lt;li&gt;port 6443 for k3s node communication&lt;/li&gt;\n&lt;li&gt;Special attention to udp port 8472 for flannel, without this the virtual network between pods and services won&amp;#39;t work. I struggled a lot to discover this was necessary.&lt;/li&gt;\n&lt;li&gt;port 10250 so the kubernetes server can collect cpu, memory usage, etc...&lt;/li&gt;\n&lt;/ul&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;I also have sshguard running on my VMs, otherwise you can remove the lines containing sshguard.&lt;/p&gt;\n\n&lt;p&gt;If you expose services with NodePort or host network you may need to configure rules for them too.&lt;/p&gt;\n\n&lt;p&gt;The default location for the iptables file may change for each distribution, so do some research. In Ubuntu Server it&amp;#39;s located at /etc/iptables/rules.v4. You need to reload the file using &lt;code&gt;sudo iptables-restore /etc/iptables/rules.v4&lt;/code&gt;.&lt;/p&gt;\n\n&lt;h2&gt;K3S installation&lt;/h2&gt;\n\n&lt;p&gt;If you don&amp;#39;t know what&amp;#39;s K3s I highly recommend to take a look at their docs (&lt;a href=\"https://docs.k3s.io/\"&gt;https://docs.k3s.io/&lt;/a&gt;).&lt;/p&gt;\n\n&lt;p&gt;You can install K3s in a single machine or in multiple machines to have a cluster. At least one node needs to be a server and the other ones will be a agent. You can have multiple nodes as servers but the setup becomes more complicated, so I just went for the single server.&lt;/p&gt;\n\n&lt;p&gt;In my case, I have my Pi as a server and 3 VMs as agents.&lt;/p&gt;\n\n&lt;h2&gt;Server setup&lt;/h2&gt;\n\n&lt;p&gt;This is my script to install the server.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;#!/usr/bin/env bash\n\ncurl -sfL https://get.k3s.io | \\\n    INSTALL_K3S_EXEC=&amp;quot;server --node-ip 10.1.1.1,192.168.15.43 --advertise-address 10.1.1.1 --flannel-iface wg0&amp;quot; \\\n    sh -\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now let&amp;#39;s see some details:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;we set a custom node-ip option. This allow my services to become available on my lan (without wireguard) and though VPN.&lt;/li&gt;\n&lt;li&gt;advertised the ip address for agent nodes to connect&lt;/li&gt;\n&lt;li&gt;set the flannel interface for our wireguard interface. This is necessary so our Pods can only communicate with each other though the VPN.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Replace the IPs with the ones you have.&lt;/p&gt;\n\n&lt;p&gt;By running the command you should have everything working. I won&amp;#39;t go in details on how to use the &lt;code&gt;kubectl&lt;/code&gt; CLI.&lt;/p&gt;\n\n&lt;p&gt;Run the following command to check if your server is UP: &lt;code&gt;sudo kubectl get nodes&lt;/code&gt;. It should output your node server name, kubernetes version, etc... The default kubeconfig is located at &lt;code&gt;/etc/rancher/k3s/k3s.yaml&lt;/code&gt; you can copy it to your home and set the env var &lt;code&gt;KUBECONFIG&lt;/code&gt; pointing to it, so you don&amp;#39;t need to sudo everytime.&lt;/p&gt;\n\n&lt;p&gt;Before we install k3s on the agents we need to copy our server node token, get it by running: &lt;code&gt;sudo cat /var/lib/rancher/k3s/server/node-token&lt;/code&gt;.&lt;/p&gt;\n\n&lt;h2&gt;Agent setup&lt;/h2&gt;\n\n&lt;p&gt;This is the command to install k3s on each agent node.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;#!/usr/bin/env bash\n\ncurl -sfL https://get.k3s.io | \\\n        INSTALL_K3S_EXEC=&amp;quot;agent --server https://10.1.1.1:6443 --token K3SNODETOKENHERE --node-ip 10.1.1.4 --flannel-iface wg0&amp;quot; \\\n        sh -\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This will install k3s as an agent. In the server option use the IP address of your server. In the token option paste the token we got before. Also set the specific node-ip of the agent and once again use the VPN interface for communication.&lt;/p&gt;\n\n&lt;p&gt;Right know you should have the agent nodes registered in the server. We can check that by running &lt;code&gt;kubectl get nodes&lt;/code&gt;.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;kubectl get nodes -o wide\nNAME             STATUS   ROLES                  AGE    VERSION        INTERNAL-IP   EXTERNAL-IP   OS-IMAGE           KERNEL-VERSION       CONTAINER-RUNTIME\nalarm            Ready    control-plane,master   286d   v1.25.3+k3s1   10.1.1.1      &amp;lt;none&amp;gt;        Arch Linux ARM     5.15.74-2-rpi-ARCH   containerd://1.6.8-k3s1\noracle-2-arm64   Ready    &amp;lt;none&amp;gt;                 5d3h   v1.25.3+k3s1   10.1.1.5      &amp;lt;none&amp;gt;        Ubuntu 22.04 LTS   5.15.0-1021-oracle   containerd://1.6.8-k3s1\noracle-1-amd64   Ready    &amp;lt;none&amp;gt;                 5d3h   v1.25.3+k3s1   10.1.1.3      &amp;lt;none&amp;gt;        Ubuntu 22.04 LTS   5.15.0-1021-oracle   containerd://1.6.8-k3s1\noracle-1-arm64   Ready    &amp;lt;none&amp;gt;                 5d3h   v1.25.3+k3s1   10.1.1.4      &amp;lt;none&amp;gt;        Ubuntu 22.04 LTS   5.15.0-1021-oracle   containerd://1.6.8-k3s1\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;h2&gt;That&amp;#39;s all&lt;/h2&gt;\n\n&lt;p&gt;You should&lt;/p&gt;\n\n&lt;h2&gt;Troubleshooting&lt;/h2&gt;\n\n&lt;p&gt;I struggled a bit to get everything working so I want to share somethings that may help you.&lt;/p&gt;\n\n&lt;h2&gt;Pods and networking&lt;/h2&gt;\n\n&lt;p&gt;I&amp;#39;ve used this manifest to make sure my pods can talk to each other.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;apiVersion: apps/v1\nkind: DaemonSet\nmetadata:\n  name: alpine\n  labels: &amp;amp;labels\n    app: alpine\nspec:\n  selector:\n    matchLabels:\n      &amp;lt;&amp;lt;: *labels\n  template:\n    metadata:\n      labels:\n        &amp;lt;&amp;lt;: *labels\n    spec:\n      containers:\n      - name: alpine\n        image: docker.io/library/alpine:3.16\n        imagePullPolicy: IfNotPresent\n        command: [&amp;quot;/bin/sh&amp;quot;]\n        args: [&amp;quot;-c&amp;quot;, &amp;quot;sleep 1h&amp;quot;]\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;It&amp;#39;s a ReplicaSet so you should have at least one pod on each node.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;kubectl get pod -l app=alpine -o wide\nNAME           READY   STATUS    RESTARTS        AGE    IP           NODE             NOMINATED NODE   READINESS GATES\nalpine-kldqv   1/1     Running   122 (47m ago)   5d2h   10.42.0.13   alarm            &amp;lt;none&amp;gt;           &amp;lt;none&amp;gt;\nalpine-qlw6w   1/1     Running   124 (44m ago)   5d2h   10.42.2.4    oracle-1-arm64   &amp;lt;none&amp;gt;           &amp;lt;none&amp;gt;\nalpine-tc4cn   1/1     Running   124 (43m ago)   5d2h   10.42.3.6    oracle-2-arm64   &amp;lt;none&amp;gt;           &amp;lt;none&amp;gt;\nalpine-rjtn9   1/1     Running   126 (39m ago)   5d2h   10.42.1.2    oracle-1-amd64   &amp;lt;none&amp;gt;           &amp;lt;none&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;You can open a shell in one pod with: &lt;code&gt;kubectl exec -ti pod/alpine-kldqv -- sh&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;The hardest thing for me was getting networking running. As long as I can ping a pod from my Pi (alarm) to a pod in any of the VMs I know at least the basics are working fine.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;/ # ping 10.42.2.4\nPING 10.42.2.4 (10.42.2.4): 56 data bytes\n64 bytes from 10.42.2.4: seq=0 ttl=62 time=5.896 ms\n64 bytes from 10.42.2.4: seq=1 ttl=62 time=6.899 ms\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Inside the alpine shell you can &lt;code&gt;apk add&lt;/code&gt; to install any necessary tool too.&lt;/p&gt;\n\n&lt;p&gt;Another tool that helped me a lot was &lt;code&gt;tcpdump&lt;/code&gt;. By running tcpdump against the wireguard interface I could see networking errors and which ports I need to setup.&lt;/p&gt;\n\n&lt;p&gt;For example, leave a ping running in one the pods and in another terminal run tcpdump: &lt;code&gt;sudo tcpdump -ni wg0 &amp;#39;icmp&amp;#39;&lt;/code&gt;. I discovered the udp port 8472 by doing that.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yqw4zd", "is_robot_indexable": true, "report_reasons": null, "author": "guilhermerx7", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yqw4zd/k3s_cluster_with_raspberry_pi_and_vms/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yqw4zd/k3s_cluster_with_raspberry_pi_and_vms/", "subreddit_subscribers": 209213, "created_utc": 1668029365.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "", "author_fullname": "t2_582xz2q2", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "LibreTranslate: Free and Open Source Machine Translation API. 100% self-hosted, offline capable and easy to setup.", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": 70, "top_awarded_type": null, "hide_score": true, "name": "t3_yrdeyc", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 14, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 14, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "https://b.thumbs.redditmedia.com/JwkP3H240yv9UIj0BPaaD-QsK0kfrsAbpBgcdZVN0gI.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "link", "content_categories": null, "is_self": false, "mod_note": null, "created": 1668083175.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "github.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://github.com/LibreTranslate/LibreTranslate#run-with-docker", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/Rd2Yl_wWVjbINSM8CTiJAJRfbu5oTMsQ3pA5qY-QR_g.jpg?auto=webp&amp;s=71b074b964acf962376e0d52737d2d8707522fbc", "width": 1200, "height": 600}, "resolutions": [{"url": "https://external-preview.redd.it/Rd2Yl_wWVjbINSM8CTiJAJRfbu5oTMsQ3pA5qY-QR_g.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=d6d3de9ccc4b52df278390a7da2c6c83b13b17cc", "width": 108, "height": 54}, {"url": "https://external-preview.redd.it/Rd2Yl_wWVjbINSM8CTiJAJRfbu5oTMsQ3pA5qY-QR_g.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=49d6aaabddf04899363d92f1f4b01450e003e9f9", "width": 216, "height": 108}, {"url": "https://external-preview.redd.it/Rd2Yl_wWVjbINSM8CTiJAJRfbu5oTMsQ3pA5qY-QR_g.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=60e1e4087bc2e702804cf668d3660d8259f4feff", "width": 320, "height": 160}, {"url": "https://external-preview.redd.it/Rd2Yl_wWVjbINSM8CTiJAJRfbu5oTMsQ3pA5qY-QR_g.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=479c973e9d77d29d37ae17f761be01c72a5611e7", "width": 640, "height": 320}, {"url": "https://external-preview.redd.it/Rd2Yl_wWVjbINSM8CTiJAJRfbu5oTMsQ3pA5qY-QR_g.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=f3d585fa920f1def29ecf2a6feee58655bb2192e", "width": 960, "height": 480}, {"url": "https://external-preview.redd.it/Rd2Yl_wWVjbINSM8CTiJAJRfbu5oTMsQ3pA5qY-QR_g.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=da496287103b2aa07f1963794ca8d89682d319ba", "width": 1080, "height": 540}], "variants": {}, "id": "9Td7MQ8O9Ug9ukZBGqBGx6RLCDKKb0WrjXX7yqGoqcA"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yrdeyc", "is_robot_indexable": true, "report_reasons": null, "author": "Spirited-Pause", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yrdeyc/libretranslate_free_and_open_source_machine/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://github.com/LibreTranslate/LibreTranslate#run-with-docker", "subreddit_subscribers": 209213, "created_utc": 1668083175.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I started working on it last year when I got into a bike accident and was not allowed to work for insurance reasons. Today, version 8.1.0 has features to manage your content, media, snippets, and much more.\n\n[Front Matter CMS](https://preview.redd.it/b1zh0gndi3z91.png?width=1012&amp;format=png&amp;auto=webp&amp;s=2ce6fbf549007ac580cbd80501e39c7c7cdc3db1)\n\nFront Matter is a CMS that runs within Visual Studio Code/GitPod/... It gives you the power and control of a full-blown CMS while also providing you the flexibility and speed of the static site generator of your choice. Jump right into editing and creating content with Front Matter and be able to preview it straight in VS Code.\n\nI hope you are willing to give it a try \ud83d\ude4f\n\n**GitHub:** [https://github.com/estruyf/vscode-front-matter](https://github.com/estruyf/vscode-front-matter)  \n**Website**: [https://frontmatter.codes](https://frontmatter.codes/)", "author_fullname": "t2_9rrld72q", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "I've created Front Matter CMS for your static-website", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": 70, "top_awarded_type": null, "hide_score": false, "media_metadata": {"b1zh0gndi3z91": {"status": "valid", "e": "Image", "m": "image/png", "p": [{"y": 54, "x": 108, "u": "https://preview.redd.it/b1zh0gndi3z91.png?width=108&amp;crop=smart&amp;auto=webp&amp;s=6b66d7270ae98e0f0b955645bf27fb16ec5ab009"}, {"y": 108, "x": 216, "u": "https://preview.redd.it/b1zh0gndi3z91.png?width=216&amp;crop=smart&amp;auto=webp&amp;s=6198fa27fc832c35ea52d860805139c01c0893a3"}, {"y": 160, "x": 320, "u": "https://preview.redd.it/b1zh0gndi3z91.png?width=320&amp;crop=smart&amp;auto=webp&amp;s=a0b8303d1a74020f7653c01d7082e085a9429f6b"}, {"y": 320, "x": 640, "u": "https://preview.redd.it/b1zh0gndi3z91.png?width=640&amp;crop=smart&amp;auto=webp&amp;s=fd3c96e7ad4cd39f81ddb5104baafe4e4a83a9ac"}, {"y": 480, "x": 960, "u": "https://preview.redd.it/b1zh0gndi3z91.png?width=960&amp;crop=smart&amp;auto=webp&amp;s=b17137687c09069697ae9982f651974190cc17b3"}], "s": {"y": 506, "x": 1012, "u": "https://preview.redd.it/b1zh0gndi3z91.png?width=1012&amp;format=png&amp;auto=webp&amp;s=2ce6fbf549007ac580cbd80501e39c7c7cdc3db1"}, "id": "b1zh0gndi3z91"}}, "name": "t3_yragcz", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.91, "author_flair_background_color": null, "subreddit_type": "public", "ups": 9, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 9, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "https://b.thumbs.redditmedia.com/XhH3YMPVAC-XcrkprkMLvs3sTiI1z_D99I7JIuRzvaU.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668073839.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I started working on it last year when I got into a bike accident and was not allowed to work for insurance reasons. Today, version 8.1.0 has features to manage your content, media, snippets, and much more.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://preview.redd.it/b1zh0gndi3z91.png?width=1012&amp;amp;format=png&amp;amp;auto=webp&amp;amp;s=2ce6fbf549007ac580cbd80501e39c7c7cdc3db1\"&gt;Front Matter CMS&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Front Matter is a CMS that runs within Visual Studio Code/GitPod/... It gives you the power and control of a full-blown CMS while also providing you the flexibility and speed of the static site generator of your choice. Jump right into editing and creating content with Front Matter and be able to preview it straight in VS Code.&lt;/p&gt;\n\n&lt;p&gt;I hope you are willing to give it a try \ud83d\ude4f&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;GitHub:&lt;/strong&gt; &lt;a href=\"https://github.com/estruyf/vscode-front-matter\"&gt;https://github.com/estruyf/vscode-front-matter&lt;/a&gt;&lt;br/&gt;\n&lt;strong&gt;Website&lt;/strong&gt;: &lt;a href=\"https://frontmatter.codes/\"&gt;https://frontmatter.codes&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yragcz", "is_robot_indexable": true, "report_reasons": null, "author": "eliostruyf", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yragcz/ive_created_front_matter_cms_for_your/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yragcz/ive_created_front_matter_cms_for_your/", "subreddit_subscribers": 209213, "created_utc": 1668073839.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "New to self hosting as will be building a homelab this weekend, super excited!\n\nCurrently use Confluence daily for my own note taking. Anything open source that comes close to features, usability and looks so I can save some money by cancelling a sub?\n\nThanks!", "author_fullname": "t2_30ee6ua2", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Any self-hosted alternative to Confluence for wikis that comes anywhere close?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "wikis", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yqxamc", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.87, "author_flair_background_color": null, "subreddit_type": "public", "ups": 11, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Wiki's", "can_mod_post": false, "score": 11, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668032194.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;New to self hosting as will be building a homelab this weekend, super excited!&lt;/p&gt;\n\n&lt;p&gt;Currently use Confluence daily for my own note taking. Anything open source that comes close to features, usability and looks so I can save some money by cancelling a sub?&lt;/p&gt;\n\n&lt;p&gt;Thanks!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "78dcb492-7e68-11e9-b4e7-0e296f55dc70", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yqxamc", "is_robot_indexable": true, "report_reasons": null, "author": "LostGoatOnHill", "discussion_type": null, "num_comments": 36, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yqxamc/any_selfhosted_alternative_to_confluence_for/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yqxamc/any_selfhosted_alternative_to_confluence_for/", "subreddit_subscribers": 209213, "created_utc": 1668032194.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "", "user_reports": [], "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Topton n5105 as a home server? Plex, NextCloud, PhotoPrism", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yr63it", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.72, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "author_fullname": "t2_85czkz0b", "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "default", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": false, "mod_note": null, "crosspost_parent_list": [{"approved_at_utc": null, "subreddit": "HomeServer", "selftext": "Hey, has anyone tried using Topton fan-less router/ miniPC models with Intel Celeron 11th gen as a Plex server using a HDD?  \nI want a portable server kind of thing when I travel between places. Just have my favourite movies on the HDD. This can serve has a portable \"powerhouse\". It will also serve as a portable NAS sort of thing. Wireless storage!. While at home I can connect it to a cheap usb multi bay storage or NAS to locally host a larger lib.  \nThere are other mini PCs with same processor but those are generally with 1gig Realtek nic. Not very ideal for NAS. Maybe just a nitpick.  \nI cannot really leave a server running at home while I am not there.", "author_fullname": "t2_85czkz0b", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Topton n5105 as a home server? Plex, NextCloud, PhotoPrism", "link_flair_richtext": [], "subreddit_name_prefixed": "r/HomeServer", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yoe5af", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.88, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 6, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1667800163.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.HomeServer", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey, has anyone tried using Topton fan-less router/ miniPC models with Intel Celeron 11th gen as a Plex server using a HDD?&lt;br/&gt;\nI want a portable server kind of thing when I travel between places. Just have my favourite movies on the HDD. This can serve has a portable &amp;quot;powerhouse&amp;quot;. It will also serve as a portable NAS sort of thing. Wireless storage!. While at home I can connect it to a cheap usb multi bay storage or NAS to locally host a larger lib.&lt;br/&gt;\nThere are other mini PCs with same processor but those are generally with 1gig Realtek nic. Not very ideal for NAS. Maybe just a nitpick.&lt;br/&gt;\nI cannot really leave a server running at home while I am not there.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_2sxqm", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yoe5af", "is_robot_indexable": true, "report_reasons": null, "author": "pheonix10yson", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/HomeServer/comments/yoe5af/topton_n5105_as_a_home_server_plex_nextcloud/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/HomeServer/comments/yoe5af/topton_n5105_as_a_home_server_plex_nextcloud/", "subreddit_subscribers": 105763, "created_utc": 1667800163.0, "num_crossposts": 1, "media": null, "is_video": false}], "created": 1668057293.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.HomeServer", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "/r/HomeServer/comments/yoe5af/topton_n5105_as_a_home_server_plex_nextcloud/", "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yr63it", "is_robot_indexable": true, "report_reasons": null, "author": "pheonix10yson", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "crosspost_parent": "t3_yoe5af", "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yr63it/topton_n5105_as_a_home_server_plex_nextcloud/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "/r/HomeServer/comments/yoe5af/topton_n5105_as_a_home_server_plex_nextcloud/", "subreddit_subscribers": 209213, "created_utc": 1668057293.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hey all,\n\nWas playing with Authentik yesterday and had everything up and running.  I wanted to start from scratch to document my steps, and went to re-create, so I delete my container, the images, the directory and start from scratch.\n\nNow, anytime I go to start the container, the containers start but state \"unhealthy\" for both the authentik server and postgres DB.  \n\n    CONTAINER ID   IMAGE                                  COMMAND                  CREATED         STATUS                     PORTS                                                                                  NAMES\n    f7a99bc4b654   postgres:12-alpine                     \"docker-entrypoint.s\u2026\"   9 minutes ago   Up 9 minutes (healthy)     5432/tcp                                                                               authentik_postgresql_1\n    4685625aa4f1   ghcr.io/goauthentik/server:2022.10.1   \"/usr/local/bin/dumb\u2026\"   9 minutes ago   Up 9 minutes (unhealthy)   0.0.0.0:9000-&gt;9000/tcp, 0.0.0.0:9443-&gt;9443/tcp     authentik_server_1\n    cabf2d6b4eac   ghcr.io/goauthentik/server:2022.10.1   \"/usr/local/bin/dumb\u2026\"   9 minutes ago   Up 9 minutes (unhealthy)                                                                                          authentik_worker_1\n    12ba0fe062d6   redis:alpine                           \"docker-entrypoint.s\u2026\"   9 minutes ago   Up 9 minutes (healthy)     6379/tcp                                                                               authentik_redis_1\n\nWhen reviewing the logs in the container, it's a constant spam of messages like the following:\n\n    {\"event\": \"PostgreSQL connection successful\", \"level\": \"info\", \"logger\": \"authentik.lib.config\", \"timestamp\": \n    1668039630.2133188}\n    {\"event\": \"PostgreSQL connection failed, retrying... (connection to server at \\\"postgresql\\\" (172.31.0.6), port \n    5432 failed: FATAL:  password authentication failed for user \\\"authentik\\\"\\n)\", \"level\": \"info\", \"logger\": \n    \"authentik.lib.config\", \"timestamp\": 1668039631.2172213}\n    {\"event\": \"PostgreSQL connection successful\", \"level\": \"info\", \"logger\": \"authentik.lib.config\", \"timestamp\": \n    1668039631.217386}\n    {\"event\": \"PostgreSQL connection failed, retrying... (connection to server at \\\"postgresql\\\" (172.31.0.6), port \n    5432 failed: FATAL:  password authentication failed for user \\\"authentik\\\"\\n)\", \"level\": \"info\", \"logger\": \n    \"authentik.lib.config\", \"timestamp\": 1668039632.2222059}\n    {\"event\": \"PostgreSQL connection successful\", \"level\": \"info\", \"logger\": \"authentik.lib.config\", \"timestamp\": \n    1668039632.222359}\n\nAny ideas? Makes no sense the connection is failing but also successful somehow? I followed the installation instructions to a T and they worked the first time - I don't understand why it won't work the second time around.\n\nWould appreciate any help in getting this fixed. Thanks!", "author_fullname": "t2_698znx2a", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Authentik - error with Postgres", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yr0a2r", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.81, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Need Help", "can_mod_post": false, "score": 3, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668039909.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey all,&lt;/p&gt;\n\n&lt;p&gt;Was playing with Authentik yesterday and had everything up and running.  I wanted to start from scratch to document my steps, and went to re-create, so I delete my container, the images, the directory and start from scratch.&lt;/p&gt;\n\n&lt;p&gt;Now, anytime I go to start the container, the containers start but state &amp;quot;unhealthy&amp;quot; for both the authentik server and postgres DB.  &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;CONTAINER ID   IMAGE                                  COMMAND                  CREATED         STATUS                     PORTS                                                                                  NAMES\nf7a99bc4b654   postgres:12-alpine                     &amp;quot;docker-entrypoint.s\u2026&amp;quot;   9 minutes ago   Up 9 minutes (healthy)     5432/tcp                                                                               authentik_postgresql_1\n4685625aa4f1   ghcr.io/goauthentik/server:2022.10.1   &amp;quot;/usr/local/bin/dumb\u2026&amp;quot;   9 minutes ago   Up 9 minutes (unhealthy)   0.0.0.0:9000-&amp;gt;9000/tcp, 0.0.0.0:9443-&amp;gt;9443/tcp     authentik_server_1\ncabf2d6b4eac   ghcr.io/goauthentik/server:2022.10.1   &amp;quot;/usr/local/bin/dumb\u2026&amp;quot;   9 minutes ago   Up 9 minutes (unhealthy)                                                                                          authentik_worker_1\n12ba0fe062d6   redis:alpine                           &amp;quot;docker-entrypoint.s\u2026&amp;quot;   9 minutes ago   Up 9 minutes (healthy)     6379/tcp                                                                               authentik_redis_1\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;When reviewing the logs in the container, it&amp;#39;s a constant spam of messages like the following:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;{&amp;quot;event&amp;quot;: &amp;quot;PostgreSQL connection successful&amp;quot;, &amp;quot;level&amp;quot;: &amp;quot;info&amp;quot;, &amp;quot;logger&amp;quot;: &amp;quot;authentik.lib.config&amp;quot;, &amp;quot;timestamp&amp;quot;: \n1668039630.2133188}\n{&amp;quot;event&amp;quot;: &amp;quot;PostgreSQL connection failed, retrying... (connection to server at \\&amp;quot;postgresql\\&amp;quot; (172.31.0.6), port \n5432 failed: FATAL:  password authentication failed for user \\&amp;quot;authentik\\&amp;quot;\\n)&amp;quot;, &amp;quot;level&amp;quot;: &amp;quot;info&amp;quot;, &amp;quot;logger&amp;quot;: \n&amp;quot;authentik.lib.config&amp;quot;, &amp;quot;timestamp&amp;quot;: 1668039631.2172213}\n{&amp;quot;event&amp;quot;: &amp;quot;PostgreSQL connection successful&amp;quot;, &amp;quot;level&amp;quot;: &amp;quot;info&amp;quot;, &amp;quot;logger&amp;quot;: &amp;quot;authentik.lib.config&amp;quot;, &amp;quot;timestamp&amp;quot;: \n1668039631.217386}\n{&amp;quot;event&amp;quot;: &amp;quot;PostgreSQL connection failed, retrying... (connection to server at \\&amp;quot;postgresql\\&amp;quot; (172.31.0.6), port \n5432 failed: FATAL:  password authentication failed for user \\&amp;quot;authentik\\&amp;quot;\\n)&amp;quot;, &amp;quot;level&amp;quot;: &amp;quot;info&amp;quot;, &amp;quot;logger&amp;quot;: \n&amp;quot;authentik.lib.config&amp;quot;, &amp;quot;timestamp&amp;quot;: 1668039632.2222059}\n{&amp;quot;event&amp;quot;: &amp;quot;PostgreSQL connection successful&amp;quot;, &amp;quot;level&amp;quot;: &amp;quot;info&amp;quot;, &amp;quot;logger&amp;quot;: &amp;quot;authentik.lib.config&amp;quot;, &amp;quot;timestamp&amp;quot;: \n1668039632.222359}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Any ideas? Makes no sense the connection is failing but also successful somehow? I followed the installation instructions to a T and they worked the first time - I don&amp;#39;t understand why it won&amp;#39;t work the second time around.&lt;/p&gt;\n\n&lt;p&gt;Would appreciate any help in getting this fixed. Thanks!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "82508a80-05bc-11eb-ae09-0effb713859f", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yr0a2r", "is_robot_indexable": true, "report_reasons": null, "author": "radakul", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yr0a2r/authentik_error_with_postgres/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yr0a2r/authentik_error_with_postgres/", "subreddit_subscribers": 209213, "created_utc": 1668039909.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": " \n\nNot sure what I'm doing wrong. I've installed Pi-hole and Unbound on my container platform (Synology).\n\n**Settings/Config:**\n\nMy routers IP is [192.168.0.1](https://192.168.0.1/) and my Pi-Hole is [192.168.0.30](https://192.168.0.30/) (Macvlan network).\n\nHere is the compose code:\n\n      pihole:\n        image: cbcrowe/pihole-unbound:latest\n        environment:\n          - ADMIN_EMAIL=xxxxxx@gmail.com\n          - TZ=Europe/London\n          - WEBPASSWORD=password\n          - ServerIP=192.168.0.30\n          - PIHOLE_DNS_=127.0.0.1#5335\n          - DNSSEC=true\n        networks:\n          macvlan:\n            ipv4_address: 192.168.0.30\n        volumes:\n          - /volume1/docker/pihole/dnsmasq.d:/etc/dnsmasq.d\n          - /volume1/docker/pihole/config:/etc/pihole\n        restart: unless-stopped\n\nI can access the Web interface fine. In Settings &gt; DNS, the following is set:\n\n* Custom Upstream DNS Server: [127.0.0.1#5335](https://127.0.0.1/#5335)\n* Respond only on interface eth0\n* Never forward non-FQDN A and AAAA queries\n* Never forward reverse lookups for private IP ranges\n* Use DNSSEC \n* Use conditional forwarding:\n   * Local network - [192.168.0.0/24](https://192.168.0.0/24) | IP add of router: [192.168.0.1](https://192.168.0.1/) | Local domain name: LAN\n\n**Issue 1:**\n\nSo far, just for testing, I've manually assigned my laptop the IP address of my Pi-Hole server and for the majority of time, I've noticed internet access is fine however intermittently I will get a 404 on a page. I have 2 other devices next to me on the same network and they can access the site fine.\n\n[Here is a Pi-hole screen shot](https://i.ibb.co/cgJ5JdM/01.jpg) of when the issue occurred when I tried to access the hub.Docker website at 16:34.\n\nThis is annoying and will potentially be a deal-breaker if I can't even get my own device working properly.\n\n**Issue 2:**\n\nWhen I change my router settings so that DHCP clients receive the Pi-Hole IP for their DNS - my 404's and timeouts starts becoming more and more regular. My partner also says that Internet access becomes intermittent.\n\n[Here is a Pi-Hole screen shot](https://i.ibb.co/Fw7Ny7t/02.jpg) of some warnings that appear when I enable all devices on my LAN to use Pi-Hole.\n\nHoping for some words of wisdom from you guys - any help is much appreciated.", "author_fullname": "t2_13pwo9", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Pi-Hole &amp; Unbound - Intermittent Internet Connectivity", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yqz98z", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.81, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1668037179.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Not sure what I&amp;#39;m doing wrong. I&amp;#39;ve installed Pi-hole and Unbound on my container platform (Synology).&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Settings/Config:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;My routers IP is &lt;a href=\"https://192.168.0.1/\"&gt;192.168.0.1&lt;/a&gt; and my Pi-Hole is &lt;a href=\"https://192.168.0.30/\"&gt;192.168.0.30&lt;/a&gt; (Macvlan network).&lt;/p&gt;\n\n&lt;p&gt;Here is the compose code:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;  pihole:\n    image: cbcrowe/pihole-unbound:latest\n    environment:\n      - ADMIN_EMAIL=xxxxxx@gmail.com\n      - TZ=Europe/London\n      - WEBPASSWORD=password\n      - ServerIP=192.168.0.30\n      - PIHOLE_DNS_=127.0.0.1#5335\n      - DNSSEC=true\n    networks:\n      macvlan:\n        ipv4_address: 192.168.0.30\n    volumes:\n      - /volume1/docker/pihole/dnsmasq.d:/etc/dnsmasq.d\n      - /volume1/docker/pihole/config:/etc/pihole\n    restart: unless-stopped\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I can access the Web interface fine. In Settings &amp;gt; DNS, the following is set:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Custom Upstream DNS Server: &lt;a href=\"https://127.0.0.1/#5335\"&gt;127.0.0.1#5335&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;Respond only on interface eth0&lt;/li&gt;\n&lt;li&gt;Never forward non-FQDN A and AAAA queries&lt;/li&gt;\n&lt;li&gt;Never forward reverse lookups for private IP ranges&lt;/li&gt;\n&lt;li&gt;Use DNSSEC &lt;/li&gt;\n&lt;li&gt;Use conditional forwarding:\n\n&lt;ul&gt;\n&lt;li&gt;Local network - &lt;a href=\"https://192.168.0.0/24\"&gt;192.168.0.0/24&lt;/a&gt; | IP add of router: &lt;a href=\"https://192.168.0.1/\"&gt;192.168.0.1&lt;/a&gt; | Local domain name: LAN&lt;/li&gt;\n&lt;/ul&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&lt;strong&gt;Issue 1:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;So far, just for testing, I&amp;#39;ve manually assigned my laptop the IP address of my Pi-Hole server and for the majority of time, I&amp;#39;ve noticed internet access is fine however intermittently I will get a 404 on a page. I have 2 other devices next to me on the same network and they can access the site fine.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://i.ibb.co/cgJ5JdM/01.jpg\"&gt;Here is a Pi-hole screen shot&lt;/a&gt; of when the issue occurred when I tried to access the hub.Docker website at 16:34.&lt;/p&gt;\n\n&lt;p&gt;This is annoying and will potentially be a deal-breaker if I can&amp;#39;t even get my own device working properly.&lt;/p&gt;\n\n&lt;p&gt;&lt;strong&gt;Issue 2:&lt;/strong&gt;&lt;/p&gt;\n\n&lt;p&gt;When I change my router settings so that DHCP clients receive the Pi-Hole IP for their DNS - my 404&amp;#39;s and timeouts starts becoming more and more regular. My partner also says that Internet access becomes intermittent.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://i.ibb.co/Fw7Ny7t/02.jpg\"&gt;Here is a Pi-Hole screen shot&lt;/a&gt; of some warnings that appear when I enable all devices on my LAN to use Pi-Hole.&lt;/p&gt;\n\n&lt;p&gt;Hoping for some words of wisdom from you guys - any help is much appreciated.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/7nQt4EAHiSjR3lnFxNLxKPpoVipM72o99mMEDUidfjQ.jpg?auto=webp&amp;s=8a1625996a909fd0c136debdff6a6f7912bfcb0c", "width": 2206, "height": 1852}, "resolutions": [{"url": "https://external-preview.redd.it/7nQt4EAHiSjR3lnFxNLxKPpoVipM72o99mMEDUidfjQ.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=378061b16b0b4ad4f88fe6a652829c3cc5e06893", "width": 108, "height": 90}, {"url": "https://external-preview.redd.it/7nQt4EAHiSjR3lnFxNLxKPpoVipM72o99mMEDUidfjQ.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=5c6537c45e807831afd1624b5f2d6f493e913cdd", "width": 216, "height": 181}, {"url": "https://external-preview.redd.it/7nQt4EAHiSjR3lnFxNLxKPpoVipM72o99mMEDUidfjQ.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=e63aabd286753c7160b3b480588b94049251eb4c", "width": 320, "height": 268}, {"url": "https://external-preview.redd.it/7nQt4EAHiSjR3lnFxNLxKPpoVipM72o99mMEDUidfjQ.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=cb07db8ce91d584c0618f0eac7f9bbbacf5b0be1", "width": 640, "height": 537}, {"url": "https://external-preview.redd.it/7nQt4EAHiSjR3lnFxNLxKPpoVipM72o99mMEDUidfjQ.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=bd267e3a604fa77c1c140964d80fe93297209442", "width": 960, "height": 805}, {"url": "https://external-preview.redd.it/7nQt4EAHiSjR3lnFxNLxKPpoVipM72o99mMEDUidfjQ.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=d0f11dcf53e30cbfb7e153925cae9e4a3c81859a", "width": 1080, "height": 906}], "variants": {}, "id": "jLymCv6M8sJNX7fDIPN-wHxIntMD8fPRGr388O_K_XM"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yqz98z", "is_robot_indexable": true, "report_reasons": null, "author": "bapesta786", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yqz98z/pihole_unbound_intermittent_internet_connectivity/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yqz98z/pihole_unbound_intermittent_internet_connectivity/", "subreddit_subscribers": 209213, "created_utc": 1668037179.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I am moving and would like to set up a temporary (3-6 mo) cloud vps without breaking the bank.\n\nI don't know much about how this would work, but I'm thinking oracle free tier + Nordvpn then torrent using the transmission vpn container directly onto a mounted hetzner storage box.\n\nDoes anyone have any thoughts on that? -- or specific workflows I can follow up accomplish this?\n\nOne thing I don't understand is how much file crawling these providers do.\nI'm guessing I should be encrypting and mounting the hetzner box, and i should somehow be encrypting the Oracle vm, but I'm not really sure if that's possible or what that really means.", "author_fullname": "t2_6y29133l", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "temporary cloud Plex/*arr/vaultwarden vps setup -- oracle free + hetzner storage box?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yqp4xf", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.59, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668014206.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am moving and would like to set up a temporary (3-6 mo) cloud vps without breaking the bank.&lt;/p&gt;\n\n&lt;p&gt;I don&amp;#39;t know much about how this would work, but I&amp;#39;m thinking oracle free tier + Nordvpn then torrent using the transmission vpn container directly onto a mounted hetzner storage box.&lt;/p&gt;\n\n&lt;p&gt;Does anyone have any thoughts on that? -- or specific workflows I can follow up accomplish this?&lt;/p&gt;\n\n&lt;p&gt;One thing I don&amp;#39;t understand is how much file crawling these providers do.\nI&amp;#39;m guessing I should be encrypting and mounting the hetzner box, and i should somehow be encrypting the Oracle vm, but I&amp;#39;m not really sure if that&amp;#39;s possible or what that really means.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yqp4xf", "is_robot_indexable": true, "report_reasons": null, "author": "bG9TiAMtmC", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yqp4xf/temporary_cloud_plexarrvaultwarden_vps_setup/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yqp4xf/temporary_cloud_plexarrvaultwarden_vps_setup/", "subreddit_subscribers": 209213, "created_utc": 1668014206.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hey guys.\n\nSo right now I'm onboarding users manually by creating their accounts in FreeIPA for them to then login with. Authelia is my current Auth solution.\n\nThis has always felt very clunky and so I'd like to switch to a solution that has an enrolment function, where the enrolment actually creates a user in FreeIPA instead of the auth app's internal DB.\n\nI've noticed a lot of these solutions advertise that they can sync or \"federate\" with LDAP (such as FreeIPA), but when you actually get there, the only thing they're doing is importing users and in some cases, writing password changes to back to LDAP. All new users created through their enrolment functions end up being internal and thus, disconnected from where the users need to be. This offers little more function than pairing Authelia and PWM for self service.\n\nDo either of the main solutions like Authentik or Keycloak (or others) actually enrol to LDAP?\n\nCheers!\n\n. \n\nEdit:\n\nHave any of you tried this? Found it a few days ago but not sure if it's defunct. It also would be a plus to not have to use a separate platform for signup/self service and another for protecting my reverse proxies/provide 2fa\n\nhttps://github.com/ubccr/mokey\n\n. \n\nEdit 2: Is this the function in Keycloak?\n\nhttps://github.com/keycloak/keycloak/discussions/14572\n\n.\n\nEdit 3: Damn. For keycloak, it looks like the only solution this isn't really possible with is FreeIPA but Keycloak can register users to LDAP when using other directories. Crazy that these are both Red Had productions and they can't speak to each other \ud83d\ude05\n\nhttps://keycloak.discourse.group/t/error-when-syncing-keycloak-with-freeipa/4183", "author_fullname": "t2_zce13", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Can Authentik/Keycloak and/or any other Auth solutions CREATE FreeIPA users?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yqkgf8", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.72, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": 1668031037.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1668003974.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey guys.&lt;/p&gt;\n\n&lt;p&gt;So right now I&amp;#39;m onboarding users manually by creating their accounts in FreeIPA for them to then login with. Authelia is my current Auth solution.&lt;/p&gt;\n\n&lt;p&gt;This has always felt very clunky and so I&amp;#39;d like to switch to a solution that has an enrolment function, where the enrolment actually creates a user in FreeIPA instead of the auth app&amp;#39;s internal DB.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ve noticed a lot of these solutions advertise that they can sync or &amp;quot;federate&amp;quot; with LDAP (such as FreeIPA), but when you actually get there, the only thing they&amp;#39;re doing is importing users and in some cases, writing password changes to back to LDAP. All new users created through their enrolment functions end up being internal and thus, disconnected from where the users need to be. This offers little more function than pairing Authelia and PWM for self service.&lt;/p&gt;\n\n&lt;p&gt;Do either of the main solutions like Authentik or Keycloak (or others) actually enrol to LDAP?&lt;/p&gt;\n\n&lt;p&gt;Cheers!&lt;/p&gt;\n\n&lt;p&gt;. &lt;/p&gt;\n\n&lt;p&gt;Edit:&lt;/p&gt;\n\n&lt;p&gt;Have any of you tried this? Found it a few days ago but not sure if it&amp;#39;s defunct. It also would be a plus to not have to use a separate platform for signup/self service and another for protecting my reverse proxies/provide 2fa&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://github.com/ubccr/mokey\"&gt;https://github.com/ubccr/mokey&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;. &lt;/p&gt;\n\n&lt;p&gt;Edit 2: Is this the function in Keycloak?&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://github.com/keycloak/keycloak/discussions/14572\"&gt;https://github.com/keycloak/keycloak/discussions/14572&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;.&lt;/p&gt;\n\n&lt;p&gt;Edit 3: Damn. For keycloak, it looks like the only solution this isn&amp;#39;t really possible with is FreeIPA but Keycloak can register users to LDAP when using other directories. Crazy that these are both Red Had productions and they can&amp;#39;t speak to each other \ud83d\ude05&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://keycloak.discourse.group/t/error-when-syncing-keycloak-with-freeipa/4183\"&gt;https://keycloak.discourse.group/t/error-when-syncing-keycloak-with-freeipa/4183&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/vlU3_pC3PFhaVwA6Jq1-NO2yw-Pcd_VZdfxWCAVha7M.jpg?auto=webp&amp;s=66c1e434895fc30d59d348f0c5130e5bae3c408f", "width": 1200, "height": 600}, "resolutions": [{"url": "https://external-preview.redd.it/vlU3_pC3PFhaVwA6Jq1-NO2yw-Pcd_VZdfxWCAVha7M.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=341030a9ef4a401b9d2f3095818a4207ebc6c921", "width": 108, "height": 54}, {"url": "https://external-preview.redd.it/vlU3_pC3PFhaVwA6Jq1-NO2yw-Pcd_VZdfxWCAVha7M.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=5ec1bcb3a27f6bd5439105d96e27306b105a02f4", "width": 216, "height": 108}, {"url": "https://external-preview.redd.it/vlU3_pC3PFhaVwA6Jq1-NO2yw-Pcd_VZdfxWCAVha7M.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=ed90b01dfbf759cf610412f4b0526f0930913a11", "width": 320, "height": 160}, {"url": "https://external-preview.redd.it/vlU3_pC3PFhaVwA6Jq1-NO2yw-Pcd_VZdfxWCAVha7M.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=f0c0b6f1855e489100d652286fbdf79c7b50d365", "width": 640, "height": 320}, {"url": "https://external-preview.redd.it/vlU3_pC3PFhaVwA6Jq1-NO2yw-Pcd_VZdfxWCAVha7M.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=fbb2951019e3cbb7c5b7b81828e2bb104b606c8a", "width": 960, "height": 480}, {"url": "https://external-preview.redd.it/vlU3_pC3PFhaVwA6Jq1-NO2yw-Pcd_VZdfxWCAVha7M.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=6fc561a55dfb99b1471382f91606acb9cda79948", "width": 1080, "height": 540}], "variants": {}, "id": "RIeZfeGIhduZP2C5aE5EWWzG9JeK16TpXwytYK9aKbA"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yqkgf8", "is_robot_indexable": true, "report_reasons": null, "author": "Avsynth", "discussion_type": null, "num_comments": 15, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yqkgf8/can_authentikkeycloak_andor_any_other_auth/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yqkgf8/can_authentikkeycloak_andor_any_other_auth/", "subreddit_subscribers": 209213, "created_utc": 1668003974.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "So I have 4 drives on my server - is there a way to tell minIO to put some buckets on a different drive rather than the default one?", "author_fullname": "t2_u0sygfhk", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "MinIO - location of buckets?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": true, "name": "t3_yrd5fw", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.76, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Need Help", "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668082510.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;So I have 4 drives on my server - is there a way to tell minIO to put some buckets on a different drive rather than the default one?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "82508a80-05bc-11eb-ae09-0effb713859f", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yrd5fw", "is_robot_indexable": true, "report_reasons": null, "author": "SqnCdr", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yrd5fw/minio_location_of_buckets/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yrd5fw/minio_location_of_buckets/", "subreddit_subscribers": 209213, "created_utc": 1668082510.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "In a desperate attempt to move away from Adobe's photography subscription (I mainly used Lightroom Classic to organize my family photos on a NAS), I recently \u2013 and with the help of this sub \u2013 stumbled across Photoprism. I tried it in read-only mode on my existing photo collection and decided that I quite liked it. So I went ahead and bought a 4-bay QNAP with Docker capabilities and a bunch of new harddisk drives. I then exported everything from Lightroom (to maintain my edits and keep the source files untouched ... for now) and started to fill in missing EXIF date tags, teach the face-recognition algorithms and so on. I'm not fully done yet, but I quite like what I am seeing, and wife/family acceptance is fine, too. \n\nBut there are a few basic things missing, like:  \n\\- an easy way to batch edit tags and other metadata  \n\\- basic retouching and editing (or even simple things like \"turn image 90 degrees\")  \n\\- simple file and folder operations like \"copy\" or \"move\"\n\nApart from that, I really love Photoprism! \n\nBut I was wondering: would it make sense to just spin up another Docker container pointing to the same directories and use a tool like Piwigo or LibrePhotos alongside Photoprism? I guess there are quite a few reasons not to do something like that (permissions, constant need for rescanning, access violations, possible data corruption, ...), but maybe anybody here has already tried something like this? I'd really appreciate to hear some thoughts and maybe even first-hand experiences. \n\nPS: I've already tried running DarkTable alongside Photoprism ... but found it quite unusable \u2013 mostly due to the laggy, unintuitive UI.", "author_fullname": "t2_9qkcj", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Does it make sense to operate two or more services for personal image hosting and organizing?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "phototools", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": true, "name": "t3_yrd4o9", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.76, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Photo Tools", "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668082455.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;In a desperate attempt to move away from Adobe&amp;#39;s photography subscription (I mainly used Lightroom Classic to organize my family photos on a NAS), I recently \u2013 and with the help of this sub \u2013 stumbled across Photoprism. I tried it in read-only mode on my existing photo collection and decided that I quite liked it. So I went ahead and bought a 4-bay QNAP with Docker capabilities and a bunch of new harddisk drives. I then exported everything from Lightroom (to maintain my edits and keep the source files untouched ... for now) and started to fill in missing EXIF date tags, teach the face-recognition algorithms and so on. I&amp;#39;m not fully done yet, but I quite like what I am seeing, and wife/family acceptance is fine, too. &lt;/p&gt;\n\n&lt;p&gt;But there are a few basic things missing, like:&lt;br/&gt;\n- an easy way to batch edit tags and other metadata&lt;br/&gt;\n- basic retouching and editing (or even simple things like &amp;quot;turn image 90 degrees&amp;quot;)&lt;br/&gt;\n- simple file and folder operations like &amp;quot;copy&amp;quot; or &amp;quot;move&amp;quot;&lt;/p&gt;\n\n&lt;p&gt;Apart from that, I really love Photoprism! &lt;/p&gt;\n\n&lt;p&gt;But I was wondering: would it make sense to just spin up another Docker container pointing to the same directories and use a tool like Piwigo or LibrePhotos alongside Photoprism? I guess there are quite a few reasons not to do something like that (permissions, constant need for rescanning, access violations, possible data corruption, ...), but maybe anybody here has already tried something like this? I&amp;#39;d really appreciate to hear some thoughts and maybe even first-hand experiences. &lt;/p&gt;\n\n&lt;p&gt;PS: I&amp;#39;ve already tried running DarkTable alongside Photoprism ... but found it quite unusable \u2013 mostly due to the laggy, unintuitive UI.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "4474b0e2-7e68-11e9-96f8-0e01fac4c7aa", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yrd4o9", "is_robot_indexable": true, "report_reasons": null, "author": "juekr", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yrd4o9/does_it_make_sense_to_operate_two_or_more/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yrd4o9/does_it_make_sense_to_operate_two_or_more/", "subreddit_subscribers": 209213, "created_utc": 1668082455.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hey all, in short, my school has opted to shaft Alumni and cancel our entire G suite except for 100mb of email space. Problem is, my entire life is based around my University email, literally close to a decade of things. I have figured out a solution for the drive portion (nextcloud) however, I have no idea how I can continue using my email and get around the 100mb limit. I understand I can email forward and have emails auto deleted, however I would also like to be able to reply via education gmail. Does anyone have any ideas on how this can be done? \n\nWhat I was visualizing is somewhat a 'middleman' in a sense, where emails are sent to edu gmail -&gt; forward to self host email &amp; stored -&gt; deleted from edu gmail -&gt; response is sent from self-hosted email &amp; rendered to be sent through edu gmail ?", "author_fullname": "t2_5984h9e", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Self-hosted.. gmail?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yr658k", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.67, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Need Help", "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668057446.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey all, in short, my school has opted to shaft Alumni and cancel our entire G suite except for 100mb of email space. Problem is, my entire life is based around my University email, literally close to a decade of things. I have figured out a solution for the drive portion (nextcloud) however, I have no idea how I can continue using my email and get around the 100mb limit. I understand I can email forward and have emails auto deleted, however I would also like to be able to reply via education gmail. Does anyone have any ideas on how this can be done? &lt;/p&gt;\n\n&lt;p&gt;What I was visualizing is somewhat a &amp;#39;middleman&amp;#39; in a sense, where emails are sent to edu gmail -&amp;gt; forward to self host email &amp;amp; stored -&amp;gt; deleted from edu gmail -&amp;gt; response is sent from self-hosted email &amp;amp; rendered to be sent through edu gmail ?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "82508a80-05bc-11eb-ae09-0effb713859f", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yr658k", "is_robot_indexable": true, "report_reasons": null, "author": "imherefortheclothes", "discussion_type": null, "num_comments": 10, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yr658k/selfhosted_gmail/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yr658k/selfhosted_gmail/", "subreddit_subscribers": 209213, "created_utc": 1668057446.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hey guys, I have purchased a VPS to self-host some of my webservices like Nextcloud, etc.\n\nBut I got a question here: Should I have to install SSL certificate on these services given I only use Wireguard to connect them in VLAN (not use public IP/port)?\n\nBasically, Wireguard can secure the stream in the tunnel, and my understanding is there is no need to do another encryption. Is the idea right?\n\nThanks!", "author_fullname": "t2_trbdtcfd", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Do I need to install SSL certificate (HTTPS) if I only use webservices in Wireguard?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yr2f79", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.57, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668045984.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey guys, I have purchased a VPS to self-host some of my webservices like Nextcloud, etc.&lt;/p&gt;\n\n&lt;p&gt;But I got a question here: Should I have to install SSL certificate on these services given I only use Wireguard to connect them in VLAN (not use public IP/port)?&lt;/p&gt;\n\n&lt;p&gt;Basically, Wireguard can secure the stream in the tunnel, and my understanding is there is no need to do another encryption. Is the idea right?&lt;/p&gt;\n\n&lt;p&gt;Thanks!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yr2f79", "is_robot_indexable": true, "report_reasons": null, "author": "AncientLabCrack", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yr2f79/do_i_need_to_install_ssl_certificate_https_if_i/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yr2f79/do_i_need_to_install_ssl_certificate_https_if_i/", "subreddit_subscribers": 209213, "created_utc": 1668045984.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "So, my grandfather used to say \"before you start a job, make sure you have all the tools/parts\". I'm trying to figure out how to best use the parts I've just obtained.\n\nFor a while now I've had a FreeNAS box running on old PC hardware (older i5). That's been working fine, and it's running Jellyfin, but I've been doing everything manually. \n\nRecently I inherited some hardware from a job and I'm wondering how best to put it to use.\n\nI now have an unused Mac Pro (2013 \"trash can\" version), an empty Synology DS2415+, 2 Raspberry Pi 3-B's, 3 Seagate 7200rpm (but 750gb) drives, and an assortment of external WD drives (2-4tb each, but none of them match).\n\nSo, a Frankenstein project to be sure. \n\nA couple questions:\n\nWhat should I run Jellyfin on? What would be the best for transcoding? If I wanted to set up SABnzbd, Sonarr/Radarr, etc to automate everything, what would that run best on (I've never used any of those before)?\n\nMy first thought was use the Mac Pro to run the apps, it has the most horse power (12-core Xeon E5, 64GB of DDR3). But do I use that for SAB/rarr and then have it pass everything to FreeNAS? Do I put the drives in the FreeNAS or the Synology (even though they don't match)? Do I use FreeNAS to run everything but set the Synology as the attached storage? Do I get rid of FreeNAS and just use the Synology and the Mac instead? Do I use the Pi's for anything (like PiHole) and is there any advantage to that over just running them in a container on the other systems?\n\nI have a Win10 PC I use on a daily basis, so the Mac is purely extra, and not used while everything is running (if that makes a difference).\n\nAny advice in how you'd best use a collection of pieces like this would be most appreciated!\n\nEdit: Yes, I know FreeNAS is now TrueNAS, that's how long it's been since I've upgraded anything, lol.", "author_fullname": "t2_49nyw", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Old machines into a useable SH project/network?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yqojfr", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.76, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Need Help", "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": 1668013367.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668012947.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;So, my grandfather used to say &amp;quot;before you start a job, make sure you have all the tools/parts&amp;quot;. I&amp;#39;m trying to figure out how to best use the parts I&amp;#39;ve just obtained.&lt;/p&gt;\n\n&lt;p&gt;For a while now I&amp;#39;ve had a FreeNAS box running on old PC hardware (older i5). That&amp;#39;s been working fine, and it&amp;#39;s running Jellyfin, but I&amp;#39;ve been doing everything manually. &lt;/p&gt;\n\n&lt;p&gt;Recently I inherited some hardware from a job and I&amp;#39;m wondering how best to put it to use.&lt;/p&gt;\n\n&lt;p&gt;I now have an unused Mac Pro (2013 &amp;quot;trash can&amp;quot; version), an empty Synology DS2415+, 2 Raspberry Pi 3-B&amp;#39;s, 3 Seagate 7200rpm (but 750gb) drives, and an assortment of external WD drives (2-4tb each, but none of them match).&lt;/p&gt;\n\n&lt;p&gt;So, a Frankenstein project to be sure. &lt;/p&gt;\n\n&lt;p&gt;A couple questions:&lt;/p&gt;\n\n&lt;p&gt;What should I run Jellyfin on? What would be the best for transcoding? If I wanted to set up SABnzbd, Sonarr/Radarr, etc to automate everything, what would that run best on (I&amp;#39;ve never used any of those before)?&lt;/p&gt;\n\n&lt;p&gt;My first thought was use the Mac Pro to run the apps, it has the most horse power (12-core Xeon E5, 64GB of DDR3). But do I use that for SAB/rarr and then have it pass everything to FreeNAS? Do I put the drives in the FreeNAS or the Synology (even though they don&amp;#39;t match)? Do I use FreeNAS to run everything but set the Synology as the attached storage? Do I get rid of FreeNAS and just use the Synology and the Mac instead? Do I use the Pi&amp;#39;s for anything (like PiHole) and is there any advantage to that over just running them in a container on the other systems?&lt;/p&gt;\n\n&lt;p&gt;I have a Win10 PC I use on a daily basis, so the Mac is purely extra, and not used while everything is running (if that makes a difference).&lt;/p&gt;\n\n&lt;p&gt;Any advice in how you&amp;#39;d best use a collection of pieces like this would be most appreciated!&lt;/p&gt;\n\n&lt;p&gt;Edit: Yes, I know FreeNAS is now TrueNAS, that&amp;#39;s how long it&amp;#39;s been since I&amp;#39;ve upgraded anything, lol.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "82508a80-05bc-11eb-ae09-0effb713859f", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yqojfr", "is_robot_indexable": true, "report_reasons": null, "author": "docholoday", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yqojfr/old_machines_into_a_useable_sh_projectnetwork/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yqojfr/old_machines_into_a_useable_sh_projectnetwork/", "subreddit_subscribers": 209213, "created_utc": 1668012947.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I got the Oracle Free Tier VPS and i'm trying to setup the DNS server tried technitium but since it require Remote couldnt get it working also the link didnt worked outside the network.\n\n&amp;#x200B;\n\nSo my question is is there a simpler way to setup dns from command line service which could open all required ports as well ? Since it seems like it might require some port to be open which i'm not well versed with", "author_fullname": "t2_fk8rn", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Stucked in Setting up DNS", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": true, "name": "t3_yre5lt", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Need Help", "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668085040.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I got the Oracle Free Tier VPS and i&amp;#39;m trying to setup the DNS server tried technitium but since it require Remote couldnt get it working also the link didnt worked outside the network.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;So my question is is there a simpler way to setup dns from command line service which could open all required ports as well ? Since it seems like it might require some port to be open which i&amp;#39;m not well versed with&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "82508a80-05bc-11eb-ae09-0effb713859f", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yre5lt", "is_robot_indexable": true, "report_reasons": null, "author": "inthesum", "discussion_type": null, "num_comments": 15, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yre5lt/stucked_in_setting_up_dns/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yre5lt/stucked_in_setting_up_dns/", "subreddit_subscribers": 209213, "created_utc": 1668085040.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "This is a bit of a weird ask. Does anybody know of something like Slack or Discord (self hosted of course) that has an iOS app and a reasonably easy to access API?\n\nWhat I\u2019m essentially trying to do is built a set of interactive chatbots for my personal use that isn\u2019t reliant on external services. Some of the things I\u2019d want to be able to do is type something like \u201cadd milk to shopping list\u201d and have the bot know that it should add milk to a todo list in Nextcloud. Or to say \u201cweather\u201d and it would pull the weather and maybe display a visualization in the chat application. Or some more advanced stuff like \u201cturn on [device on network]\u201d and have it send a magic packet to that machine. \n\nI\u2019m a programmer (Python mainly), so I have the APIs already finished and am using them. But I don\u2019t have anything yet that does what I\u2019m describing and searching is a bit tricky since it isn\u2019t just a self hosted app I\u2019m looking for but something that has iOS etc. \n\nSo before I reinvent the wheel, any recommendations? Maybe just self host an irc client and get one for my phone and call it a day?", "author_fullname": "t2_52v6c52f", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Automation with Chat app like Slack?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "Automation", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": true, "name": "t3_yrdy7o", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Automation", "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668084543.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;This is a bit of a weird ask. Does anybody know of something like Slack or Discord (self hosted of course) that has an iOS app and a reasonably easy to access API?&lt;/p&gt;\n\n&lt;p&gt;What I\u2019m essentially trying to do is built a set of interactive chatbots for my personal use that isn\u2019t reliant on external services. Some of the things I\u2019d want to be able to do is type something like \u201cadd milk to shopping list\u201d and have the bot know that it should add milk to a todo list in Nextcloud. Or to say \u201cweather\u201d and it would pull the weather and maybe display a visualization in the chat application. Or some more advanced stuff like \u201cturn on [device on network]\u201d and have it send a magic packet to that machine. &lt;/p&gt;\n\n&lt;p&gt;I\u2019m a programmer (Python mainly), so I have the APIs already finished and am using them. But I don\u2019t have anything yet that does what I\u2019m describing and searching is a bit tricky since it isn\u2019t just a self hosted app I\u2019m looking for but something that has iOS etc. &lt;/p&gt;\n\n&lt;p&gt;So before I reinvent the wheel, any recommendations? Maybe just self host an irc client and get one for my phone and call it a day?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "13cfcd28-7e68-11e9-8ad0-0edb644073ce", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yrdy7o", "is_robot_indexable": true, "report_reasons": null, "author": "LawfulMuffin", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yrdy7o/automation_with_chat_app_like_slack/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yrdy7o/automation_with_chat_app_like_slack/", "subreddit_subscribers": 209213, "created_utc": 1668084543.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I've tried countless ways to make yacht run but none worked. Until i found a github that suggested this line of command: \"docker run --rm -d -v /var/run/docker.sock:/var/run/docker.sock containrrr/watchtower:latest --cleanup --run-once &lt;container-name&gt;\".\n\nThis makes yacht work and i'm able to go on a browser and get to the login screen, but that's it really.\n\nI had yacht installed before but it stopped working so i reinstalled it but now i can't login. I just get an error message: \" Internal Server Error: undefined \" even if i use the standard login: user: \"[admin@yacht.local](mailto:admin@yacht.local)\" pass: \"pass\".Thanks in advance\n\nedit: Thanks everyone for helping. It suddenly accepted the default password and started working again. No idea what i did", "author_fullname": "t2_6xl2xfly", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Can't login to Yacht", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": true, "name": "t3_yrdiyg", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.67, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Need Help", "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": 1668086736.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668083459.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;ve tried countless ways to make yacht run but none worked. Until i found a github that suggested this line of command: &amp;quot;docker run --rm -d -v /var/run/docker.sock:/var/run/docker.sock containrrr/watchtower:latest --cleanup --run-once &amp;lt;container-name&amp;gt;&amp;quot;.&lt;/p&gt;\n\n&lt;p&gt;This makes yacht work and i&amp;#39;m able to go on a browser and get to the login screen, but that&amp;#39;s it really.&lt;/p&gt;\n\n&lt;p&gt;I had yacht installed before but it stopped working so i reinstalled it but now i can&amp;#39;t login. I just get an error message: &amp;quot; Internal Server Error: undefined &amp;quot; even if i use the standard login: user: &amp;quot;[&lt;a href=\"mailto:admin@yacht.local\"&gt;admin@yacht.local&lt;/a&gt;](mailto:&lt;a href=\"mailto:admin@yacht.local\"&gt;admin@yacht.local&lt;/a&gt;)&amp;quot; pass: &amp;quot;pass&amp;quot;.Thanks in advance&lt;/p&gt;\n\n&lt;p&gt;edit: Thanks everyone for helping. It suddenly accepted the default password and started working again. No idea what i did&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "82508a80-05bc-11eb-ae09-0effb713859f", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yrdiyg", "is_robot_indexable": true, "report_reasons": null, "author": "Doomaid5555", "discussion_type": null, "num_comments": 14, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yrdiyg/cant_login_to_yacht/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yrdiyg/cant_login_to_yacht/", "subreddit_subscribers": 209213, "created_utc": 1668083459.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hello, I am a newby to homelab and self-hosting. I am a Software Engineering student who would like to both use an acquired domain and an old laptop for utility, however, as of now nothing other than an occasional Minecraft server has come out of it.\n\nRecently, as I delve deeper into dependencies and collaborating with my peers, I have developed an interest in managing my own repositories. I specially use git and maven repositories, so I would be mostly interested in those, but I also have an old SONY E-Reader with a bunch of books that slow it down, and in general, would just like to utilize the 1.5TB of storage my old laptop has for cool network data storage. The only thing I am uninterested in is backups and general file storage, as I am already using external physical drives for those.\n\nI have heard about Gitea for Git repositories, Nexus 3 for Maven Artifacts, and Calibre for E-books, but I am looking for feedback on the learning curve for these or alternatives. Also open to different ideas of what I could host (repositories or not).", "author_fullname": "t2_l3iv44l9", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Looking for repositories to self host", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yrauq4", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.67, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668075333.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello, I am a newby to homelab and self-hosting. I am a Software Engineering student who would like to both use an acquired domain and an old laptop for utility, however, as of now nothing other than an occasional Minecraft server has come out of it.&lt;/p&gt;\n\n&lt;p&gt;Recently, as I delve deeper into dependencies and collaborating with my peers, I have developed an interest in managing my own repositories. I specially use git and maven repositories, so I would be mostly interested in those, but I also have an old SONY E-Reader with a bunch of books that slow it down, and in general, would just like to utilize the 1.5TB of storage my old laptop has for cool network data storage. The only thing I am uninterested in is backups and general file storage, as I am already using external physical drives for those.&lt;/p&gt;\n\n&lt;p&gt;I have heard about Gitea for Git repositories, Nexus 3 for Maven Artifacts, and Calibre for E-books, but I am looking for feedback on the learning curve for these or alternatives. Also open to different ideas of what I could host (repositories or not).&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yrauq4", "is_robot_indexable": true, "report_reasons": null, "author": "Ieris19", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yrauq4/looking_for_repositories_to_self_host/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yrauq4/looking_for_repositories_to_self_host/", "subreddit_subscribers": 209213, "created_utc": 1668075333.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Is there a tool that would get a name and check if top-level domains made from the last letters of that name exist and display them as a list ? For example, \"youtube\" as an input would give \"[youtu.be](https://youtu.be)\" and \"you.tube\" .", "author_fullname": "t2_254e4x5n", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Find all possible top-level domains at the end of a word", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "webservers", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yrahpa", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Webserver", "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1668073983.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Is there a tool that would get a name and check if top-level domains made from the last letters of that name exist and display them as a list ? For example, &amp;quot;youtube&amp;quot; as an input would give &amp;quot;&lt;a href=\"https://youtu.be\"&gt;youtu.be&lt;/a&gt;&amp;quot; and &amp;quot;you.tube&amp;quot; .&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/cWbi7-pT08SOu3UUURlvAx2ubmLRFs3xHih5tj-TLZs.jpg?auto=webp&amp;s=c7b059f8fd49c6466944224739f41e3a9a1ef143", "width": 1200, "height": 1200}, "resolutions": [{"url": "https://external-preview.redd.it/cWbi7-pT08SOu3UUURlvAx2ubmLRFs3xHih5tj-TLZs.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;s=a627a7b77a85a517c8468ea3a2c7b080f726dc7f", "width": 108, "height": 108}, {"url": "https://external-preview.redd.it/cWbi7-pT08SOu3UUURlvAx2ubmLRFs3xHih5tj-TLZs.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;s=094ad6a9f060255475e167b3a98c7459042875c4", "width": 216, "height": 216}, {"url": "https://external-preview.redd.it/cWbi7-pT08SOu3UUURlvAx2ubmLRFs3xHih5tj-TLZs.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;s=9a451f24a558654aafbddb2a68898421307d81cf", "width": 320, "height": 320}, {"url": "https://external-preview.redd.it/cWbi7-pT08SOu3UUURlvAx2ubmLRFs3xHih5tj-TLZs.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;s=1fd9bcb2f1fc44212df0fe10259abaeb95ddcc12", "width": 640, "height": 640}, {"url": "https://external-preview.redd.it/cWbi7-pT08SOu3UUURlvAx2ubmLRFs3xHih5tj-TLZs.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;s=2f38de69c227191ea6e5fe2e0121258421be9846", "width": 960, "height": 960}, {"url": "https://external-preview.redd.it/cWbi7-pT08SOu3UUURlvAx2ubmLRFs3xHih5tj-TLZs.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;s=62f904a666d31178a89d2a015a41b12686d335f7", "width": 1080, "height": 1080}], "variants": {}, "id": "VtXpX02hOa2Ede1OTX9DNBUbAQLHhj8_B8HeoimQzi8"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "73cd8238-7e68-11e9-a3b5-0eb4a9a3f2d6", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yrahpa", "is_robot_indexable": true, "report_reasons": null, "author": "imsosappy", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yrahpa/find_all_possible_toplevel_domains_at_the_end_of/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yrahpa/find_all_possible_toplevel_domains_at_the_end_of/", "subreddit_subscribers": 209213, "created_utc": 1668073983.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hi everyone,\n\ni've just build my new server and installed proxmox on it (loving it so far).\n\nThe old server runs debian with \\~60 docker containers. I'm planning to use a debian VM for docker on the new Proxmox Server.\n\nNow i'm kinda stumped on 2 questions in regards of migrating everything\n\n1. How can i migrate the existing docker containers? Most of them have been created using the docker command or portainer so i don't have a docker-compose file for most of them. What would be the best way to get them to the new machine? I don't need to migrate any docker volumes as i have all important data on bind mounts.\n2. My Media storage are 5 ext4 hdds that are moutned under a single point via mergerfs on the old server. I found a tutorial on how to pass through hdds to a vm in proxmox. My plan is to hook those hdds up to the new server, pass them thorugh to the debian VM and create the mergerfs mountpoint inside the vm. Is this a good way to go forward or what would you suggest?\n\n&amp;#x200B;\n\nthanks in advance for any help!", "author_fullname": "t2_c7o44wyk", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Migrate Containers and Mergerfs to new Proxmox Server", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yr9zsh", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668072028.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi everyone,&lt;/p&gt;\n\n&lt;p&gt;i&amp;#39;ve just build my new server and installed proxmox on it (loving it so far).&lt;/p&gt;\n\n&lt;p&gt;The old server runs debian with ~60 docker containers. I&amp;#39;m planning to use a debian VM for docker on the new Proxmox Server.&lt;/p&gt;\n\n&lt;p&gt;Now i&amp;#39;m kinda stumped on 2 questions in regards of migrating everything&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;How can i migrate the existing docker containers? Most of them have been created using the docker command or portainer so i don&amp;#39;t have a docker-compose file for most of them. What would be the best way to get them to the new machine? I don&amp;#39;t need to migrate any docker volumes as i have all important data on bind mounts.&lt;/li&gt;\n&lt;li&gt;My Media storage are 5 ext4 hdds that are moutned under a single point via mergerfs on the old server. I found a tutorial on how to pass through hdds to a vm in proxmox. My plan is to hook those hdds up to the new server, pass them thorugh to the debian VM and create the mergerfs mountpoint inside the vm. Is this a good way to go forward or what would you suggest?&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;thanks in advance for any help!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yr9zsh", "is_robot_indexable": true, "report_reasons": null, "author": "ThreeButtonBob", "discussion_type": null, "num_comments": 9, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yr9zsh/migrate_containers_and_mergerfs_to_new_proxmox/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yr9zsh/migrate_containers_and_mergerfs_to_new_proxmox/", "subreddit_subscribers": 209213, "created_utc": 1668072028.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hello! I\u2019m going to try and deploy my first Postgres db on docker compose soon I think, or at least in general I will be standing it up somewhere. My question is if I do it in docker compose, should that one instance only be for one other service or can it be used for multiple services?  \n\nI guess since I\u2019m not too familiar, when you create the db and connect multiple services. Does that create separate tables in Postgres or is it just one giant table that is shared?", "author_fullname": "t2_1n3djnzv", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Docker Compose and Postgres Question", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yr4u5i", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.67, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Need Help", "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668053175.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello! I\u2019m going to try and deploy my first Postgres db on docker compose soon I think, or at least in general I will be standing it up somewhere. My question is if I do it in docker compose, should that one instance only be for one other service or can it be used for multiple services?  &lt;/p&gt;\n\n&lt;p&gt;I guess since I\u2019m not too familiar, when you create the db and connect multiple services. Does that create separate tables in Postgres or is it just one giant table that is shared?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "82508a80-05bc-11eb-ae09-0effb713859f", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yr4u5i", "is_robot_indexable": true, "report_reasons": null, "author": "ccigas", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yr4u5i/docker_compose_and_postgres_question/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yr4u5i/docker_compose_and_postgres_question/", "subreddit_subscribers": 209213, "created_utc": 1668053175.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I wasn't sure how to title this post. I have a VPS where I host some services via docker. I use Traefik to be able to access the services using subdomains. I also host some services at home. I wanted to know if there is a way I can link the 2 docker instances together and use Traefik on the VPS to manage access to the services at home.", "author_fullname": "t2_344my", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Docker/reverse proxy (Traefik) question", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yr1fmk", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668043100.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I wasn&amp;#39;t sure how to title this post. I have a VPS where I host some services via docker. I use Traefik to be able to access the services using subdomains. I also host some services at home. I wanted to know if there is a way I can link the 2 docker instances together and use Traefik on the VPS to manage access to the services at home.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yr1fmk", "is_robot_indexable": true, "report_reasons": null, "author": "sgregg85", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yr1fmk/dockerreverse_proxy_traefik_question/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yr1fmk/dockerreverse_proxy_traefik_question/", "subreddit_subscribers": 209213, "created_utc": 1668043100.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Is there a way to host Mastodon on Windows?", "author_fullname": "t2_6wx7es8k", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Hosting Mastodon on Windows", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_yqyh3l", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.57, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1668035132.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Is there a way to host Mastodon on Windows?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "yqyh3l", "is_robot_indexable": true, "report_reasons": null, "author": "SnooRegrets5190", "discussion_type": null, "num_comments": 14, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/yqyh3l/hosting_mastodon_on_windows/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/yqyh3l/hosting_mastodon_on_windows/", "subreddit_subscribers": 209213, "created_utc": 1668035132.0, "num_crossposts": 0, "media": null, "is_video": false}}], "before": null}}