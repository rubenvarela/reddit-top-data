{"kind": "Listing", "data": {"after": "t3_11aud2m", "dist": 25, "modhash": "", "geo_filter": "", "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hi r/selfhosted,\n\nsince my last post I've cleaned my repository on GitHub with various Docker Compose examples. I've added a clean readme, issue templates and also short descriptions for each currently available compose project (aligned to the popular [awesome-selfhosted](https://github.com/awesome-selfhosted/awesome-selfhosted) repo).\n\nI'll update the repository regularly if I come across bugs or something note-worthy. For example, if a cool project does not yet provide a docker-compose.yml or if the setup is a bit more complicated, combining various docker images with required config files etc. (like traefik or a grafana monitoring stack combining multiple images like promtail, influxdb, telegraf and so on).\n\nFeel free to check it out if you haven't yet:\n\n[https://github.com/Haxxnet/Compose-Examples](https://github.com/Haxxnet/Compose-Examples)\n\nIf you have any missing compose examples that are not easily publicly available or already documented well enough by the project maintainer, feel free to issue PRs or open an issue with a request for a missing compose example. Happy to help out and extend the examples.\n\nCheers!", "author_fullname": "t2_92wut60p", "saved": false, "mod_reason_title": null, "gilded": 1, "clicked": false, "title": "Awesome Docker Compose Examples", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "dockermanagement", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11b8q48", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.96, "author_flair_background_color": null, "subreddit_type": "public", "ups": 234, "total_awards_received": 1, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Docker Management", "can_mod_post": false, "score": 234, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": true, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {"gid_2": 1}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1677289820.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi &lt;a href=\"/r/selfhosted\"&gt;r/selfhosted&lt;/a&gt;,&lt;/p&gt;\n\n&lt;p&gt;since my last post I&amp;#39;ve cleaned my repository on GitHub with various Docker Compose examples. I&amp;#39;ve added a clean readme, issue templates and also short descriptions for each currently available compose project (aligned to the popular &lt;a href=\"https://github.com/awesome-selfhosted/awesome-selfhosted\"&gt;awesome-selfhosted&lt;/a&gt; repo).&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ll update the repository regularly if I come across bugs or something note-worthy. For example, if a cool project does not yet provide a docker-compose.yml or if the setup is a bit more complicated, combining various docker images with required config files etc. (like traefik or a grafana monitoring stack combining multiple images like promtail, influxdb, telegraf and so on).&lt;/p&gt;\n\n&lt;p&gt;Feel free to check it out if you haven&amp;#39;t yet:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://github.com/Haxxnet/Compose-Examples\"&gt;https://github.com/Haxxnet/Compose-Examples&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;If you have any missing compose examples that are not easily publicly available or already documented well enough by the project maintainer, feel free to issue PRs or open an issue with a request for a missing compose example. Happy to help out and extend the examples.&lt;/p&gt;\n\n&lt;p&gt;Cheers!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/Ieh54CZnQqA-UY63eWT02lDjp442eh6kyLFc-zOLAn8.jpg?auto=webp&amp;v=enabled&amp;s=7bc584e3f68b843cedc7c174908e77f750de37fb", "width": 1200, "height": 600}, "resolutions": [{"url": "https://external-preview.redd.it/Ieh54CZnQqA-UY63eWT02lDjp442eh6kyLFc-zOLAn8.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=804bee4f1e31d13dabfccb8b0825df6b93afec95", "width": 108, "height": 54}, {"url": "https://external-preview.redd.it/Ieh54CZnQqA-UY63eWT02lDjp442eh6kyLFc-zOLAn8.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=bdbac042ba9159ee073a16fca2ee4b4a8a95d2e5", "width": 216, "height": 108}, {"url": "https://external-preview.redd.it/Ieh54CZnQqA-UY63eWT02lDjp442eh6kyLFc-zOLAn8.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=ed5de553a4b69c153222e099fa6f8d1a1c93fd4e", "width": 320, "height": 160}, {"url": "https://external-preview.redd.it/Ieh54CZnQqA-UY63eWT02lDjp442eh6kyLFc-zOLAn8.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=532c0f62947354f25d72523eb68522b4444d4f59", "width": 640, "height": 320}, {"url": "https://external-preview.redd.it/Ieh54CZnQqA-UY63eWT02lDjp442eh6kyLFc-zOLAn8.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=ec5122d637861847732816d3330b9cfdb5ad791c", "width": 960, "height": 480}, {"url": "https://external-preview.redd.it/Ieh54CZnQqA-UY63eWT02lDjp442eh6kyLFc-zOLAn8.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=11cf9033c9f91bc0464ed99368e378962d9933f7", "width": 1080, "height": 540}], "variants": {}, "id": "071U-2JCRyst15dfTxL8rwpEUHloz0-v-Qco84gDIrw"}], "enabled": false}, "all_awardings": [{"giver_coin_reward": null, "subreddit_id": null, "is_new": false, "days_of_drip_extension": null, "coin_price": 500, "id": "gid_2", "penny_donate": null, "award_sub_type": "GLOBAL", "coin_reward": 100, "icon_url": "https://www.redditstatic.com/gold/awards/icon/gold_512.png", "days_of_premium": 7, "tiers_by_required_awardings": null, "resized_icons": [{"url": "https://www.redditstatic.com/gold/awards/icon/gold_16.png", "width": 16, "height": 16}, {"url": "https://www.redditstatic.com/gold/awards/icon/gold_32.png", "width": 32, "height": 32}, {"url": "https://www.redditstatic.com/gold/awards/icon/gold_48.png", "width": 48, "height": 48}, {"url": "https://www.redditstatic.com/gold/awards/icon/gold_64.png", "width": 64, "height": 64}, {"url": "https://www.redditstatic.com/gold/awards/icon/gold_128.png", "width": 128, "height": 128}], "icon_width": 512, "static_icon_width": 512, "start_date": null, "is_enabled": true, "awardings_required_to_grant_benefits": null, "description": "Gives 100 Reddit Coins and a week of r/lounge access and ad-free browsing.", "end_date": null, "sticky_duration_seconds": null, "subreddit_coin_reward": 0, "count": 1, "static_icon_height": 512, "name": "Gold", "resized_static_icons": [{"url": "https://www.redditstatic.com/gold/awards/icon/gold_16.png", "width": 16, "height": 16}, {"url": "https://www.redditstatic.com/gold/awards/icon/gold_32.png", "width": 32, "height": 32}, {"url": "https://www.redditstatic.com/gold/awards/icon/gold_48.png", "width": 48, "height": 48}, {"url": "https://www.redditstatic.com/gold/awards/icon/gold_64.png", "width": 64, "height": 64}, {"url": "https://www.redditstatic.com/gold/awards/icon/gold_128.png", "width": 128, "height": 128}], "icon_format": null, "icon_height": 512, "penny_price": null, "award_type": "global", "static_icon_url": "https://www.redditstatic.com/gold/awards/icon/gold_512.png"}], "awarders": [], "media_only": false, "link_flair_template_id": "f7d475f2-7e6b-11e9-9d01-0e36b1616012", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11b8q48", "is_robot_indexable": true, "report_reasons": null, "author": "sk1nT7", "discussion_type": null, "num_comments": 35, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11b8q48/awesome_docker_compose_examples/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11b8q48/awesome_docker_compose_examples/", "subreddit_subscribers": 231821, "created_utc": 1677289820.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "When I see a new free and open-source project, seemingly perfect right from the beta, having a flawless presentation website, having faboulous documentation, great support service in the forums and instant replies on git issues, (sometimes even showing ads on Reddit and other places) etc, I know exactly where that project is headed.\n\nThere is no such thing as a free lunch. Sometimes, the charge comes so late, you forgot it was supposed to be free.\n\nHere is the recipe for the successfull \"open-source\" business:\n\n1. Spend 2 years coding 24/7 on something. (This has been replaced with paid devs right from the start, to speed things up.)\n2. Spend another one year promoting it online, hyping about its FOSS potential, explaining how this is actually a movement against corporate greed.\n3. Get FOSS-lovers excited about finding 2 years worth of high quality code online, and not have to pay anything for it. They become your \"community\".\n4. Have the \"community\" code along side with you for a while longer, to get them \"invested\" into the work.\n5. At the same time, the \"community\" is also doing the free promoting.\n6. You have reached critical market share, time for getting serious funding in.\n7. With more money in, development speeds up.\n8. \"Community\" gets excited about the fast new awesome features the new team of 100 hired developers are bringing in. They promote it even harder.\n9. This actually works fine for a while, everybody seems to be happy. Adoption explodes.\n10. Start announcing a paid-version, because \"sustainability\".\n11. Gradually slow down development that goes into the \"community\" version. Focus on paid version/tired, introduce support plans, etc.\n12. New version brings 3 features to enterprise version, \"community\" version gets 1.\n13. Keep community alive, by dropping them a bone from time to time. It's still good for free testing and free advertisement.\n14. You have the money machine going smooth, you no longer need the \"community\". New ambitious CEO starts cutting it loose.\n15. Community bitterly forks off.\n16. (Bonus: Corporate sponsors FOSS expos, to fake gratitude to the FOSS roots.)\n\n&amp;#x200B;\n\nI remember the excitement about PhotoPrism not so long ago. Now at 25 EUR/year to have your own \"Login Wallpaper\" or not have limits on your photos resolution :), the excitement moved on to Immych. Let's see how long this one takes to switch. The alternative is to slowly become obsolete.", "author_fullname": "t2_1272ko", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "FOSS Business, the trend", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11avg6c", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.88, "author_flair_background_color": null, "subreddit_type": "public", "ups": 131, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 131, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1677256157.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;When I see a new free and open-source project, seemingly perfect right from the beta, having a flawless presentation website, having faboulous documentation, great support service in the forums and instant replies on git issues, (sometimes even showing ads on Reddit and other places) etc, I know exactly where that project is headed.&lt;/p&gt;\n\n&lt;p&gt;There is no such thing as a free lunch. Sometimes, the charge comes so late, you forgot it was supposed to be free.&lt;/p&gt;\n\n&lt;p&gt;Here is the recipe for the successfull &amp;quot;open-source&amp;quot; business:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Spend 2 years coding 24/7 on something. (This has been replaced with paid devs right from the start, to speed things up.)&lt;/li&gt;\n&lt;li&gt;Spend another one year promoting it online, hyping about its FOSS potential, explaining how this is actually a movement against corporate greed.&lt;/li&gt;\n&lt;li&gt;Get FOSS-lovers excited about finding 2 years worth of high quality code online, and not have to pay anything for it. They become your &amp;quot;community&amp;quot;.&lt;/li&gt;\n&lt;li&gt;Have the &amp;quot;community&amp;quot; code along side with you for a while longer, to get them &amp;quot;invested&amp;quot; into the work.&lt;/li&gt;\n&lt;li&gt;At the same time, the &amp;quot;community&amp;quot; is also doing the free promoting.&lt;/li&gt;\n&lt;li&gt;You have reached critical market share, time for getting serious funding in.&lt;/li&gt;\n&lt;li&gt;With more money in, development speeds up.&lt;/li&gt;\n&lt;li&gt;&amp;quot;Community&amp;quot; gets excited about the fast new awesome features the new team of 100 hired developers are bringing in. They promote it even harder.&lt;/li&gt;\n&lt;li&gt;This actually works fine for a while, everybody seems to be happy. Adoption explodes.&lt;/li&gt;\n&lt;li&gt;Start announcing a paid-version, because &amp;quot;sustainability&amp;quot;.&lt;/li&gt;\n&lt;li&gt;Gradually slow down development that goes into the &amp;quot;community&amp;quot; version. Focus on paid version/tired, introduce support plans, etc.&lt;/li&gt;\n&lt;li&gt;New version brings 3 features to enterprise version, &amp;quot;community&amp;quot; version gets 1.&lt;/li&gt;\n&lt;li&gt;Keep community alive, by dropping them a bone from time to time. It&amp;#39;s still good for free testing and free advertisement.&lt;/li&gt;\n&lt;li&gt;You have the money machine going smooth, you no longer need the &amp;quot;community&amp;quot;. New ambitious CEO starts cutting it loose.&lt;/li&gt;\n&lt;li&gt;Community bitterly forks off.&lt;/li&gt;\n&lt;li&gt;(Bonus: Corporate sponsors FOSS expos, to fake gratitude to the FOSS roots.)&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;I remember the excitement about PhotoPrism not so long ago. Now at 25 EUR/year to have your own &amp;quot;Login Wallpaper&amp;quot; or not have limits on your photos resolution :), the excitement moved on to Immych. Let&amp;#39;s see how long this one takes to switch. The alternative is to slowly become obsolete.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11avg6c", "is_robot_indexable": true, "report_reasons": null, "author": "neogeovr", "discussion_type": null, "num_comments": 89, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11avg6c/foss_business_the_trend/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11avg6c/foss_business_the_trend/", "subreddit_subscribers": 231821, "created_utc": 1677256157.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hi everyone, \ud83d\udc4b\ud83c\udffc\n\nAlmost 2 years ago, I left my full-time job at Canon to build tooling and infrastructure to help developers write high-level tests for complex software workflows that are not easy to unit test. I wanted to take ideas from visual regression testing, snapshot testing, and property-based testing and build a general-purpose regression testing system that developers can use to find the unintended side-effects of their day-to-day code changes during the development stage.\n\nAfter two years of working ~70 hours per week and going through multiple iterations, we finally have a fully open-source (Apache-2.0) product that finally makes me and other members of our community happy: [https://github.com/trytouca/trytouca](https://github.com/trytouca/trytouca)\n\nThis week we released v2.0, a milestone version that is useful to small and large teams alike. This version comes with:\n\n- An easy to self-host server that stores test results for new versions of your software workflows, automatically compares them against a previous baseline version, and reports any differences in behavior or performance.\n- A CLI that enables snapshot testing without using snapshot files. It lets you capture the actual output of your software and remotely compare it against a previous version without having to write code or to locally store the previous output.\n- 4 SDKs in Python, C++, Java, JavaScript that let you write high-level tests to capture values of variables and runtime of functions for different test cases and submit them to the Touca server.\n- Test runner and GitHub action plugins that help you continuously run your tests as part of the CI and find breaking changes before merging PRs.\n\nI would really appreciate your honest feedback, positive or negative, about Touca. Would love to learn if you find this useful and look forward to hearing your thoughts and answering any questions.", "author_fullname": "t2_1ru69d2k", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Touca v2.0, open-source regression testing tool, a superior alternative to snapshot testing", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11b4wib", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.99, "author_flair_background_color": null, "subreddit_type": "public", "ups": 100, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 100, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1677279794.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi everyone, \ud83d\udc4b\ud83c\udffc&lt;/p&gt;\n\n&lt;p&gt;Almost 2 years ago, I left my full-time job at Canon to build tooling and infrastructure to help developers write high-level tests for complex software workflows that are not easy to unit test. I wanted to take ideas from visual regression testing, snapshot testing, and property-based testing and build a general-purpose regression testing system that developers can use to find the unintended side-effects of their day-to-day code changes during the development stage.&lt;/p&gt;\n\n&lt;p&gt;After two years of working ~70 hours per week and going through multiple iterations, we finally have a fully open-source (Apache-2.0) product that finally makes me and other members of our community happy: &lt;a href=\"https://github.com/trytouca/trytouca\"&gt;https://github.com/trytouca/trytouca&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;This week we released v2.0, a milestone version that is useful to small and large teams alike. This version comes with:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;An easy to self-host server that stores test results for new versions of your software workflows, automatically compares them against a previous baseline version, and reports any differences in behavior or performance.&lt;/li&gt;\n&lt;li&gt;A CLI that enables snapshot testing without using snapshot files. It lets you capture the actual output of your software and remotely compare it against a previous version without having to write code or to locally store the previous output.&lt;/li&gt;\n&lt;li&gt;4 SDKs in Python, C++, Java, JavaScript that let you write high-level tests to capture values of variables and runtime of functions for different test cases and submit them to the Touca server.&lt;/li&gt;\n&lt;li&gt;Test runner and GitHub action plugins that help you continuously run your tests as part of the CI and find breaking changes before merging PRs.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;I would really appreciate your honest feedback, positive or negative, about Touca. Would love to learn if you find this useful and look forward to hearing your thoughts and answering any questions.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/yH4ZzQWto9oYPH0Ac8p5inhefYrTZGY_fomiqMT-Flc.jpg?auto=webp&amp;v=enabled&amp;s=9e428ad37885cbde240b3268cb51ba10f2597535", "width": 1280, "height": 640}, "resolutions": [{"url": "https://external-preview.redd.it/yH4ZzQWto9oYPH0Ac8p5inhefYrTZGY_fomiqMT-Flc.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=23a3b26b1af116d6df248fb1a456ec0f40e4f78b", "width": 108, "height": 54}, {"url": "https://external-preview.redd.it/yH4ZzQWto9oYPH0Ac8p5inhefYrTZGY_fomiqMT-Flc.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=30b9406d06cd4e8ad88b5759da95e7ad5fdf517b", "width": 216, "height": 108}, {"url": "https://external-preview.redd.it/yH4ZzQWto9oYPH0Ac8p5inhefYrTZGY_fomiqMT-Flc.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=930014c002ef18d93832848fc41ab7f0059e7f17", "width": 320, "height": 160}, {"url": "https://external-preview.redd.it/yH4ZzQWto9oYPH0Ac8p5inhefYrTZGY_fomiqMT-Flc.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=104d4c7a18f94caab289022dfb18e190746f7712", "width": 640, "height": 320}, {"url": "https://external-preview.redd.it/yH4ZzQWto9oYPH0Ac8p5inhefYrTZGY_fomiqMT-Flc.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=e33bd5b5aaa7f89427f88d47377a94e4129bbafe", "width": 960, "height": 480}, {"url": "https://external-preview.redd.it/yH4ZzQWto9oYPH0Ac8p5inhefYrTZGY_fomiqMT-Flc.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=5d5f249a140a5ab486ad46478497a7775862b26e", "width": 1080, "height": 540}], "variants": {}, "id": "paiLa_ZOTME6wU33u9a-c7NT7wUiKbS9utkb9jTHulc"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11b4wib", "is_robot_indexable": true, "report_reasons": null, "author": "pejman_gh", "discussion_type": null, "num_comments": 10, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11b4wib/touca_v20_opensource_regression_testing_tool_a/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11b4wib/touca_v20_opensource_regression_testing_tool_a/", "subreddit_subscribers": 231821, "created_utc": 1677279794.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "", "author_fullname": "t2_64bjptqc", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "[OC] UPDATE Dockcheck-web, notifications update", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": 55, "top_awarded_type": null, "hide_score": false, "name": "t3_11astnz", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.86, "author_flair_background_color": null, "subreddit_type": "public", "ups": 22, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": true, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 22, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "https://b.thumbs.redditmedia.com/_Xt7ky8iPb2usKIP4tkY3ml7-p6nol4YmPgxT0KE-hA.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "image", "content_categories": null, "is_self": false, "mod_note": null, "created": 1677249268.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "i.redd.it", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://i.redd.it/2xdovwczc5ka1.gif", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://preview.redd.it/2xdovwczc5ka1.gif?format=png8&amp;v=enabled&amp;s=4d4df2f0e2fc828efd32827154b2e4516c7c6800", "width": 831, "height": 327}, "resolutions": [{"url": "https://preview.redd.it/2xdovwczc5ka1.gif?width=108&amp;crop=smart&amp;format=png8&amp;v=enabled&amp;s=792703b8de26bcb2b7a6c714392aecc6ce79f3ed", "width": 108, "height": 42}, {"url": "https://preview.redd.it/2xdovwczc5ka1.gif?width=216&amp;crop=smart&amp;format=png8&amp;v=enabled&amp;s=19c81be0b7ad3586cbbe8ee3b69be7b98a2cca4b", "width": 216, "height": 84}, {"url": "https://preview.redd.it/2xdovwczc5ka1.gif?width=320&amp;crop=smart&amp;format=png8&amp;v=enabled&amp;s=7363ff46795ffd768d3d3cb9aca4d557f65c2a03", "width": 320, "height": 125}, {"url": "https://preview.redd.it/2xdovwczc5ka1.gif?width=640&amp;crop=smart&amp;format=png8&amp;v=enabled&amp;s=b1231714324904f653edfd013f216a364ae4bd3d", "width": 640, "height": 251}], "variants": {"gif": {"source": {"url": "https://preview.redd.it/2xdovwczc5ka1.gif?s=292b817e4b410479ba74b25bbb4684c3dd5789eb", "width": 831, "height": 327}, "resolutions": [{"url": "https://preview.redd.it/2xdovwczc5ka1.gif?width=108&amp;crop=smart&amp;v=enabled&amp;s=945e12b76f182b7d33d605e21457b603281efced", "width": 108, "height": 42}, {"url": "https://preview.redd.it/2xdovwczc5ka1.gif?width=216&amp;crop=smart&amp;v=enabled&amp;s=9b72b0775341e3220bb7235bdcaa27dbf6c9fe0a", "width": 216, "height": 84}, {"url": "https://preview.redd.it/2xdovwczc5ka1.gif?width=320&amp;crop=smart&amp;v=enabled&amp;s=064bb74a051da26123fabf31b5d7481f1817e1dc", "width": 320, "height": 125}, {"url": "https://preview.redd.it/2xdovwczc5ka1.gif?width=640&amp;crop=smart&amp;v=enabled&amp;s=12d91dc99168aec1576f5a7d0fd81c3826b6b5dc", "width": 640, "height": 251}]}, "mp4": {"source": {"url": "https://preview.redd.it/2xdovwczc5ka1.gif?format=mp4&amp;v=enabled&amp;s=d5bb0443400214fcbafa8b52fe574df4e2748e0a", "width": 831, "height": 327}, "resolutions": [{"url": "https://preview.redd.it/2xdovwczc5ka1.gif?width=108&amp;format=mp4&amp;v=enabled&amp;s=d4465ef64e7815a58225be2770995a79537c5ef4", "width": 108, "height": 42}, {"url": "https://preview.redd.it/2xdovwczc5ka1.gif?width=216&amp;format=mp4&amp;v=enabled&amp;s=ceb0bd030acf6ed248eaa3b6fa954eeb359d0013", "width": 216, "height": 84}, {"url": "https://preview.redd.it/2xdovwczc5ka1.gif?width=320&amp;format=mp4&amp;v=enabled&amp;s=4dc71e5e6fed6b5e767f216ac4ce88bcb089d86b", "width": 320, "height": 125}, {"url": "https://preview.redd.it/2xdovwczc5ka1.gif?width=640&amp;format=mp4&amp;v=enabled&amp;s=dad78bc387b673f9dcc4d2bf628d18b1c705c4ec", "width": 640, "height": 251}]}}, "id": "3mtCGCPyDYHVk80fZSUcCaQfolleWGNPEXBu16utDtg"}], "enabled": true}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11astnz", "is_robot_indexable": true, "report_reasons": null, "author": "Palleri", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11astnz/oc_update_dockcheckweb_notifications_update/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://i.redd.it/2xdovwczc5ka1.gif", "subreddit_subscribers": 231821, "created_utc": 1677249268.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I'm trying to make a decision regarding my storage solution since at the moment I have a node with ~12TB of media storage that is starting to run out. I have two options either building my own NAS and running TrueNAS Core on it, or buying a Synology DS923+ with the extension hub for a total of $1'000/9 drives. \n\nThe benefit of building my own NAS would be that I would be building a Ryzen 9 / 128GB RAM node, that I can additionally use as a K3s node if I spin up a VM on it, but it's going to be more maintenance for me and I heard that the hypervisor in TrueNAS isn't great. \n\nIt's also much cheaper to build my own NAS, since I want to build this additional node anyway and would be saving ~$1,000 on the Synology box. Though, on the other hand the Synology DS923+ comes fully configured out of the box with robust software and would be entirely dedicated to storage so even if I have downtime on the K3s node my storage will still be available.\n\nEdit: The Ryzen 9 node would be about $1,500 and each drive would be a 20TB WD RED for $450 each in addition to the base hardware.", "author_fullname": "t2_k2fjkx5m", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Build my own NAS or go with Synology?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11atpto", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.84, "author_flair_background_color": null, "subreddit_type": "public", "ups": 13, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Need Help", "can_mod_post": false, "score": 13, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "author_cakeday": true, "edited": 1677272346.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1677251670.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m trying to make a decision regarding my storage solution since at the moment I have a node with ~12TB of media storage that is starting to run out. I have two options either building my own NAS and running TrueNAS Core on it, or buying a Synology DS923+ with the extension hub for a total of $1&amp;#39;000/9 drives. &lt;/p&gt;\n\n&lt;p&gt;The benefit of building my own NAS would be that I would be building a Ryzen 9 / 128GB RAM node, that I can additionally use as a K3s node if I spin up a VM on it, but it&amp;#39;s going to be more maintenance for me and I heard that the hypervisor in TrueNAS isn&amp;#39;t great. &lt;/p&gt;\n\n&lt;p&gt;It&amp;#39;s also much cheaper to build my own NAS, since I want to build this additional node anyway and would be saving ~$1,000 on the Synology box. Though, on the other hand the Synology DS923+ comes fully configured out of the box with robust software and would be entirely dedicated to storage so even if I have downtime on the K3s node my storage will still be available.&lt;/p&gt;\n\n&lt;p&gt;Edit: The Ryzen 9 node would be about $1,500 and each drive would be a 20TB WD RED for $450 each in addition to the base hardware.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "82508a80-05bc-11eb-ae09-0effb713859f", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11atpto", "is_robot_indexable": true, "report_reasons": null, "author": "WherMyEth", "discussion_type": null, "num_comments": 62, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11atpto/build_my_own_nas_or_go_with_synology/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11atpto/build_my_own_nas_or_go_with_synology/", "subreddit_subscribers": 231821, "created_utc": 1677251670.0, "num_crossposts": 1, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "", "author_fullname": "t2_vvcklg6b", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "This Week in Self-Hosted (24 February 2023)", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": 78, "top_awarded_type": null, "hide_score": false, "name": "t3_11aq9jm", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.68, "author_flair_background_color": null, "subreddit_type": "public", "ups": 10, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 10, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "https://b.thumbs.redditmedia.com/u7yOEvy7Bx_5DZ0J9JCu_s_5KvXHK3NJeGV4EK5XzzE.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "link", "content_categories": null, "is_self": false, "mod_note": null, "created": 1677241773.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "selfh.st", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://selfh.st/ed/weekly/2023-02-24/", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/eGrdKlz1uyNnzs05E0KSYthGVhykcctrbKUMMvR0QPg.jpg?auto=webp&amp;v=enabled&amp;s=c98097dc6006ecd859cb85ba63293a3e362797a9", "width": 1920, "height": 1080}, "resolutions": [{"url": "https://external-preview.redd.it/eGrdKlz1uyNnzs05E0KSYthGVhykcctrbKUMMvR0QPg.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=a5e361a6c699450513fa352971d7744ff693f1a6", "width": 108, "height": 60}, {"url": "https://external-preview.redd.it/eGrdKlz1uyNnzs05E0KSYthGVhykcctrbKUMMvR0QPg.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=341af2c16a16be10695ac0847410729e10fd1ab7", "width": 216, "height": 121}, {"url": "https://external-preview.redd.it/eGrdKlz1uyNnzs05E0KSYthGVhykcctrbKUMMvR0QPg.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=9aaafeb743dd213ce21d4f0fe9e63227240b7e77", "width": 320, "height": 180}, {"url": "https://external-preview.redd.it/eGrdKlz1uyNnzs05E0KSYthGVhykcctrbKUMMvR0QPg.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=2d43b2d49a3e4237bedae43d354b275a966692ff", "width": 640, "height": 360}, {"url": "https://external-preview.redd.it/eGrdKlz1uyNnzs05E0KSYthGVhykcctrbKUMMvR0QPg.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=ced408a62baf65efd3a8efe2b5a0ebc62541be84", "width": 960, "height": 540}, {"url": "https://external-preview.redd.it/eGrdKlz1uyNnzs05E0KSYthGVhykcctrbKUMMvR0QPg.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=45fa10fd22d9d96376bf3138440c2bf2131215f7", "width": 1080, "height": 607}], "variants": {}, "id": "0VVXCmGDGcSlZbi6PCDjHANqFiNLOwIot7B8nJTNt38"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11aq9jm", "is_robot_indexable": true, "report_reasons": null, "author": "selfh-sted", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11aq9jm/this_week_in_selfhosted_24_february_2023/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://selfh.st/ed/weekly/2023-02-24/", "subreddit_subscribers": 231821, "created_utc": 1677241773.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I have been user of LastPass with premium plan from a long time. But there had been yet another security breach at LastPass in last December. Over the years, LastPass has suffered a number of different security breaches starting as early as 2011. Since then, it has had incidents in 2015, 2016, 2017, 2019, and 2021.\n\nSince then I was inclined to self host the password manager at my home server. It took me an entire last weekend to setup. But at the end of the weekend I was able to setup everything up to my own satisfaction in terms of security. \n\nThis activity helped me to understand the difference between Vaultwarden and Bitwarden. Faced and fixed several issues in installation. So I thought of documenting all the steps and fixes. May be it will help someone else someday. \n\nHere\u2019s the step-by-step guide with all my learning and setup using Nginx Proxy and SSL - [How to Install Vaultwarden with Docker](https://thedigitalden.substack.com/p/install-vaultwarden-with-docker-compose-guide)\n\nShout out if this guide helps you.", "author_fullname": "t2_1zobhc6b", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Steps to Install Vaultwarden with Docker and Nginx Proxy Manager", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "guide", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11awurt", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.9, "author_flair_background_color": null, "subreddit_type": "public", "ups": 8, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Guide", "can_mod_post": false, "score": 8, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": 1677260757.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1677259660.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have been user of LastPass with premium plan from a long time. But there had been yet another security breach at LastPass in last December. Over the years, LastPass has suffered a number of different security breaches starting as early as 2011. Since then, it has had incidents in 2015, 2016, 2017, 2019, and 2021.&lt;/p&gt;\n\n&lt;p&gt;Since then I was inclined to self host the password manager at my home server. It took me an entire last weekend to setup. But at the end of the weekend I was able to setup everything up to my own satisfaction in terms of security. &lt;/p&gt;\n\n&lt;p&gt;This activity helped me to understand the difference between Vaultwarden and Bitwarden. Faced and fixed several issues in installation. So I thought of documenting all the steps and fixes. May be it will help someone else someday. &lt;/p&gt;\n\n&lt;p&gt;Here\u2019s the step-by-step guide with all my learning and setup using Nginx Proxy and SSL - &lt;a href=\"https://thedigitalden.substack.com/p/install-vaultwarden-with-docker-compose-guide\"&gt;How to Install Vaultwarden with Docker&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Shout out if this guide helps you.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/S0hVORptdZogXnKT2ZdOMC8HSjIE-zFOeti25mKeix4.jpg?auto=webp&amp;v=enabled&amp;s=d6218f50d21db836a903df44296b0fd5559a69f5", "width": 1067, "height": 600}, "resolutions": [{"url": "https://external-preview.redd.it/S0hVORptdZogXnKT2ZdOMC8HSjIE-zFOeti25mKeix4.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=3587d2c27273223fbd503310452187e80344d34f", "width": 108, "height": 60}, {"url": "https://external-preview.redd.it/S0hVORptdZogXnKT2ZdOMC8HSjIE-zFOeti25mKeix4.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=2568c6ad7cea28894800d2e5d5aacd56c4b0dfc6", "width": 216, "height": 121}, {"url": "https://external-preview.redd.it/S0hVORptdZogXnKT2ZdOMC8HSjIE-zFOeti25mKeix4.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=9f50c37384edbfb3d9c2f8c9f3be96668d0dc58b", "width": 320, "height": 179}, {"url": "https://external-preview.redd.it/S0hVORptdZogXnKT2ZdOMC8HSjIE-zFOeti25mKeix4.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=c975b419ce9470c815170c59bb3b42e13f458373", "width": 640, "height": 359}, {"url": "https://external-preview.redd.it/S0hVORptdZogXnKT2ZdOMC8HSjIE-zFOeti25mKeix4.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=d55c1a307ede262c68f8bbf81c53a5eac6ba9e53", "width": 960, "height": 539}], "variants": {}, "id": "Xq-vWyeCy5FA-f9tSXcLpvXjQuDot4NF4nvH9vR1YKI"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "c5723bd4-ecdc-11ec-95c9-6aa3965088a7", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11awurt", "is_robot_indexable": true, "report_reasons": null, "author": "shishir-nsane", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11awurt/steps_to_install_vaultwarden_with_docker_and/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11awurt/steps_to_install_vaultwarden_with_docker_and/", "subreddit_subscribers": 231821, "created_utc": 1677259660.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "The full version of this is on my blog, because it's too long to include all the ldif files here: [https://www.surfrock66.com/openldap-kerberos-and-sasl-my-experience-in-the-homelab/](https://www.surfrock66.com/openldap-kerberos-and-sasl-my-experience-in-the-homelab/)\n\nI previously posted my experiences [setting up openLDAP](https://www.reddit.com/r/selfhosted/comments/nnam1x/my_experienceguide_setting_up_openldap_for/), using my own custom schema.  This whole ordeal is for a couple of reasons...I wanted to learn about openLDAP and how schema works, and I wanted to eventually create something akin to \"Active Directory\" from my home that wasn't just \"use Samba\" or \"use FreeIPA.\"  I don't have anything against Samba, but it feels like using Samba is trying to acheive Microsoft functionality with Microsoft compatibility, and I don't need Microsoft compatibility, so I wanted to do it without.  I have no Microsoft devices in my ecosystem and have no plans to add any.  I don't have anything against FreeIPA either, but their docs target rpm distros and I tend to live in deb land, and I found the initial install frustrating unless I switched platforms...it felt like lock-in.  There are other solutions and this is a problem that has been solved other ways but with shortcomings, but I wanted to really do something \"from scratch\" so I share this not as a recommendation, but as a start-to-finish resource with some nuggets of wisdom that may help someone else whose journey brushes up against parts of mine.\n\nWhen I started, I was just authenticating web services like nextcloud, jellyfin, SAML, etc.  Tying those into openLDAP was very easy and has worked very well for a long time.  Now though, I want to use Kerberos for Linux PAM authentication as I am about to spin up a bunch of small servers (I got a new hypervisor and am redoing a lot of infrastructure, I don't want different credential stores all over the place).  Because of this, I'm bolting on MIT Kerberos as my network authentication provider; that being said, getting OpenLDAP and Kerberos to work together and only use 1 password was not intuitive.  Kerberos will use LDAP as it's database, and authentication will happen through SASL.  Ultimately, requests will go to openLDAP, then depending on the account, the password will either be validated in OpenLDAP for web users, or it will defer to SASL for users doing both web/PAM stuff, which will then authenticate against the Kerberos passoword it stores in LDAP.  Circular much?\n\nHere is the vision, to help you see what I'm working towards.  Ultimately I have about 20 users, all of which might access web services like nextcloud, but 4 core users which will actually log into computers.  One of those 4 (me) has sudo rights on any computer.  All 20 users should be able to log into nextcloud, jellyfin, etc without issue, and for now I'm managing password resets if they come to my house (I had previously used phpldapadmin for password resets, but that was struggling on php7+ when I last tried).  For the internal users, they will be able to sit at ANY computer and log in using their same username and password.  If an web only user tries to sit and log into a computer, the'll get username not found.  If any of the 3 non-sudo users tries sudo, they'll get an unauthorized error.  If my account tries sudo, I can become root.  I can handle password resets for the internal users via kpasswd or kadmin.local.\n\nI don't know if this is a great solution, however it has been a great learning experience and it is working.  The one piece that is not clean is resetting passwords.  Because some passwords are stored in LDAP and some are stored in kerberos, I have to know where to change/update/reset them.  Most accounts I use Apache Directory Studio as an analogue to ADUC, but for my nice shiny Kerberos accounts, I have to use kpasswd on the command line.  This is not a great operational procedure; if there was a decent GUI/webapp I could see making all accounts kerberos accounts.  I think this is solvable, but I'm stopping here because I want to move on to other priorities, and I have a workable solution.\n\nI'm including all my various final config files below so that the final working state can be documented for anyone else attempting to implement a solution like this.  When I was done, I burned the host to the ground and rebuilt it from this documentation to make sure it was correct.  Domain, subdomain, and host names are changed of course and passwords are redacted.  I used my name \"surfrock66\" as the prototype account, but you could replace with yours.  Honestly, if you did a find-replace of \"subdomain\", then \"domain\", then \"ldapserverhostname\", then \"surfrock66\", most of this would be copy/paste.  I don't recommend that; this isn't meant to be a drop in, this is a learning journey that someone could follow to learn and recreate.\n\nSome accounts are created with the ldif files below, and in my personal case I've got the hashed passwords already in the files.  If you're copying this, you should generate all the passwords offline, run the ldif commands to create the account, then use Apache Directory Studio (connecting as admin) to actually change password as needed.  You should pregenerate the following passwords:\n\n* admin (cn=admin,dc=subdomain,dc=domain,dc=com and admin@SUBDOMAIN.DOMAIN.COM) (used for both slapd admin AND kerberos admin)\n* config admin (cn=admin,cn=config)\n* KDC Master Key\n* Your user account, replace surfrock66 (cn=surfrock66,ou=accounts,dc=subdomain,dc=domain,dc=com)\n* kdc-service (cn=kdc-service,ou=accounts,dc=subdomain,dc=domain,dc=com)\n* kadmin-service (cn=kadmin-service,ou=accounts,dc=subdomain,dc=domain,dc=com)\n* ldapbinduser (cn=ldapbinduser,ou=accounts,dc=subdomain,dc=domain,dc=com) (This password will be put in plain text in places that store bind credentials in config files, as an FYI.)\n\nThe commands to install stuff start here; I put a dpkg-reconfigure after to answer the prompts for any given package install.  If you're not prompted, you need to run through them:\n\n    apt -y update\n    apt -y install db-util db5.3-util krb5-admin-server krb5-config krb5-kdc krb5-kdc-ldap krb5-user ldap-utils libgssrpc4 libkadm5clnt-mit12 libkadm5srv-mit12 libkdb5-10 libltdl7 libodbc2 libsasl2-modules-gssapi-mit libverto-libevent1 libverto1 sasl2-bin schema2ldif slapd\n    \n    dpkg-reconfigure slapd\n    # Don't omit initial configuration\n    # Domain = subdomain.domain.com\n    # Organization = subdomain.domain.com\n    # Set an admin password\n    # Do you want the DB removed when SlapD is purged...yes\n    \n    dpkg-reconfigure krb5-config\n    # Default Kerberos Realm is SUBDOMAIN.DOMAIN.COM\n    # Primary KDC is fqdn\n    # Administrative server is fqdn\n    \n    dpkg-reconfigure krb5-admin-server\n    # Ok\n    \n    dpkg-reconfigure krb5-kdc\n    # No, don't create KDC config manually\n    \n    mkdir /var/log/kerberos\n    touch /var/log/kerberos/krb5kdc.log\n    touch /etc/krb5kdc/service.keyfile\n    vi /usr/lib/systemd/system/krb5-kdc.service\n    # Add \"/var/log/kerberos\" to the line \"ReadWriteDirectories\"\n    \n    vi /usr/lib/systemd/system/krb5-admin-server.service\n    # Add \"/var/log/kerberos\" to the line \"ReadWriteDirectories\"\n    \n    systemctl daemon-reload\n    adduser openldap sasl\n\nIf you want to use an SSL cert to do TLS, you'll need to set that up.  On ubuntu, there's some weird permission stuff.  At a high level, we're creating an ssl-certs group, setting the cert file permissions to permit group reading, then adding the openldap service's account to that group; you can use whatever gid you want.  I personally have an easy-rsa CA, so I have an internal CA and domain issued cert/key pair.  That may be too much for some people, which is fine, you would then omit the 2 TLS ldif files below.\n\n    groupadd -g 901 ssl-cert\n    usermod -a -G ssl-cert openldap\n    \n    # Create the CA Cert File\n    /etc/ssl/certs/subdomain.domain.com.rootca.YYYY.MM.DD.pem\n    \n    # Create the Certificate Private Key File\n    /etc/ssl/private/ldap.subdomain.domain.com.key\n    \n    # Create the Certificate File\n    /etc/ssl/certs/ldap.subdomain.domain.com.crt\n    \n    chown root:ssl-cert /etc/ssl/certs/subdomain.domain.com.rootca.YYYY.MM.DD.pem\n    chown root:ssl-cert /etc/ssl/private\n    chown root:ssl-cert /etc/ssl/private/ldapserverhostname.subdomain.domain.com.key\n    chown root:ssl-cert /etc/ssl/certs/ldapserverhostname.subdomain.domain.com.crt\n    chmod 710 /etc/ssl/private\n\nFirst, here are all of the ldif files that represent the configuration of slapd and the ldap environment.  These are all of them as I set them up.  Note there are 2 types of ldapadd commands, some require authentication of the admin account, some don't.  I pasted them exactly as I successfully ran them.  One thing to consider is that you can't really just paste a password in for a lot of these accounts.  If you put nonsense in the password field, you could later open the object in Apache Directory Studio and set the password from the admin account, where it'll add it encrypted.  Once you're done, you can then use ADS to export the object as an ldif, so it's easy to recreate later (which is how I got most of these ldif's at first).\n\n01.config.InstallMemberOf.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 01.config.InstallMemberOf.ldif)\n\n    dn: cn=module{0},cn=config\n    changetype: modify\n    add: olcModuleLoad\n    olcModuleLoad: memberof.la\n\n02.schema.attribute.sshPublicKey.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 02.schema.attribute.sshPublicKey.ldif)\n\n    dn: cn=sshPublicKey,cn=schema,cn=config\n    objectClass: olcSchemaConfig\n    cn: attribute.sshPublicKey\n    #\n    # LDAP Public Key Patch schema for use with openssh-ldappubkey\n    #                              useful with PKA-LDAP also\n    #\n    # Adjusted: Dennis Leeuw &lt;dleeuw@made-it.com&gt;\n    #           Making the uid a MUST, but the sshPublicKey a MAY\n    #           so we can add the objectClass and later add the key\n    #\n    # Author: Eric AUGE &lt;eau@phear.org&gt;\n    # \n    # Based on the proposal of : Mark Ruijter\n    #\n    # octetString SYNTAX\n    olcAttributeTypes: ( 1.3.6.1.4.1.24552.500.1.1.1.13 NAME 'sshPublicKey' \n      DESC 'MANDATORY: OpenSSH Public key' \n      EQUALITY octetStringMatch\n      SYNTAX 1.3.6.1.4.1.1466.115.121.1.40 )\n    # printableString SYNTAX yes|no\n    olcObjectClasses: ( 1.3.6.1.4.1.24552.500.1.1.2.0 NAME 'ldapPublicKey' SUP top AUXILIARY\n      DESC 'MANDATORY: OpenSSH LPK objectclass'\n      MUST uid\n      MAY sshPublicKey\n      )\n\n03.schema.sudo.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 03.schema.sudo.ldif)\n\n    dn: cn=sudo,cn=schema,cn=config\n    objectClass: olcSchemaConfig\n    cn: sudo\n    olcAttributeTypes: ( 1.3.6.1.4.1.15953.9.1.1 NAME 'sudoUser' DESC 'User(s) who may  run sudo' EQUALITY caseExactIA5Match SUBSTR caseExactIA5SubstringsMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )\n    olcAttributeTypes: ( 1.3.6.1.4.1.15953.9.1.2 NAME 'sudoHost' DESC 'Host(s) who may run sudo' EQUALITY caseExactIA5Match SUBSTR caseExactIA5SubstringsMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )\n    olcAttributeTypes: ( 1.3.6.1.4.1.15953.9.1.3 NAME 'sudoCommand' DESC 'Command(s) to be executed by sudo' EQUALITY caseExactIA5Match SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )\n    olcAttributeTypes: ( 1.3.6.1.4.1.15953.9.1.4 NAME 'sudoRunAs' DESC 'User(s) impersonated by sudo (deprecated)' EQUALITY caseExactIA5Match SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )\n    olcAttributeTypes: ( 1.3.6.1.4.1.15953.9.1.5 NAME 'sudoOption' DESC 'Options(s) followed by sudo' EQUALITY caseExactIA5Match SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )\n    olcAttributeTypes: ( 1.3.6.1.4.1.15953.9.1.6 NAME 'sudoRunAsUser' DESC 'User(s) impersonated by sudo' EQUALITY caseExactIA5Match SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )\n    olcAttributeTypes: ( 1.3.6.1.4.1.15953.9.1.7 NAME 'sudoRunAsGroup' DESC 'Group(s) impersonated by sudo' EQUALITY caseExactIA5Match SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )\n    olcObjectClasses: ( 1.3.6.1.4.1.15953.9.2.1 NAME 'sudoRole' SUP top STRUCTURAL DESC 'Sudoer Entries' MUST ( cn ) MAY ( sudoUser $ sudoHost $ sudoCommand $ sudoRunAs $ sudoRunAsUser $ sudoRunAsGroup $ sudoOption $ description ) )\n\n04.schema.objectClass.domainAccount.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 04.schema.objectClass.domainAccount.ldif)\n\n    dn: cn=objectClass.domainAccount,cn=schema,cn=config\n    objectClass: olcSchemaConfig\n    cn: objectClass.domainAccount\n    olcObjectClasses: ( 1.3.6.1.4.1.57470.2.2.1 NAME 'domainAccount'\n      DESC 'A user/account/person in the organization'\n      SUP top STRUCTURAL\n      MUST ( cn $ name $ sn $ uid )\n      MAY ( \n      audio $\tbusinessCategory $ carLicense $ departmentNumber $ \n      description $ destinationIndicator $ displayName $ \n      employeeNumber $ employeeType $ facsimileTelephoneNumber $ \n      gecos $ gidNumber $ givenName $ homeDirectory $ homePhone $ \n      homePostalAddress $ initials $ internationaliSDNNumber $ \n      jpegPhoto $ l $ labeledURI $ loginShell $ \n      mail $ manager $ mobile $ o $ ou $ pager $ photo $ \n      physicalDeliveryOfficeName $ postalAddress $ postalCode $ \n      postOfficeBox $ preferredDeliveryMethod $ \n      preferredLanguage $ registeredAddress $ roomNumber $ \n      secretary $ seeAlso $ shadowExpire $ shadowInactive $ \n      shadowLastChange $ shadowMax $ shadowMin $ shadowWarning $ \n      sshPublicKey $ st $ street $ telephoneNumber $ \n      teletexTerminalIdentifier $ telexNumber $ title $ \n      uidNumber $ userCertificate $ userPassword $ userPKCS12 $ \n      userSMIMECertificate $ x121Address $ x500uniqueIdentifier ) )\n\n05.schema.objectClass.domainGroup.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 05.schema.objectClass.domainGroup.ldif)\n\n    dn: cn=objectClass.domainGroup,cn=schema,cn=config\n    objectClass: olcSchemaConfig\n    cn: objectClass.domainGroup\n    olcObjectClasses: ( 1.3.6.1.4.1.57470.2.2.2 NAME 'domainGroup'\n      DESC 'A group of names in the organization'\n      SUP top STRUCTURAL\n      MUST ( cn )\n      MAY ( \n      businessCategory $ description $ gidNumber $ member $\n      o $ ou $ owner $ seeAlso ) )\n\n06.config.EnableMemberOf.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 06.config.EnableMemberOf.ldif)\n\nWe're configuring 2 things here, changing the memberof overlay to use \"domainGroup\" instead of the default objectClass \"groupOfNames\" and enabling referential integrity.\n\n    dn: olcOverlay=memberof,olcDatabase={1}mdb,cn=config\n    objectClass: olcOverlayConfig\n    objectClass: olcMemberOf\n    olcOverlay: memberof\n    olcMemberOfRefint: TRUE\n    olcMemberOfGroupOC: domainGroup\n\n07.ous.ldif (ldapadd -x -D 'cn=admin,dc=subdomain,dc=domain,dc=com' -W -H ldapi:/// -f 07.ous.ldif)\n\nYou need to authenticate with the admin account for this\n\n    dn: ou=accounts,dc=subdomain,dc=domain,dc=com\n    objectClass: organizationalUnit\n    ou: accounts\n    \n    dn: ou=groups,dc=subdomain,dc=domain,dc=com\n    objectClass: organizationalUnit\n    ou: groups\n    \n    dn: ou=hosts,dc=subdomain,dc=domain,dc=com\n    objectClass: organizationalUnit\n    ou: hosts\n\n08.user.ldapbinduser.ldif (ldapadd -x -D 'cn=admin,dc=subdomain,dc=domain,dc=com' -W -H ldapi:/// -f 08.user.ldapbinduser.ldif)\n\nYou need to authenticate with the admin account for this. (Password obviously redacted)\n\n    version: 1\n    \n    dn: cn=ldapbinduser,ou=accounts,dc=subdomain,dc=domain,dc=com\n    cn: ldapbinduser\n    description: LDAP Bind User\n    displayname: ldapbinduser\n    gecos: ldapbinduser\n    gidnumber: 20000\n    homedirectory: /nonexistent\n    loginshell: No Login\n    name: ldapbinduser\n    objectclass: domainAccount\n    objectclass: top\n    ou: ou=accounts,dc=subdomain,dc=domain,dc=com\n    sn: ldapbinduser\n    uid: ldapbinduser\n    uidnumber: 2999\n    userpassword: {MD5}Redacted==\n\n09.user.kdc-service.ldif (ldapadd -x -D 'cn=admin,dc=subdomain,dc=domain,dc=com' -W -H ldapi:/// -f 09.user.kdc-service.ldif)\n\nYou need to authenticate with the admin account for this. (Password obviously redacted)\n\n    version: 1\n    \n    dn: cn=kdc-service,ou=accounts,dc=subdomain,dc=domain,dc=com\n    objectClass: domainAccount\n    objectClass: simpleSecurityObject\n    objectClass: top\n    cn: kdc-service\n    name: kdc-service\n    sn: kdc-service\n    uid: kdc-service\n    userPassword:: Redacted=\n    description: Account used for the Kerberos KDC\n\n10.user.kadmin-service.ldif (ldapadd -x -D 'cn=admin,dc=subdomain,dc=domain,dc=com' -W -H ldapi:/// -f 10.user.kadmin-service.ldif)\n\nYou need to authenticate with the admin account for this. (Password obviously redacted)\n\n    version: 1\n    \n    dn: cn=kadmin-service,ou=accounts,dc=subdomain,dc=domain,dc=com\n    objectClass: domainAccount\n    objectClass: simpleSecurityObject\n    objectClass: top\n    cn: kadmin-service\n    name: kadmin-service\n    sn: kadmin-service\n    uid: kadmin-service\n    userPassword:: Redacted=\n    description: Account used for the Kerberos Admin server\n\n11.user.surfrock66.ldif (ldapadd -x -D 'cn=admin,dc=subdomain,dc=domain,dc=com' -W -H ldapi:/// -f 11.user.surfrock66.ldif)\n\nYou need to authenticate with the admin account for this. (Password obviously redacted) You should replace this with your user; also this account is baked into future ldif files, so change it there too.  Update the info in this one with whatever personal info you want.\n\n     version: 1\n    \n    dn: cn=surfrock66,ou=accounts,dc=subdomain,dc=domain,dc=com\n    cn: surfrock66\n    displayname: surfrock66\n    gecos: surfrock66\n    gidnumber: 1000\n    givenname: Redacted\n    homedirectory: /home/surfrock66\n    homepostaladdress:: Redacted==\n    initials: Redacted\n    l: Redacted\n    labeleduri: Redacted\n    loginshell: /bin/bash\n    mail: Redacted\n    mobile: Redacted\n    name: surfrock66\n    o: Redacted\n    objectclass: domainAccount\n    objectclass: top\n    ou: ou=accounts,dc=subdomain,dc=domain,dc=com\n    postalcode: Redacted\n    preferredlanguage: English\n    sn: Gullo\n    sshpublickey: ssh-rsa ---== surfrock66@openLDAP\n    st: Redacted\n    street: Redacted\n    telephonenumber: Redacted\n    uid: surfrock66\n    uidnumber: 1000\n    userpassword: {MD5}Redacted==\n\n12.access.permissions.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 12.access.permissions.ldif)\n\nMake sure to replace your account name in here.\n\n    dn: olcDatabase={1}mdb,cn=config\n    changetype: modify\n    replace: olcAccess\n    olcAccess: {0}to *\n      by dn=\"cn=admin,dc=subdomain,dc=domain,dc=com\" manage\n      by dn=\"cn=surfrock66,ou=accounts,dc=subdomain,dc=domain,dc=com\" manage\n      by dn=\"cn=ldapbinduser,ou=accounts,dc=subdomain,dc=domain,dc=com\" read\n      by dn=\"cn=kdc-service,ou=accounts,dc=subdomain,dc=domain,dc=com\" read\n      by dn=\"cn=kadmin-service,ou=accounts,dc=subdomain,dc=domain,dc=com\" write\n      by * break\n    -\n    add: olcAccess\n    olcAccess: {1}to dn.children=\"ou=accounts,dc=subdomain,dc=domain,dc=com\" attrs=userPassword,shadowExpire,shadowInactive,shadowLastChange,shadowMax,shadowMin,shadowWarning\n      by self write\n      by anonymous auth\n    -\n    add: olcAccess\n    olcAccess: {2}to dn.subtree=\"dc=subdomain,dc=domain,dc=com\"\n      by self read\n\n13.config.defineCACert.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 13.config.defineCACert.ldif)\n\nDon't modify the order; it has to be CA -&gt; Key -&gt; Cert\n\n    dn: cn=config\n    changetype: modify\n    add: olcTLSCACertificateFile\n    olcTLSCACertificateFile: /etc/ssl/certs/subdomain.domain.com.rootca.YYYY.MM.DD.pem\n    -\n    add: olcTLSCertificateKeyFile\n    olcTLSCertificateKeyFile: /etc/ssl/private/ldapserverhostname.subdomain.domain.com.key\n    -\n    add: olcTLSCertificateFile\n    olcTLSCertificateFile: /etc/ssl/certs/ldapserverhostname.subdomain.domain.com.crt\n\n14.config.forceTLS.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 14.config.forceTLS.ldif)\n\n    dn: olcDatabase={0}config,cn=config\n    changetype: modify\n    add: olcSecurity\n    olcSecurity: ssf=71\n    -\n    \n    dn: olcDatabase={1}mdb,cn=config\n    changetype: modify\n    add: olcSecurity\n    olcSecurity: ssf=71\n\nGOTTA RESTART SLAPD AFTER THIS ONE with 'systemctl restart slapd'\n\n15.config.setConfigAdminPass.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 15.config.setConfigAdminPass.ldif)\n\n(Password obviously redacted)\n\n    dn: cn=config\n    changetype: modify\n    \n    dn: olcDatabase={0}config,cn=config\n    changetype: modify\n    add: olcRootPW\n    olcRootPW: {SSHA}REDACTED\n\n16.config.kerberosSchema.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 16.config.kerberosSchema.ldif)\n\n    Sorry see my blog it's too long to post\n\n17.config.SASLConfig.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 17.config.SASLConfig.ldif)\n\n    dn: cn=config\n    changetype: modify\n    add: olcSaslHost\n    olcSaslHost: hostname.subdomain.domain.com\n    -\n    add: olcSaslRealm\n    olcSaslRealm: SUBDOMAIN.DOMAIN.COM\n    -\n    add: olcAuthzRegexp\n    olcAuthzRegexp: {0}\"cn=([^/]*),cn=subdomain.domain.com,cn=GSSAPI,cn=auth\" \"cn=$1,ou=accounts,dc=subdomain,dc=domain,dc=com\"\n    -\n    add: olcAuthzRegexp\n    olcAuthzRegexp: {1}\"cn=host/([^/]*).subdomain.domain.com,cn=subdomain.domain.com,cn=GSSAPI,cn=auth\" \"cn=$1,ou=hosts,dc=subdomain,dc=domain,dc=com\"\n    -\n    add: olcAuthzRegexp\n    olcAuthzRegexp: {2}\"uid=ldap/admin,cn=subdomain.domain.com,cn=GSSAPI,cn=auth\" \"cn=admin,dc=subdomain,dc=domain,dc=com\"\n\n18.ou.sudoers.ldif (ldapadd -x -D 'cn=admin,dc=subdomain,dc=domain,dc=com' -W -H ldapi:/// -f 18.ou.sudoers.ldif)\n\n    dn: ou=SUDOers,dc=subdomain,dc=domain,dc=com\n    objectclass: organizationalunit\n    ou: SUDOers\n    description: Users who can use Sudo\n\n19.sudorole.default.ldif (ldapadd -x -D 'cn=admin,dc=subdomain,dc=domain,dc=com' -W -H ldapi:/// -f 19.sudorole.default.ldif)\n\nThese are default sudo attributes given to all sudo users\n\n    dn: cn=defaults,ou=SUDOers,dc=subdomain,dc=domain,dc=com\n    objectClass: top\n    objectClass: sudoRole\n    cn: defaults\n    description: Default Sudo Options\n    sudoOption: !visiblepw\n    sudoOption: always_set_home\n    sudoOption: match_group_by_gid\n    sudoOption: always_query_group_plugin\n    sudoOption: env_reset\n    sudoOption: env_keep =  \"COLORS DISPLAY HOSTNAME HISTSIZE KDEDIR LS_COLORS\"\n    sudoOption: env_keep += \"MAIL PS1 PS2 QTDIR USERNAME LANG LC_ADDRESS LC_CTYPE\"\n    sudoOption: env_keep += \"LC_COLLATE LC_IDENTIFICATION LC_MEASUREMENT LC_MESSAGES\"\n    sudoOption: env_keep += \"LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER LC_TELEPHONE\"\n    sudoOption: env_keep += \"LC_TIME LC_ALL LANGUAGE LINGUAS _XKB_CHARSET XAUTHORITY\"\n    sudoOption: env_keep+=SSH_AUTH_SOCK\n    sudoOption: secure_path = /sbin:/bin:/usr/sbin:/usr/bin\n\n20.sudorole.sudo.ldif (ldapadd -x -D 'cn=admin,dc=subdomain,dc=domain,dc=com' -W -H ldapi:/// -f 20.sudorole.sudo.ldif)\n\nThis is the normal sudo role, where the user is basically root\n\n    dn: cn=sudo,ou=SUDOers,dc=subdomain,dc=domain,dc=com\n    objectClass: top\n    objectClass: sudoRole\n    cn: sudo\n    sudoHost: ALL\n    sudoRunAsUser: ALL\n    sudoCommand: ALL\n\n21.sudouser.surfrock66.ldif (ldapadd -x -D 'cn=admin,dc=subdomain,dc=domain,dc=com' -W -H ldapi:/// -f 21.sudouser.surfrock66.ldif)\n\nThis is how you add a user to sudo for all joined devices.  At the end of this post is a link to an article on adding more nuanced sudo roles and permissions, but this is your template for adding a user to sudo.\n\n    dn: cn=sudo,ou=SUDOers,dc=subdomain,dc=domain,dc=com\n    changetype: modify\n    add: sudoUser\n    sudoUser: surfrock66\n\nNow we get into configuration files. Here is just about everything for OpenLDAP:\n\ncat /etc/default/slapd | grep -v -e \"#\" -e \"\\^\\[\\[:space:\\]\\]\\*$\"\n\n    SLAPD_CONF=\n    SLAPD_USER=\"openldap\"\n    SLAPD_GROUP=\"openldap\"\n    SLAPD_PIDFILE=\n    SLAPD_SERVICES=\"ldap:/// ldapi:///\"\n    SLAPD_SENTINEL_FILE=/etc/ldap/noslapd\n    export KRB5_KTNAME=\"FILE:/etc/ldap/kerberos.ldap.ldapserverhostname.subdomain.domain.com.keytab\"\n    SLAPD_OPTIONS=\"\"\n\ncat /etc/ldap/ldap.conf | grep -v -e \"#\" -e \"\\^\\[\\[:space:\\]\\]\\*$\"\n\n    TLS_CACERT      /etc/ssl/certs/subdomain.domain.com.rootca.YYYY.MM.YY.pem\n    SASL_MECH       GSSAPI\n    SASL_REALM      SUBDOMAIN.DOMAIN.COM\n\ncat /usr/lib/sasl2/slapd.conf  | grep -v -e \"#\" -e \"\\^\\[\\[:space:\\]\\]\\*$\"\n\n    mech_list: plain\n    pwcheck_method: saslauthd\n    saslauthd_path: /var/run/saslauthd/mux\n\nHere is the config for saslauthd:\n\ncat /etc/default/saslauthd | grep -v -e \"#\" -e \"\\^\\[\\[:space:\\]\\]\\*$\"\n\n    START=yes\n    KRB5_TRACE=\"/dev/stderr\"\n    DESC=\"SASL Authentication Daemon\"\n    NAME=\"saslauthd\"\n    MECHANISMS=\"kerberos5\"\n    MECH_OPTIONS=\"\"\n    THREADS=5\n    OPTIONS=\"-c -m /var/run/saslauthd\"\n\ncat /etc/krb5.conf | grep -v -e \"#\" -e \"\\^\\[\\[:space:\\]\\]\\*$\" # The service password keyfile is commented out because it is unavailable until we stash it\n\n    [libdefaults]\n        default_realm = SUBDOMAIN.DOMAIN.COM\n        kdc_timesync = 1\n        ccache_type = 4\n        forwardable = true\n        proxiable = true\n        fcc-mit-ticketflags = true\n    [logging]\n        kdc = SYSLOG:DEBUG\n        admin_server = SYSLOG:DEBUG\n        default = SYSLOG:DEBUG\n        kdc = FILE:/var/log/kerberos/krb5kdc.log\n        admin_server = FILE:/var/log/kerberos/kadmin.log\n        default = FILE:/var/log/kerberos/krb5lib.log\n    [realms]\n        SUBDOMAIN.DOMAIN.COM = {\n            kdc = ldapserverhostname.subdomain.domain.com\n            admin_server = ldapserverhostname.subdomain.domain.com\n            default_domain = subdomain.domain.com\n            database_module = openldap_ldapconf\n        }\n    [domain_realm]\n        .subdomain.domain.com = SUBDOMAIN.DOMAIN.COM\n        subdomain.domain.com = SUBDOMAIN.DOMAIN.COM\n    [dbdefaults]\n        ldap_kerberos_container_dn = cn=krbContainer,dc=subdomain,dc=domain,dc=com\n    [dbmodules]\n        openldap_ldapconf = {\n            db_library = kldap\n            disable_last_success = true\n            disable_lockout  = true\n            acl_file = /etc/krb5kdc/kadm5.acl\n            key_stash_file = /etc/krb5kdc/stash\n            ldap_kdc_dn = \"cn=kdc-service,ou=accounts,dc=subdomain,dc=domain,dc=com\"\n            ldap_kadmind_dn = \"cn=kadmin-service,ou=accounts,dc=subdomain,dc=domain,dc=com\"\n            ldap_service_password_file = /etc/krb5kdc/service.keyfile\n            ldap_servers = ldapi:///\n            ldap_conns_per_server = 5\n        }\n\ncat /etc/krb5kdc/kadm5.acl (My user will be an administrator, hence adding it with all privs):\n\n    */admin@SUBDOMAIN.DOMAIN.COM *\n    surfrock66@SUBDOMAIN.DOMAIN.COM *\n\ncat /etc/rsyslog.d/51-slapd.conf # Direct logs to /var/log/slapd.log\n\n    local4.* /var/log/slapd.log\n\nRelevant Bind9 DNS entries in the home domain's zone:\n\n    ; Kerberos Records\n    _kerberos._tcp          SRV     0       0       88      ldapserverhostname\n    _kerberos._udp          SRV     0       0       88      ldapserverhostname\n    _kerberos-master._tcp   SRV     0       0       88      ldapserverhostname\n    _kerberos-master._udp   SRV     0       0       88      ldapserverhostname\n    _kerberos-adm._tcp      SRV     0       0       749     ldapserverhostname\n    _kpasswd._udp           SRV     0       0       464     ldapserverhostname\n\nIf UFW is in play you need to open the required firewall ports:\n\n    ufw allow 21/tcp # Kerberos ftp uses the default port\n    ufw allow 23/tcp # Kerberos telnet uses the default port\n    ufw allow 88/udp # Kerberos V5 KDC\n    ufw allow 88/tcp # Kerberos V5 KDC\n    ufw allow 464/udp # Kerberos V5 Kpasswd\n    ufw allow 464/tcp # Kerberos V5 Kpasswd\n    ufw allow 543/tcp # Kerberos authenticated rlogin\n    ufw allow 544/tcp # and remote shell\n    ufw allow 749/tcp # Kerberos 5 admin/changepw\n    ufw allow 749/udp # Kerberos 5 admin/changepw\n    ufw allow 754/tcp # Kerberos slave propagation\n    ufw allow 2105/tcp # Kerberos auth. &amp; encrypted rlogin\n    ufw allow 4444/tcp # Kerberos 5 to 4 ticket translator\n\nAnd now, the operational nonsense of running this.  You should reboot at this point, then do the following commands; make sure to generate and store very strong passwords for each step when asked:\n\nCreate the realm:\n\n    # You need the LDAP admin password, and a stront password for the KDC master key\n    kdb5_ldap_util -D cn=admin,dc=subdomain,dc=domain,dc=com -H ldapi:/// create -subtrees dc=subdomain,dc=domain,dc=com -sscope SUB -r SUBDOMAIN.DOMAIN.COM\n\nStash the passwords for binding:\n\n    # kdc-service LDAP Password\n    kdb5_ldap_util -D cn=admin,dc=subdomain,dc=domain,dc=com stashsrvpw -f /etc/krb5kdc/service.keyfile cn=kdc-service,ou=accounts,dc=subdomain,dc=domain,dc=com\n    \n    # kadmin-service LDAP Password\n    kdb5_ldap_util -D cn=admin,dc=subdomain,dc=domain,dc=com stashsrvpw -f /etc/krb5kdc/service.keyfile cn=kadmin-service,ou=accounts,dc=subdomain,dc=domain,dc=com\n    \n    # KDC Master Key\n    kdb5_util stash -f /etc/krb5kdc/stash\n\nRestart the kerberos services:\n\n    systemctl restart krb5-kdc\n    systemctl restart krb5-admin-server\n\nEnter the kadmin service and start creating and managing Kerberos Principals:\n\n    kadmin.local\n    \n    # Take control of kadmin/admin@SUBDOMAIN.DOMAIN.COM and set the password to your LDAP admin password\n    cpw kadmin/admin\n    \n    # Create my user\n    addprinc surfrock66\n    \n    # This is so saslauthd has access to kerberos\n    addprinc -randkey ldap/ldapserverhostname.subdomain.domain.com@SUBDOMAIN.DOMAIN.COM\n    ktadd -k /etc/ldap/ldap.keytab ldap/ldapserverhostname.subdomain.domain.com@SUBDOMAIN.DOMAIN.COM\n    \n    addprinc -randkey host/ldapserverhostname.subdomain.domain.com@SUBDOMAIN.DOMAIN.COM\n    ktadd -k /etc/ldap/ldap.keytab host/ldapserverhostname.subdomain.domain.com@SUBDOMAIN.DOMAIN.COM\n    ktadd -k /etc/krb5.keytab host/ldapserverhostname.subdomain.domain.com@SUBDOMAIN.DOMAIN.COM\n    \n    exit\n\nInitialize host kerberos:\n\n    chown openldap:openldap /etc/ldap/ldap.keytab\n    chmod 640 /etc/ldap/ldap.keytab\n    kinit -k -t /etc/krb5.keytab\n    systemctl restart slapd krb5-kdc krb5-admin-server saslauthd\n\nNow we can create our users, and shift their password to use kerberos and not LDAP.  First, I will create the user in Apache Directory Studio.  I will set a password there, for testing.  Once that's done, I will test the account from the ldap server, and another computer:\n\nFrom the LDAP server:\n\n    ldapsearch -x -D cn=testuser,ou=accounts,dc=subdomain,dc=domain,dc=com -W -b dc=subdomain,dc=domain,dc=com -H ldapi:///\n\nAnd from a different computer, where we use -ZZ to check starttls:\n\n    ldapsearch -ZZ -x -D cn=testuser,ou=accounts,dc=subdomain,dc=domain,dc=com -W -b dc=subdomain,dc=domain,dc=com -H ldap://ldapserverhostname.subdomain.domain.com\n\nOn the LDAP server, we get in with kadmin and create a new user principle; for this test, you should use a different password than the LDAP password to help verify how you are authenticating:\n\n    kadmin.local\n    addprinc testuser\n\nThis will create a principle [testuser@SUBDOMAIN.DOMAIN.COM](mailto:testuser@SUBDOMAIN.DOMAIN.COM).  Then, in ApacheDirectoryStudio, I change the user's password to exactly \"{SASL}[testuser@SUBDOMAIN.DOMAIN.COM](mailto:testuser@SUBDOMAIN.DOMAIN.COM)\" which is code to tell LDAP to forward the password attempt to kerberos via SASL.\n\nChange a kerberos password (You will need the old password)\n\n    kpasswd testuser\n\nOr, you do it from kadmin on the ldap server:\n\n    kadmin.local\n    cpw testuser\n\nNow, to onboard a new computer, we do the following on the new client.  This is one big blast, so if it's confusing, take it apart and go line by line; the focus of this article is more on the server config, so the client config is fairly abridged; this is literally my copy/paste from my onboarding script, there are lots of ways to automate this\n\n    apt update\n    apt -y install sssd-ldap sssd-krb5 ldap-utils krb5-user sssd-common sssd libpam-sss libnss-sss sssd-tools libsss-sudo\n    # Default realm is SUBDOMAIN.DOMAIN.COM\n    \n    # Ensure the rootCA's cert, that validates the LDAP server, is /etc/ssl/certs/subdomain.domain.com.rootca.YYYY.MM.DD.pem or wherever you put it, just modify the sssd.conf below.  Make sure not to ignore the \"ldap_schema\" and \"ldap_group_member\" as they are required to make memberof work.\n    \n    sed -i \"s|$(hostname)|$(hostname).subdomain.domain.com $(hostname)|g\" /etc/hosts\n    hostnamectl set-hostname client-hostname.subdomain.domain.com\n    \n    echo -e \"[sssd]\" &gt; /etc/sssd/sssd.conf\n    echo -e \"config_file_version = 2\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"debug_level = 4\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"services = nss, pam, sudo\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"domains = subdomain.domain.com\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"[sudo]\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"[domain/subdomain.domain.com]\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"debug_level = 4\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"cache_credentials = True\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"enumerate = True\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"id_provider = ldap\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"sudo_provider = ldap\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"ldap_uri = ldap://ldapserverhostname.subdomain.domain.com\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"ldap_search_base = dc=subdomain,dc=domain,dc=com\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"ldap_group_search_base = ou=groups,dc=subdomain,dc=domain,dc=com\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"ldap_sudo_search_base = ou=SUDOers,dc=subdomain,dc=domain,dc=com\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"ldap_sudo_full_refresh_interval=86400\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"ldap_sudo_smart_refresh_interval=3600\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"ldap_schema = rfc2307bis\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"ldap_user_object_class = domainAccount\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"ldap_group_object_class = domainGroup\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"ldap_group_member = member\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"ldap_default_bind_dn = cn=ldapbinduser,ou=accounts,dc=subdomain,dc=domain,dc=com\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"ldap_default_authtok = PLAINTEXTPASSFORBINDUSER\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"ldap_id_use_start_tls = True\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"ldap_tls_reqcert = demand\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"ldap_tls_cacert = /etc/ssl/certs/subdomain.domain.com.rootca.YYYY.MM.DD.pem\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"ldap_tls_cacertdir = /etc/ssl/certs\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"auth_provider = krb5\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"chpass_provider = krb5\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"krb5_server = ldapserverhostname.subdomain.domain.com\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"krb5_kpasswd = ldapserverhostname.subdomain.domain.com\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"krb5_realm = SUBDOMAIN.DOMAIN.COM\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"\" &gt;&gt; /etc/sssd/sssd.conf\n    echo -e \"create_homedir = True\" &gt;&gt; /etc/sssd/sssd.conf\n    \n    chmod 600 /etc/sssd/sssd.conf\n    \n    echo -e \"[libdefaults]\" &gt; /etc/krb5.conf\n    echo -e \"\\tdefault_realm = SUBDOMAIN.DOMAIN.COM\" &gt;&gt; /etc/krb5.conf\n    echo -e \"\\tkdc_timesync = 1\" &gt;&gt; /etc/krb5.conf\n    echo -e \"\\tccache_type = 4\" &gt;&gt; /etc/krb5.conf\n    echo -e \"\\tforwardable = true\" &gt;&gt; /etc/krb5.conf\n    echo -e \"\\tproxiable = true\" &gt;&gt; /etc/krb5.conf\n    echo -e \"\\tfcc-mit-ticketflags = true\" &gt;&gt; /etc/krb5.conf\n    echo -e \"[realms]\" &gt;&gt; /etc/krb5.conf\n    echo -e \"\\tSUBDOMAIN.DOMAIN.COM = {\" &gt;&gt; /etc/krb5.conf\n    echo -e \"\\t\\tkdc = ldapserverhostname.subdomain.domain.com\" &gt;&gt; /etc/krb5.conf\n    echo -e \"\\t\\tadmin_server = ldapserverhostname.subdomain.domain.com\" &gt;&gt; /etc/krb5.conf\n    echo -e \"\\t\\tdefault_domain = subdomain.domain.com\" &gt;&gt; /etc/krb5.conf\n    echo -e \"\\t}\" &gt;&gt; /etc/krb5.conf\n    echo -e \"[domain_realm]\" &gt;&gt; /etc/krb5.conf\n    echo -e \"\\t.subdomain.domain.com = SUBDOMAIN.DOMAIN.COM\" &gt;&gt; /etc/krb5.conf\n    echo -e \"\\tsubdomain.domain.com = SUBDOMAIN.DOMAIN.COM\" &gt;&gt; /etc/krb5.conf\n    \n    echo -e \"TLS_CACERTt/etc/ssl/certs/subdomain.domain.com.rootca.YYYY.MM.DD.pem\" &gt; /etc/ldap/ldap.conf\n    \n    echo -e \"passwd:ttfiles systemd sss\" &gt; /etc/nsswitch.conf\n    echo -e \"group:ttfiles systemd sss\" &gt;&gt; /etc/nsswitch.conf\n    echo -e \"shadow:ttfiles sss\" &gt;&gt; /etc/nsswitch.conf\n    echo -e \"gshadow:tfiles\" &gt;&gt; /etc/nsswitch.conf\n    echo -e \"sudoers:tfiles sss\" &gt;&gt; /etc/nsswitch.conf\n    echo -e \"\" &gt;&gt; /etc/nsswitch.conf\n    echo -e \"hosts:ttfiles mdns4_minimal [NOTFOUND=return] dns\" &gt;&gt; /etc/nsswitch.conf\n    echo -e \"networks:tfiles\" &gt;&gt; /etc/nsswitch.conf\n    echo -e \"\" &gt;&gt; /etc/nsswitch.conf\n    echo -e \"protocols:tdb files\" &gt;&gt; /etc/nsswitch.conf\n    echo -e \"services:tdb files sss\" &gt;&gt; /etc/nsswitch.conf\n    echo -e \"ethers:ttdb files\" &gt;&gt; /etc/nsswitch.conf\n    echo -e \"rpc:ttdb files\" &gt;&gt; /etc/nsswitch.conf\n    echo -e \"\" &gt;&gt; /etc/nsswitch.conf\n    echo -e \"netgroup:tnis sss\" &gt;&gt; /etc/nsswitch.conf\n    echo -e \"automount:tsss\" &gt;&gt; /etc/nsswitch.conf\n    \n    echo -e \"[Seat:*]\" &gt;&gt; /etc/lightdm/lightdm.conf\n    echo -e \"greeter-show-manual-login=true\" &gt;&gt; /etc/lightdm/lightdm.conf\n    \n    kadmin -p surfrock66@SUBDOMAIN.DOMAIN.COM\n    # Login with password\n    \n    addprinc -randkey host/client-hostname.subdomain.domain.com@SUBDOMAIN.DOMAIN.COM\n    \n    ktadd -k /etc/krb5.keytab host/client-hostname.subdomain.domain.com@SUBDOMAIN.DOMAIN.COM\n    exit\n    \n    kinit -k -t /etc/krb5.keytab\n    systemctl restart sssd\n    systemctl restart lightdm\n    \n    # Test with an LDAP username\n    getent passwd username\n\nNow, let's say you have an existing computer with an account, specifically one with that username/uid combination.  This is ok; after setting this all up, you can go in and do \"userdel username\".  When you try to login again, it will scoop up the account from LDAP/Kerberos, and as long as the UID is the same, all file persmissions will persist.\n\nThere are many more pieces here which I will now work to solve, but as it is, we're pretty much done.  I use syncthing to keep user directories in sync, which works well.  I want to tie ssh into ldap, which is supported, but realistically I'm the only ssh user right now and I already put in my keys when onboarding a new device, so it's not critical.  The last piece is a better user-interface for managing password changes and, to be blunt, directory info.  I could see a world where a system like this better emulates Active Directory or other directory services out there, but for the homelab, it's working great.\n\nBelow are my references; there are certainly more as this has been a meandering journey over MANY MONTHS:\n\n* [http://labs.opinsys.com/blog/2010/03/16/openldap-authentication-with-kerberos-backend-using-sasl/](http://labs.opinsys.com/blog/2010/03/16/openldap-authentication-with-kerberos-backend-using-sasl/)\n* [https://www.openldap.org/doc/admin24/security.html#Pass-Through%20authentication](https://www.openldap.org/doc/admin24/security.html#Pass-Through%20authentication)\n* [https://ltb-project.org/documentation/sasl\\_delegation.html](https://ltb-project.org/documentation/sasl_delegation.html)\n* [https://ubuntu.com/server/docs/service-sssd](https://ubuntu.com/server/docs/service-sssd)\n* [https://ubuntu.com/server/docs/service-kerberos-with-openldap-backend](https://ubuntu.com/server/docs/service-kerberos-with-openldap-backend)\n* [https://unix.stackexchange.com/questions/486444/how-to-tell-kerberos-where-to-find-the-root-certificate-for-ldap-with-tls](https://unix.stackexchange.com/questions/486444/how-to-tell-kerberos-where-to-find-the-root-certificate-for-ldap-with-tls)\n* [https://kifarunix.com/how-to-configure-sudo-via-openldap-server/](https://kifarunix.com/how-to-configure-sudo-via-openldap-server/)", "author_fullname": "t2_3j73d", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "OpenLDAP, Kerberos and SASL - My Experience In The Homelab", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "guide", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11bavio", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.81, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Guide", "can_mod_post": false, "score": 6, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1677296040.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;The full version of this is on my blog, because it&amp;#39;s too long to include all the ldif files here: &lt;a href=\"https://www.surfrock66.com/openldap-kerberos-and-sasl-my-experience-in-the-homelab/\"&gt;https://www.surfrock66.com/openldap-kerberos-and-sasl-my-experience-in-the-homelab/&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;I previously posted my experiences &lt;a href=\"https://www.reddit.com/r/selfhosted/comments/nnam1x/my_experienceguide_setting_up_openldap_for/\"&gt;setting up openLDAP&lt;/a&gt;, using my own custom schema.  This whole ordeal is for a couple of reasons...I wanted to learn about openLDAP and how schema works, and I wanted to eventually create something akin to &amp;quot;Active Directory&amp;quot; from my home that wasn&amp;#39;t just &amp;quot;use Samba&amp;quot; or &amp;quot;use FreeIPA.&amp;quot;  I don&amp;#39;t have anything against Samba, but it feels like using Samba is trying to acheive Microsoft functionality with Microsoft compatibility, and I don&amp;#39;t need Microsoft compatibility, so I wanted to do it without.  I have no Microsoft devices in my ecosystem and have no plans to add any.  I don&amp;#39;t have anything against FreeIPA either, but their docs target rpm distros and I tend to live in deb land, and I found the initial install frustrating unless I switched platforms...it felt like lock-in.  There are other solutions and this is a problem that has been solved other ways but with shortcomings, but I wanted to really do something &amp;quot;from scratch&amp;quot; so I share this not as a recommendation, but as a start-to-finish resource with some nuggets of wisdom that may help someone else whose journey brushes up against parts of mine.&lt;/p&gt;\n\n&lt;p&gt;When I started, I was just authenticating web services like nextcloud, jellyfin, SAML, etc.  Tying those into openLDAP was very easy and has worked very well for a long time.  Now though, I want to use Kerberos for Linux PAM authentication as I am about to spin up a bunch of small servers (I got a new hypervisor and am redoing a lot of infrastructure, I don&amp;#39;t want different credential stores all over the place).  Because of this, I&amp;#39;m bolting on MIT Kerberos as my network authentication provider; that being said, getting OpenLDAP and Kerberos to work together and only use 1 password was not intuitive.  Kerberos will use LDAP as it&amp;#39;s database, and authentication will happen through SASL.  Ultimately, requests will go to openLDAP, then depending on the account, the password will either be validated in OpenLDAP for web users, or it will defer to SASL for users doing both web/PAM stuff, which will then authenticate against the Kerberos passoword it stores in LDAP.  Circular much?&lt;/p&gt;\n\n&lt;p&gt;Here is the vision, to help you see what I&amp;#39;m working towards.  Ultimately I have about 20 users, all of which might access web services like nextcloud, but 4 core users which will actually log into computers.  One of those 4 (me) has sudo rights on any computer.  All 20 users should be able to log into nextcloud, jellyfin, etc without issue, and for now I&amp;#39;m managing password resets if they come to my house (I had previously used phpldapadmin for password resets, but that was struggling on php7+ when I last tried).  For the internal users, they will be able to sit at ANY computer and log in using their same username and password.  If an web only user tries to sit and log into a computer, the&amp;#39;ll get username not found.  If any of the 3 non-sudo users tries sudo, they&amp;#39;ll get an unauthorized error.  If my account tries sudo, I can become root.  I can handle password resets for the internal users via kpasswd or kadmin.local.&lt;/p&gt;\n\n&lt;p&gt;I don&amp;#39;t know if this is a great solution, however it has been a great learning experience and it is working.  The one piece that is not clean is resetting passwords.  Because some passwords are stored in LDAP and some are stored in kerberos, I have to know where to change/update/reset them.  Most accounts I use Apache Directory Studio as an analogue to ADUC, but for my nice shiny Kerberos accounts, I have to use kpasswd on the command line.  This is not a great operational procedure; if there was a decent GUI/webapp I could see making all accounts kerberos accounts.  I think this is solvable, but I&amp;#39;m stopping here because I want to move on to other priorities, and I have a workable solution.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m including all my various final config files below so that the final working state can be documented for anyone else attempting to implement a solution like this.  When I was done, I burned the host to the ground and rebuilt it from this documentation to make sure it was correct.  Domain, subdomain, and host names are changed of course and passwords are redacted.  I used my name &amp;quot;surfrock66&amp;quot; as the prototype account, but you could replace with yours.  Honestly, if you did a find-replace of &amp;quot;subdomain&amp;quot;, then &amp;quot;domain&amp;quot;, then &amp;quot;ldapserverhostname&amp;quot;, then &amp;quot;surfrock66&amp;quot;, most of this would be copy/paste.  I don&amp;#39;t recommend that; this isn&amp;#39;t meant to be a drop in, this is a learning journey that someone could follow to learn and recreate.&lt;/p&gt;\n\n&lt;p&gt;Some accounts are created with the ldif files below, and in my personal case I&amp;#39;ve got the hashed passwords already in the files.  If you&amp;#39;re copying this, you should generate all the passwords offline, run the ldif commands to create the account, then use Apache Directory Studio (connecting as admin) to actually change password as needed.  You should pregenerate the following passwords:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;admin (cn=admin,dc=subdomain,dc=domain,dc=com and &lt;a href=\"mailto:admin@SUBDOMAIN.DOMAIN.COM\"&gt;admin@SUBDOMAIN.DOMAIN.COM&lt;/a&gt;) (used for both slapd admin AND kerberos admin)&lt;/li&gt;\n&lt;li&gt;config admin (cn=admin,cn=config)&lt;/li&gt;\n&lt;li&gt;KDC Master Key&lt;/li&gt;\n&lt;li&gt;Your user account, replace surfrock66 (cn=surfrock66,ou=accounts,dc=subdomain,dc=domain,dc=com)&lt;/li&gt;\n&lt;li&gt;kdc-service (cn=kdc-service,ou=accounts,dc=subdomain,dc=domain,dc=com)&lt;/li&gt;\n&lt;li&gt;kadmin-service (cn=kadmin-service,ou=accounts,dc=subdomain,dc=domain,dc=com)&lt;/li&gt;\n&lt;li&gt;ldapbinduser (cn=ldapbinduser,ou=accounts,dc=subdomain,dc=domain,dc=com) (This password will be put in plain text in places that store bind credentials in config files, as an FYI.)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;The commands to install stuff start here; I put a dpkg-reconfigure after to answer the prompts for any given package install.  If you&amp;#39;re not prompted, you need to run through them:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;apt -y update\napt -y install db-util db5.3-util krb5-admin-server krb5-config krb5-kdc krb5-kdc-ldap krb5-user ldap-utils libgssrpc4 libkadm5clnt-mit12 libkadm5srv-mit12 libkdb5-10 libltdl7 libodbc2 libsasl2-modules-gssapi-mit libverto-libevent1 libverto1 sasl2-bin schema2ldif slapd\n\ndpkg-reconfigure slapd\n# Don&amp;#39;t omit initial configuration\n# Domain = subdomain.domain.com\n# Organization = subdomain.domain.com\n# Set an admin password\n# Do you want the DB removed when SlapD is purged...yes\n\ndpkg-reconfigure krb5-config\n# Default Kerberos Realm is SUBDOMAIN.DOMAIN.COM\n# Primary KDC is fqdn\n# Administrative server is fqdn\n\ndpkg-reconfigure krb5-admin-server\n# Ok\n\ndpkg-reconfigure krb5-kdc\n# No, don&amp;#39;t create KDC config manually\n\nmkdir /var/log/kerberos\ntouch /var/log/kerberos/krb5kdc.log\ntouch /etc/krb5kdc/service.keyfile\nvi /usr/lib/systemd/system/krb5-kdc.service\n# Add &amp;quot;/var/log/kerberos&amp;quot; to the line &amp;quot;ReadWriteDirectories&amp;quot;\n\nvi /usr/lib/systemd/system/krb5-admin-server.service\n# Add &amp;quot;/var/log/kerberos&amp;quot; to the line &amp;quot;ReadWriteDirectories&amp;quot;\n\nsystemctl daemon-reload\nadduser openldap sasl\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If you want to use an SSL cert to do TLS, you&amp;#39;ll need to set that up.  On ubuntu, there&amp;#39;s some weird permission stuff.  At a high level, we&amp;#39;re creating an ssl-certs group, setting the cert file permissions to permit group reading, then adding the openldap service&amp;#39;s account to that group; you can use whatever gid you want.  I personally have an easy-rsa CA, so I have an internal CA and domain issued cert/key pair.  That may be too much for some people, which is fine, you would then omit the 2 TLS ldif files below.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;groupadd -g 901 ssl-cert\nusermod -a -G ssl-cert openldap\n\n# Create the CA Cert File\n/etc/ssl/certs/subdomain.domain.com.rootca.YYYY.MM.DD.pem\n\n# Create the Certificate Private Key File\n/etc/ssl/private/ldap.subdomain.domain.com.key\n\n# Create the Certificate File\n/etc/ssl/certs/ldap.subdomain.domain.com.crt\n\nchown root:ssl-cert /etc/ssl/certs/subdomain.domain.com.rootca.YYYY.MM.DD.pem\nchown root:ssl-cert /etc/ssl/private\nchown root:ssl-cert /etc/ssl/private/ldapserverhostname.subdomain.domain.com.key\nchown root:ssl-cert /etc/ssl/certs/ldapserverhostname.subdomain.domain.com.crt\nchmod 710 /etc/ssl/private\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;First, here are all of the ldif files that represent the configuration of slapd and the ldap environment.  These are all of them as I set them up.  Note there are 2 types of ldapadd commands, some require authentication of the admin account, some don&amp;#39;t.  I pasted them exactly as I successfully ran them.  One thing to consider is that you can&amp;#39;t really just paste a password in for a lot of these accounts.  If you put nonsense in the password field, you could later open the object in Apache Directory Studio and set the password from the admin account, where it&amp;#39;ll add it encrypted.  Once you&amp;#39;re done, you can then use ADS to export the object as an ldif, so it&amp;#39;s easy to recreate later (which is how I got most of these ldif&amp;#39;s at first).&lt;/p&gt;\n\n&lt;p&gt;01.config.InstallMemberOf.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 01.config.InstallMemberOf.ldif)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;dn: cn=module{0},cn=config\nchangetype: modify\nadd: olcModuleLoad\nolcModuleLoad: memberof.la\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;02.schema.attribute.sshPublicKey.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 02.schema.attribute.sshPublicKey.ldif)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;dn: cn=sshPublicKey,cn=schema,cn=config\nobjectClass: olcSchemaConfig\ncn: attribute.sshPublicKey\n#\n# LDAP Public Key Patch schema for use with openssh-ldappubkey\n#                              useful with PKA-LDAP also\n#\n# Adjusted: Dennis Leeuw &amp;lt;dleeuw@made-it.com&amp;gt;\n#           Making the uid a MUST, but the sshPublicKey a MAY\n#           so we can add the objectClass and later add the key\n#\n# Author: Eric AUGE &amp;lt;eau@phear.org&amp;gt;\n# \n# Based on the proposal of : Mark Ruijter\n#\n# octetString SYNTAX\nolcAttributeTypes: ( 1.3.6.1.4.1.24552.500.1.1.1.13 NAME &amp;#39;sshPublicKey&amp;#39; \n  DESC &amp;#39;MANDATORY: OpenSSH Public key&amp;#39; \n  EQUALITY octetStringMatch\n  SYNTAX 1.3.6.1.4.1.1466.115.121.1.40 )\n# printableString SYNTAX yes|no\nolcObjectClasses: ( 1.3.6.1.4.1.24552.500.1.1.2.0 NAME &amp;#39;ldapPublicKey&amp;#39; SUP top AUXILIARY\n  DESC &amp;#39;MANDATORY: OpenSSH LPK objectclass&amp;#39;\n  MUST uid\n  MAY sshPublicKey\n  )\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;03.schema.sudo.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 03.schema.sudo.ldif)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;dn: cn=sudo,cn=schema,cn=config\nobjectClass: olcSchemaConfig\ncn: sudo\nolcAttributeTypes: ( 1.3.6.1.4.1.15953.9.1.1 NAME &amp;#39;sudoUser&amp;#39; DESC &amp;#39;User(s) who may  run sudo&amp;#39; EQUALITY caseExactIA5Match SUBSTR caseExactIA5SubstringsMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )\nolcAttributeTypes: ( 1.3.6.1.4.1.15953.9.1.2 NAME &amp;#39;sudoHost&amp;#39; DESC &amp;#39;Host(s) who may run sudo&amp;#39; EQUALITY caseExactIA5Match SUBSTR caseExactIA5SubstringsMatch SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )\nolcAttributeTypes: ( 1.3.6.1.4.1.15953.9.1.3 NAME &amp;#39;sudoCommand&amp;#39; DESC &amp;#39;Command(s) to be executed by sudo&amp;#39; EQUALITY caseExactIA5Match SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )\nolcAttributeTypes: ( 1.3.6.1.4.1.15953.9.1.4 NAME &amp;#39;sudoRunAs&amp;#39; DESC &amp;#39;User(s) impersonated by sudo (deprecated)&amp;#39; EQUALITY caseExactIA5Match SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )\nolcAttributeTypes: ( 1.3.6.1.4.1.15953.9.1.5 NAME &amp;#39;sudoOption&amp;#39; DESC &amp;#39;Options(s) followed by sudo&amp;#39; EQUALITY caseExactIA5Match SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )\nolcAttributeTypes: ( 1.3.6.1.4.1.15953.9.1.6 NAME &amp;#39;sudoRunAsUser&amp;#39; DESC &amp;#39;User(s) impersonated by sudo&amp;#39; EQUALITY caseExactIA5Match SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )\nolcAttributeTypes: ( 1.3.6.1.4.1.15953.9.1.7 NAME &amp;#39;sudoRunAsGroup&amp;#39; DESC &amp;#39;Group(s) impersonated by sudo&amp;#39; EQUALITY caseExactIA5Match SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )\nolcObjectClasses: ( 1.3.6.1.4.1.15953.9.2.1 NAME &amp;#39;sudoRole&amp;#39; SUP top STRUCTURAL DESC &amp;#39;Sudoer Entries&amp;#39; MUST ( cn ) MAY ( sudoUser $ sudoHost $ sudoCommand $ sudoRunAs $ sudoRunAsUser $ sudoRunAsGroup $ sudoOption $ description ) )\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;04.schema.objectClass.domainAccount.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 04.schema.objectClass.domainAccount.ldif)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;dn: cn=objectClass.domainAccount,cn=schema,cn=config\nobjectClass: olcSchemaConfig\ncn: objectClass.domainAccount\nolcObjectClasses: ( 1.3.6.1.4.1.57470.2.2.1 NAME &amp;#39;domainAccount&amp;#39;\n  DESC &amp;#39;A user/account/person in the organization&amp;#39;\n  SUP top STRUCTURAL\n  MUST ( cn $ name $ sn $ uid )\n  MAY ( \n  audio $   businessCategory $ carLicense $ departmentNumber $ \n  description $ destinationIndicator $ displayName $ \n  employeeNumber $ employeeType $ facsimileTelephoneNumber $ \n  gecos $ gidNumber $ givenName $ homeDirectory $ homePhone $ \n  homePostalAddress $ initials $ internationaliSDNNumber $ \n  jpegPhoto $ l $ labeledURI $ loginShell $ \n  mail $ manager $ mobile $ o $ ou $ pager $ photo $ \n  physicalDeliveryOfficeName $ postalAddress $ postalCode $ \n  postOfficeBox $ preferredDeliveryMethod $ \n  preferredLanguage $ registeredAddress $ roomNumber $ \n  secretary $ seeAlso $ shadowExpire $ shadowInactive $ \n  shadowLastChange $ shadowMax $ shadowMin $ shadowWarning $ \n  sshPublicKey $ st $ street $ telephoneNumber $ \n  teletexTerminalIdentifier $ telexNumber $ title $ \n  uidNumber $ userCertificate $ userPassword $ userPKCS12 $ \n  userSMIMECertificate $ x121Address $ x500uniqueIdentifier ) )\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;05.schema.objectClass.domainGroup.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 05.schema.objectClass.domainGroup.ldif)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;dn: cn=objectClass.domainGroup,cn=schema,cn=config\nobjectClass: olcSchemaConfig\ncn: objectClass.domainGroup\nolcObjectClasses: ( 1.3.6.1.4.1.57470.2.2.2 NAME &amp;#39;domainGroup&amp;#39;\n  DESC &amp;#39;A group of names in the organization&amp;#39;\n  SUP top STRUCTURAL\n  MUST ( cn )\n  MAY ( \n  businessCategory $ description $ gidNumber $ member $\n  o $ ou $ owner $ seeAlso ) )\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;06.config.EnableMemberOf.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 06.config.EnableMemberOf.ldif)&lt;/p&gt;\n\n&lt;p&gt;We&amp;#39;re configuring 2 things here, changing the memberof overlay to use &amp;quot;domainGroup&amp;quot; instead of the default objectClass &amp;quot;groupOfNames&amp;quot; and enabling referential integrity.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;dn: olcOverlay=memberof,olcDatabase={1}mdb,cn=config\nobjectClass: olcOverlayConfig\nobjectClass: olcMemberOf\nolcOverlay: memberof\nolcMemberOfRefint: TRUE\nolcMemberOfGroupOC: domainGroup\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;07.ous.ldif (ldapadd -x -D &amp;#39;cn=admin,dc=subdomain,dc=domain,dc=com&amp;#39; -W -H ldapi:/// -f 07.ous.ldif)&lt;/p&gt;\n\n&lt;p&gt;You need to authenticate with the admin account for this&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;dn: ou=accounts,dc=subdomain,dc=domain,dc=com\nobjectClass: organizationalUnit\nou: accounts\n\ndn: ou=groups,dc=subdomain,dc=domain,dc=com\nobjectClass: organizationalUnit\nou: groups\n\ndn: ou=hosts,dc=subdomain,dc=domain,dc=com\nobjectClass: organizationalUnit\nou: hosts\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;08.user.ldapbinduser.ldif (ldapadd -x -D &amp;#39;cn=admin,dc=subdomain,dc=domain,dc=com&amp;#39; -W -H ldapi:/// -f 08.user.ldapbinduser.ldif)&lt;/p&gt;\n\n&lt;p&gt;You need to authenticate with the admin account for this. (Password obviously redacted)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;version: 1\n\ndn: cn=ldapbinduser,ou=accounts,dc=subdomain,dc=domain,dc=com\ncn: ldapbinduser\ndescription: LDAP Bind User\ndisplayname: ldapbinduser\ngecos: ldapbinduser\ngidnumber: 20000\nhomedirectory: /nonexistent\nloginshell: No Login\nname: ldapbinduser\nobjectclass: domainAccount\nobjectclass: top\nou: ou=accounts,dc=subdomain,dc=domain,dc=com\nsn: ldapbinduser\nuid: ldapbinduser\nuidnumber: 2999\nuserpassword: {MD5}Redacted==\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;09.user.kdc-service.ldif (ldapadd -x -D &amp;#39;cn=admin,dc=subdomain,dc=domain,dc=com&amp;#39; -W -H ldapi:/// -f 09.user.kdc-service.ldif)&lt;/p&gt;\n\n&lt;p&gt;You need to authenticate with the admin account for this. (Password obviously redacted)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;version: 1\n\ndn: cn=kdc-service,ou=accounts,dc=subdomain,dc=domain,dc=com\nobjectClass: domainAccount\nobjectClass: simpleSecurityObject\nobjectClass: top\ncn: kdc-service\nname: kdc-service\nsn: kdc-service\nuid: kdc-service\nuserPassword:: Redacted=\ndescription: Account used for the Kerberos KDC\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;10.user.kadmin-service.ldif (ldapadd -x -D &amp;#39;cn=admin,dc=subdomain,dc=domain,dc=com&amp;#39; -W -H ldapi:/// -f 10.user.kadmin-service.ldif)&lt;/p&gt;\n\n&lt;p&gt;You need to authenticate with the admin account for this. (Password obviously redacted)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;version: 1\n\ndn: cn=kadmin-service,ou=accounts,dc=subdomain,dc=domain,dc=com\nobjectClass: domainAccount\nobjectClass: simpleSecurityObject\nobjectClass: top\ncn: kadmin-service\nname: kadmin-service\nsn: kadmin-service\nuid: kadmin-service\nuserPassword:: Redacted=\ndescription: Account used for the Kerberos Admin server\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;11.user.surfrock66.ldif (ldapadd -x -D &amp;#39;cn=admin,dc=subdomain,dc=domain,dc=com&amp;#39; -W -H ldapi:/// -f 11.user.surfrock66.ldif)&lt;/p&gt;\n\n&lt;p&gt;You need to authenticate with the admin account for this. (Password obviously redacted) You should replace this with your user; also this account is baked into future ldif files, so change it there too.  Update the info in this one with whatever personal info you want.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt; version: 1\n\ndn: cn=surfrock66,ou=accounts,dc=subdomain,dc=domain,dc=com\ncn: surfrock66\ndisplayname: surfrock66\ngecos: surfrock66\ngidnumber: 1000\ngivenname: Redacted\nhomedirectory: /home/surfrock66\nhomepostaladdress:: Redacted==\ninitials: Redacted\nl: Redacted\nlabeleduri: Redacted\nloginshell: /bin/bash\nmail: Redacted\nmobile: Redacted\nname: surfrock66\no: Redacted\nobjectclass: domainAccount\nobjectclass: top\nou: ou=accounts,dc=subdomain,dc=domain,dc=com\npostalcode: Redacted\npreferredlanguage: English\nsn: Gullo\nsshpublickey: ssh-rsa ---== surfrock66@openLDAP\nst: Redacted\nstreet: Redacted\ntelephonenumber: Redacted\nuid: surfrock66\nuidnumber: 1000\nuserpassword: {MD5}Redacted==\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;12.access.permissions.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 12.access.permissions.ldif)&lt;/p&gt;\n\n&lt;p&gt;Make sure to replace your account name in here.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;dn: olcDatabase={1}mdb,cn=config\nchangetype: modify\nreplace: olcAccess\nolcAccess: {0}to *\n  by dn=&amp;quot;cn=admin,dc=subdomain,dc=domain,dc=com&amp;quot; manage\n  by dn=&amp;quot;cn=surfrock66,ou=accounts,dc=subdomain,dc=domain,dc=com&amp;quot; manage\n  by dn=&amp;quot;cn=ldapbinduser,ou=accounts,dc=subdomain,dc=domain,dc=com&amp;quot; read\n  by dn=&amp;quot;cn=kdc-service,ou=accounts,dc=subdomain,dc=domain,dc=com&amp;quot; read\n  by dn=&amp;quot;cn=kadmin-service,ou=accounts,dc=subdomain,dc=domain,dc=com&amp;quot; write\n  by * break\n-\nadd: olcAccess\nolcAccess: {1}to dn.children=&amp;quot;ou=accounts,dc=subdomain,dc=domain,dc=com&amp;quot; attrs=userPassword,shadowExpire,shadowInactive,shadowLastChange,shadowMax,shadowMin,shadowWarning\n  by self write\n  by anonymous auth\n-\nadd: olcAccess\nolcAccess: {2}to dn.subtree=&amp;quot;dc=subdomain,dc=domain,dc=com&amp;quot;\n  by self read\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;13.config.defineCACert.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 13.config.defineCACert.ldif)&lt;/p&gt;\n\n&lt;p&gt;Don&amp;#39;t modify the order; it has to be CA -&amp;gt; Key -&amp;gt; Cert&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;dn: cn=config\nchangetype: modify\nadd: olcTLSCACertificateFile\nolcTLSCACertificateFile: /etc/ssl/certs/subdomain.domain.com.rootca.YYYY.MM.DD.pem\n-\nadd: olcTLSCertificateKeyFile\nolcTLSCertificateKeyFile: /etc/ssl/private/ldapserverhostname.subdomain.domain.com.key\n-\nadd: olcTLSCertificateFile\nolcTLSCertificateFile: /etc/ssl/certs/ldapserverhostname.subdomain.domain.com.crt\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;14.config.forceTLS.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 14.config.forceTLS.ldif)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;dn: olcDatabase={0}config,cn=config\nchangetype: modify\nadd: olcSecurity\nolcSecurity: ssf=71\n-\n\ndn: olcDatabase={1}mdb,cn=config\nchangetype: modify\nadd: olcSecurity\nolcSecurity: ssf=71\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;GOTTA RESTART SLAPD AFTER THIS ONE with &amp;#39;systemctl restart slapd&amp;#39;&lt;/p&gt;\n\n&lt;p&gt;15.config.setConfigAdminPass.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 15.config.setConfigAdminPass.ldif)&lt;/p&gt;\n\n&lt;p&gt;(Password obviously redacted)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;dn: cn=config\nchangetype: modify\n\ndn: olcDatabase={0}config,cn=config\nchangetype: modify\nadd: olcRootPW\nolcRootPW: {SSHA}REDACTED\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;16.config.kerberosSchema.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 16.config.kerberosSchema.ldif)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;Sorry see my blog it&amp;#39;s too long to post\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;17.config.SASLConfig.ldif (ldapadd -Y EXTERNAL -H ldapi:/// -f 17.config.SASLConfig.ldif)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;dn: cn=config\nchangetype: modify\nadd: olcSaslHost\nolcSaslHost: hostname.subdomain.domain.com\n-\nadd: olcSaslRealm\nolcSaslRealm: SUBDOMAIN.DOMAIN.COM\n-\nadd: olcAuthzRegexp\nolcAuthzRegexp: {0}&amp;quot;cn=([^/]*),cn=subdomain.domain.com,cn=GSSAPI,cn=auth&amp;quot; &amp;quot;cn=$1,ou=accounts,dc=subdomain,dc=domain,dc=com&amp;quot;\n-\nadd: olcAuthzRegexp\nolcAuthzRegexp: {1}&amp;quot;cn=host/([^/]*).subdomain.domain.com,cn=subdomain.domain.com,cn=GSSAPI,cn=auth&amp;quot; &amp;quot;cn=$1,ou=hosts,dc=subdomain,dc=domain,dc=com&amp;quot;\n-\nadd: olcAuthzRegexp\nolcAuthzRegexp: {2}&amp;quot;uid=ldap/admin,cn=subdomain.domain.com,cn=GSSAPI,cn=auth&amp;quot; &amp;quot;cn=admin,dc=subdomain,dc=domain,dc=com&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;18.ou.sudoers.ldif (ldapadd -x -D &amp;#39;cn=admin,dc=subdomain,dc=domain,dc=com&amp;#39; -W -H ldapi:/// -f 18.ou.sudoers.ldif)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;dn: ou=SUDOers,dc=subdomain,dc=domain,dc=com\nobjectclass: organizationalunit\nou: SUDOers\ndescription: Users who can use Sudo\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;19.sudorole.default.ldif (ldapadd -x -D &amp;#39;cn=admin,dc=subdomain,dc=domain,dc=com&amp;#39; -W -H ldapi:/// -f 19.sudorole.default.ldif)&lt;/p&gt;\n\n&lt;p&gt;These are default sudo attributes given to all sudo users&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;dn: cn=defaults,ou=SUDOers,dc=subdomain,dc=domain,dc=com\nobjectClass: top\nobjectClass: sudoRole\ncn: defaults\ndescription: Default Sudo Options\nsudoOption: !visiblepw\nsudoOption: always_set_home\nsudoOption: match_group_by_gid\nsudoOption: always_query_group_plugin\nsudoOption: env_reset\nsudoOption: env_keep =  &amp;quot;COLORS DISPLAY HOSTNAME HISTSIZE KDEDIR LS_COLORS&amp;quot;\nsudoOption: env_keep += &amp;quot;MAIL PS1 PS2 QTDIR USERNAME LANG LC_ADDRESS LC_CTYPE&amp;quot;\nsudoOption: env_keep += &amp;quot;LC_COLLATE LC_IDENTIFICATION LC_MEASUREMENT LC_MESSAGES&amp;quot;\nsudoOption: env_keep += &amp;quot;LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER LC_TELEPHONE&amp;quot;\nsudoOption: env_keep += &amp;quot;LC_TIME LC_ALL LANGUAGE LINGUAS _XKB_CHARSET XAUTHORITY&amp;quot;\nsudoOption: env_keep+=SSH_AUTH_SOCK\nsudoOption: secure_path = /sbin:/bin:/usr/sbin:/usr/bin\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;20.sudorole.sudo.ldif (ldapadd -x -D &amp;#39;cn=admin,dc=subdomain,dc=domain,dc=com&amp;#39; -W -H ldapi:/// -f 20.sudorole.sudo.ldif)&lt;/p&gt;\n\n&lt;p&gt;This is the normal sudo role, where the user is basically root&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;dn: cn=sudo,ou=SUDOers,dc=subdomain,dc=domain,dc=com\nobjectClass: top\nobjectClass: sudoRole\ncn: sudo\nsudoHost: ALL\nsudoRunAsUser: ALL\nsudoCommand: ALL\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;21.sudouser.surfrock66.ldif (ldapadd -x -D &amp;#39;cn=admin,dc=subdomain,dc=domain,dc=com&amp;#39; -W -H ldapi:/// -f 21.sudouser.surfrock66.ldif)&lt;/p&gt;\n\n&lt;p&gt;This is how you add a user to sudo for all joined devices.  At the end of this post is a link to an article on adding more nuanced sudo roles and permissions, but this is your template for adding a user to sudo.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;dn: cn=sudo,ou=SUDOers,dc=subdomain,dc=domain,dc=com\nchangetype: modify\nadd: sudoUser\nsudoUser: surfrock66\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now we get into configuration files. Here is just about everything for OpenLDAP:&lt;/p&gt;\n\n&lt;p&gt;cat /etc/default/slapd | grep -v -e &amp;quot;#&amp;quot; -e &amp;quot;^[[:space:]]*$&amp;quot;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;SLAPD_CONF=\nSLAPD_USER=&amp;quot;openldap&amp;quot;\nSLAPD_GROUP=&amp;quot;openldap&amp;quot;\nSLAPD_PIDFILE=\nSLAPD_SERVICES=&amp;quot;ldap:/// ldapi:///&amp;quot;\nSLAPD_SENTINEL_FILE=/etc/ldap/noslapd\nexport KRB5_KTNAME=&amp;quot;FILE:/etc/ldap/kerberos.ldap.ldapserverhostname.subdomain.domain.com.keytab&amp;quot;\nSLAPD_OPTIONS=&amp;quot;&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;cat /etc/ldap/ldap.conf | grep -v -e &amp;quot;#&amp;quot; -e &amp;quot;^[[:space:]]*$&amp;quot;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;TLS_CACERT      /etc/ssl/certs/subdomain.domain.com.rootca.YYYY.MM.YY.pem\nSASL_MECH       GSSAPI\nSASL_REALM      SUBDOMAIN.DOMAIN.COM\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;cat /usr/lib/sasl2/slapd.conf  | grep -v -e &amp;quot;#&amp;quot; -e &amp;quot;^[[:space:]]*$&amp;quot;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;mech_list: plain\npwcheck_method: saslauthd\nsaslauthd_path: /var/run/saslauthd/mux\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Here is the config for saslauthd:&lt;/p&gt;\n\n&lt;p&gt;cat /etc/default/saslauthd | grep -v -e &amp;quot;#&amp;quot; -e &amp;quot;^[[:space:]]*$&amp;quot;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;START=yes\nKRB5_TRACE=&amp;quot;/dev/stderr&amp;quot;\nDESC=&amp;quot;SASL Authentication Daemon&amp;quot;\nNAME=&amp;quot;saslauthd&amp;quot;\nMECHANISMS=&amp;quot;kerberos5&amp;quot;\nMECH_OPTIONS=&amp;quot;&amp;quot;\nTHREADS=5\nOPTIONS=&amp;quot;-c -m /var/run/saslauthd&amp;quot;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;cat /etc/krb5.conf | grep -v -e &amp;quot;#&amp;quot; -e &amp;quot;^[[:space:]]*$&amp;quot; # The service password keyfile is commented out because it is unavailable until we stash it&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;[libdefaults]\n    default_realm = SUBDOMAIN.DOMAIN.COM\n    kdc_timesync = 1\n    ccache_type = 4\n    forwardable = true\n    proxiable = true\n    fcc-mit-ticketflags = true\n[logging]\n    kdc = SYSLOG:DEBUG\n    admin_server = SYSLOG:DEBUG\n    default = SYSLOG:DEBUG\n    kdc = FILE:/var/log/kerberos/krb5kdc.log\n    admin_server = FILE:/var/log/kerberos/kadmin.log\n    default = FILE:/var/log/kerberos/krb5lib.log\n[realms]\n    SUBDOMAIN.DOMAIN.COM = {\n        kdc = ldapserverhostname.subdomain.domain.com\n        admin_server = ldapserverhostname.subdomain.domain.com\n        default_domain = subdomain.domain.com\n        database_module = openldap_ldapconf\n    }\n[domain_realm]\n    .subdomain.domain.com = SUBDOMAIN.DOMAIN.COM\n    subdomain.domain.com = SUBDOMAIN.DOMAIN.COM\n[dbdefaults]\n    ldap_kerberos_container_dn = cn=krbContainer,dc=subdomain,dc=domain,dc=com\n[dbmodules]\n    openldap_ldapconf = {\n        db_library = kldap\n        disable_last_success = true\n        disable_lockout  = true\n        acl_file = /etc/krb5kdc/kadm5.acl\n        key_stash_file = /etc/krb5kdc/stash\n        ldap_kdc_dn = &amp;quot;cn=kdc-service,ou=accounts,dc=subdomain,dc=domain,dc=com&amp;quot;\n        ldap_kadmind_dn = &amp;quot;cn=kadmin-service,ou=accounts,dc=subdomain,dc=domain,dc=com&amp;quot;\n        ldap_service_password_file = /etc/krb5kdc/service.keyfile\n        ldap_servers = ldapi:///\n        ldap_conns_per_server = 5\n    }\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;cat /etc/krb5kdc/kadm5.acl (My user will be an administrator, hence adding it with all privs):&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;*/admin@SUBDOMAIN.DOMAIN.COM *\nsurfrock66@SUBDOMAIN.DOMAIN.COM *\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;cat /etc/rsyslog.d/51-slapd.conf # Direct logs to /var/log/slapd.log&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;local4.* /var/log/slapd.log\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Relevant Bind9 DNS entries in the home domain&amp;#39;s zone:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;; Kerberos Records\n_kerberos._tcp          SRV     0       0       88      ldapserverhostname\n_kerberos._udp          SRV     0       0       88      ldapserverhostname\n_kerberos-master._tcp   SRV     0       0       88      ldapserverhostname\n_kerberos-master._udp   SRV     0       0       88      ldapserverhostname\n_kerberos-adm._tcp      SRV     0       0       749     ldapserverhostname\n_kpasswd._udp           SRV     0       0       464     ldapserverhostname\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;If UFW is in play you need to open the required firewall ports:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;ufw allow 21/tcp # Kerberos ftp uses the default port\nufw allow 23/tcp # Kerberos telnet uses the default port\nufw allow 88/udp # Kerberos V5 KDC\nufw allow 88/tcp # Kerberos V5 KDC\nufw allow 464/udp # Kerberos V5 Kpasswd\nufw allow 464/tcp # Kerberos V5 Kpasswd\nufw allow 543/tcp # Kerberos authenticated rlogin\nufw allow 544/tcp # and remote shell\nufw allow 749/tcp # Kerberos 5 admin/changepw\nufw allow 749/udp # Kerberos 5 admin/changepw\nufw allow 754/tcp # Kerberos slave propagation\nufw allow 2105/tcp # Kerberos auth. &amp;amp; encrypted rlogin\nufw allow 4444/tcp # Kerberos 5 to 4 ticket translator\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And now, the operational nonsense of running this.  You should reboot at this point, then do the following commands; make sure to generate and store very strong passwords for each step when asked:&lt;/p&gt;\n\n&lt;p&gt;Create the realm:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;# You need the LDAP admin password, and a stront password for the KDC master key\nkdb5_ldap_util -D cn=admin,dc=subdomain,dc=domain,dc=com -H ldapi:/// create -subtrees dc=subdomain,dc=domain,dc=com -sscope SUB -r SUBDOMAIN.DOMAIN.COM\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Stash the passwords for binding:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;# kdc-service LDAP Password\nkdb5_ldap_util -D cn=admin,dc=subdomain,dc=domain,dc=com stashsrvpw -f /etc/krb5kdc/service.keyfile cn=kdc-service,ou=accounts,dc=subdomain,dc=domain,dc=com\n\n# kadmin-service LDAP Password\nkdb5_ldap_util -D cn=admin,dc=subdomain,dc=domain,dc=com stashsrvpw -f /etc/krb5kdc/service.keyfile cn=kadmin-service,ou=accounts,dc=subdomain,dc=domain,dc=com\n\n# KDC Master Key\nkdb5_util stash -f /etc/krb5kdc/stash\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Restart the kerberos services:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;systemctl restart krb5-kdc\nsystemctl restart krb5-admin-server\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Enter the kadmin service and start creating and managing Kerberos Principals:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;kadmin.local\n\n# Take control of kadmin/admin@SUBDOMAIN.DOMAIN.COM and set the password to your LDAP admin password\ncpw kadmin/admin\n\n# Create my user\naddprinc surfrock66\n\n# This is so saslauthd has access to kerberos\naddprinc -randkey ldap/ldapserverhostname.subdomain.domain.com@SUBDOMAIN.DOMAIN.COM\nktadd -k /etc/ldap/ldap.keytab ldap/ldapserverhostname.subdomain.domain.com@SUBDOMAIN.DOMAIN.COM\n\naddprinc -randkey host/ldapserverhostname.subdomain.domain.com@SUBDOMAIN.DOMAIN.COM\nktadd -k /etc/ldap/ldap.keytab host/ldapserverhostname.subdomain.domain.com@SUBDOMAIN.DOMAIN.COM\nktadd -k /etc/krb5.keytab host/ldapserverhostname.subdomain.domain.com@SUBDOMAIN.DOMAIN.COM\n\nexit\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Initialize host kerberos:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;chown openldap:openldap /etc/ldap/ldap.keytab\nchmod 640 /etc/ldap/ldap.keytab\nkinit -k -t /etc/krb5.keytab\nsystemctl restart slapd krb5-kdc krb5-admin-server saslauthd\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now we can create our users, and shift their password to use kerberos and not LDAP.  First, I will create the user in Apache Directory Studio.  I will set a password there, for testing.  Once that&amp;#39;s done, I will test the account from the ldap server, and another computer:&lt;/p&gt;\n\n&lt;p&gt;From the LDAP server:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;ldapsearch -x -D cn=testuser,ou=accounts,dc=subdomain,dc=domain,dc=com -W -b dc=subdomain,dc=domain,dc=com -H ldapi:///\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;And from a different computer, where we use -ZZ to check starttls:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;ldapsearch -ZZ -x -D cn=testuser,ou=accounts,dc=subdomain,dc=domain,dc=com -W -b dc=subdomain,dc=domain,dc=com -H ldap://ldapserverhostname.subdomain.domain.com\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;On the LDAP server, we get in with kadmin and create a new user principle; for this test, you should use a different password than the LDAP password to help verify how you are authenticating:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;kadmin.local\naddprinc testuser\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;This will create a principle [&lt;a href=\"mailto:testuser@SUBDOMAIN.DOMAIN.COM\"&gt;testuser@SUBDOMAIN.DOMAIN.COM&lt;/a&gt;](mailto:&lt;a href=\"mailto:testuser@SUBDOMAIN.DOMAIN.COM\"&gt;testuser@SUBDOMAIN.DOMAIN.COM&lt;/a&gt;).  Then, in ApacheDirectoryStudio, I change the user&amp;#39;s password to exactly &amp;quot;{SASL}[&lt;a href=\"mailto:testuser@SUBDOMAIN.DOMAIN.COM\"&gt;testuser@SUBDOMAIN.DOMAIN.COM&lt;/a&gt;](mailto:&lt;a href=\"mailto:testuser@SUBDOMAIN.DOMAIN.COM\"&gt;testuser@SUBDOMAIN.DOMAIN.COM&lt;/a&gt;)&amp;quot; which is code to tell LDAP to forward the password attempt to kerberos via SASL.&lt;/p&gt;\n\n&lt;p&gt;Change a kerberos password (You will need the old password)&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;kpasswd testuser\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Or, you do it from kadmin on the ldap server:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;kadmin.local\ncpw testuser\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now, to onboard a new computer, we do the following on the new client.  This is one big blast, so if it&amp;#39;s confusing, take it apart and go line by line; the focus of this article is more on the server config, so the client config is fairly abridged; this is literally my copy/paste from my onboarding script, there are lots of ways to automate this&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;apt update\napt -y install sssd-ldap sssd-krb5 ldap-utils krb5-user sssd-common sssd libpam-sss libnss-sss sssd-tools libsss-sudo\n# Default realm is SUBDOMAIN.DOMAIN.COM\n\n# Ensure the rootCA&amp;#39;s cert, that validates the LDAP server, is /etc/ssl/certs/subdomain.domain.com.rootca.YYYY.MM.DD.pem or wherever you put it, just modify the sssd.conf below.  Make sure not to ignore the &amp;quot;ldap_schema&amp;quot; and &amp;quot;ldap_group_member&amp;quot; as they are required to make memberof work.\n\nsed -i &amp;quot;s|$(hostname)|$(hostname).subdomain.domain.com $(hostname)|g&amp;quot; /etc/hosts\nhostnamectl set-hostname client-hostname.subdomain.domain.com\n\necho -e &amp;quot;[sssd]&amp;quot; &amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;config_file_version = 2&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;debug_level = 4&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;services = nss, pam, sudo&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;domains = subdomain.domain.com&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;[sudo]&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;[domain/subdomain.domain.com]&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;debug_level = 4&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;cache_credentials = True&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;enumerate = True&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;id_provider = ldap&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;sudo_provider = ldap&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;ldap_uri = ldap://ldapserverhostname.subdomain.domain.com&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;ldap_search_base = dc=subdomain,dc=domain,dc=com&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;ldap_group_search_base = ou=groups,dc=subdomain,dc=domain,dc=com&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;ldap_sudo_search_base = ou=SUDOers,dc=subdomain,dc=domain,dc=com&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;ldap_sudo_full_refresh_interval=86400&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;ldap_sudo_smart_refresh_interval=3600&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;ldap_schema = rfc2307bis&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;ldap_user_object_class = domainAccount&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;ldap_group_object_class = domainGroup&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;ldap_group_member = member&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;ldap_default_bind_dn = cn=ldapbinduser,ou=accounts,dc=subdomain,dc=domain,dc=com&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;ldap_default_authtok = PLAINTEXTPASSFORBINDUSER&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;ldap_id_use_start_tls = True&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;ldap_tls_reqcert = demand&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;ldap_tls_cacert = /etc/ssl/certs/subdomain.domain.com.rootca.YYYY.MM.DD.pem&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;ldap_tls_cacertdir = /etc/ssl/certs&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;auth_provider = krb5&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;chpass_provider = krb5&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;krb5_server = ldapserverhostname.subdomain.domain.com&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;krb5_kpasswd = ldapserverhostname.subdomain.domain.com&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;krb5_realm = SUBDOMAIN.DOMAIN.COM&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\necho -e &amp;quot;create_homedir = True&amp;quot; &amp;gt;&amp;gt; /etc/sssd/sssd.conf\n\nchmod 600 /etc/sssd/sssd.conf\n\necho -e &amp;quot;[libdefaults]&amp;quot; &amp;gt; /etc/krb5.conf\necho -e &amp;quot;\\tdefault_realm = SUBDOMAIN.DOMAIN.COM&amp;quot; &amp;gt;&amp;gt; /etc/krb5.conf\necho -e &amp;quot;\\tkdc_timesync = 1&amp;quot; &amp;gt;&amp;gt; /etc/krb5.conf\necho -e &amp;quot;\\tccache_type = 4&amp;quot; &amp;gt;&amp;gt; /etc/krb5.conf\necho -e &amp;quot;\\tforwardable = true&amp;quot; &amp;gt;&amp;gt; /etc/krb5.conf\necho -e &amp;quot;\\tproxiable = true&amp;quot; &amp;gt;&amp;gt; /etc/krb5.conf\necho -e &amp;quot;\\tfcc-mit-ticketflags = true&amp;quot; &amp;gt;&amp;gt; /etc/krb5.conf\necho -e &amp;quot;[realms]&amp;quot; &amp;gt;&amp;gt; /etc/krb5.conf\necho -e &amp;quot;\\tSUBDOMAIN.DOMAIN.COM = {&amp;quot; &amp;gt;&amp;gt; /etc/krb5.conf\necho -e &amp;quot;\\t\\tkdc = ldapserverhostname.subdomain.domain.com&amp;quot; &amp;gt;&amp;gt; /etc/krb5.conf\necho -e &amp;quot;\\t\\tadmin_server = ldapserverhostname.subdomain.domain.com&amp;quot; &amp;gt;&amp;gt; /etc/krb5.conf\necho -e &amp;quot;\\t\\tdefault_domain = subdomain.domain.com&amp;quot; &amp;gt;&amp;gt; /etc/krb5.conf\necho -e &amp;quot;\\t}&amp;quot; &amp;gt;&amp;gt; /etc/krb5.conf\necho -e &amp;quot;[domain_realm]&amp;quot; &amp;gt;&amp;gt; /etc/krb5.conf\necho -e &amp;quot;\\t.subdomain.domain.com = SUBDOMAIN.DOMAIN.COM&amp;quot; &amp;gt;&amp;gt; /etc/krb5.conf\necho -e &amp;quot;\\tsubdomain.domain.com = SUBDOMAIN.DOMAIN.COM&amp;quot; &amp;gt;&amp;gt; /etc/krb5.conf\n\necho -e &amp;quot;TLS_CACERTt/etc/ssl/certs/subdomain.domain.com.rootca.YYYY.MM.DD.pem&amp;quot; &amp;gt; /etc/ldap/ldap.conf\n\necho -e &amp;quot;passwd:ttfiles systemd sss&amp;quot; &amp;gt; /etc/nsswitch.conf\necho -e &amp;quot;group:ttfiles systemd sss&amp;quot; &amp;gt;&amp;gt; /etc/nsswitch.conf\necho -e &amp;quot;shadow:ttfiles sss&amp;quot; &amp;gt;&amp;gt; /etc/nsswitch.conf\necho -e &amp;quot;gshadow:tfiles&amp;quot; &amp;gt;&amp;gt; /etc/nsswitch.conf\necho -e &amp;quot;sudoers:tfiles sss&amp;quot; &amp;gt;&amp;gt; /etc/nsswitch.conf\necho -e &amp;quot;&amp;quot; &amp;gt;&amp;gt; /etc/nsswitch.conf\necho -e &amp;quot;hosts:ttfiles mdns4_minimal [NOTFOUND=return] dns&amp;quot; &amp;gt;&amp;gt; /etc/nsswitch.conf\necho -e &amp;quot;networks:tfiles&amp;quot; &amp;gt;&amp;gt; /etc/nsswitch.conf\necho -e &amp;quot;&amp;quot; &amp;gt;&amp;gt; /etc/nsswitch.conf\necho -e &amp;quot;protocols:tdb files&amp;quot; &amp;gt;&amp;gt; /etc/nsswitch.conf\necho -e &amp;quot;services:tdb files sss&amp;quot; &amp;gt;&amp;gt; /etc/nsswitch.conf\necho -e &amp;quot;ethers:ttdb files&amp;quot; &amp;gt;&amp;gt; /etc/nsswitch.conf\necho -e &amp;quot;rpc:ttdb files&amp;quot; &amp;gt;&amp;gt; /etc/nsswitch.conf\necho -e &amp;quot;&amp;quot; &amp;gt;&amp;gt; /etc/nsswitch.conf\necho -e &amp;quot;netgroup:tnis sss&amp;quot; &amp;gt;&amp;gt; /etc/nsswitch.conf\necho -e &amp;quot;automount:tsss&amp;quot; &amp;gt;&amp;gt; /etc/nsswitch.conf\n\necho -e &amp;quot;[Seat:*]&amp;quot; &amp;gt;&amp;gt; /etc/lightdm/lightdm.conf\necho -e &amp;quot;greeter-show-manual-login=true&amp;quot; &amp;gt;&amp;gt; /etc/lightdm/lightdm.conf\n\nkadmin -p surfrock66@SUBDOMAIN.DOMAIN.COM\n# Login with password\n\naddprinc -randkey host/client-hostname.subdomain.domain.com@SUBDOMAIN.DOMAIN.COM\n\nktadd -k /etc/krb5.keytab host/client-hostname.subdomain.domain.com@SUBDOMAIN.DOMAIN.COM\nexit\n\nkinit -k -t /etc/krb5.keytab\nsystemctl restart sssd\nsystemctl restart lightdm\n\n# Test with an LDAP username\ngetent passwd username\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Now, let&amp;#39;s say you have an existing computer with an account, specifically one with that username/uid combination.  This is ok; after setting this all up, you can go in and do &amp;quot;userdel username&amp;quot;.  When you try to login again, it will scoop up the account from LDAP/Kerberos, and as long as the UID is the same, all file persmissions will persist.&lt;/p&gt;\n\n&lt;p&gt;There are many more pieces here which I will now work to solve, but as it is, we&amp;#39;re pretty much done.  I use syncthing to keep user directories in sync, which works well.  I want to tie ssh into ldap, which is supported, but realistically I&amp;#39;m the only ssh user right now and I already put in my keys when onboarding a new device, so it&amp;#39;s not critical.  The last piece is a better user-interface for managing password changes and, to be blunt, directory info.  I could see a world where a system like this better emulates Active Directory or other directory services out there, but for the homelab, it&amp;#39;s working great.&lt;/p&gt;\n\n&lt;p&gt;Below are my references; there are certainly more as this has been a meandering journey over MANY MONTHS:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"http://labs.opinsys.com/blog/2010/03/16/openldap-authentication-with-kerberos-backend-using-sasl/\"&gt;http://labs.opinsys.com/blog/2010/03/16/openldap-authentication-with-kerberos-backend-using-sasl/&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://www.openldap.org/doc/admin24/security.html#Pass-Through%20authentication\"&gt;https://www.openldap.org/doc/admin24/security.html#Pass-Through%20authentication&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://ltb-project.org/documentation/sasl_delegation.html\"&gt;https://ltb-project.org/documentation/sasl_delegation.html&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://ubuntu.com/server/docs/service-sssd\"&gt;https://ubuntu.com/server/docs/service-sssd&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://ubuntu.com/server/docs/service-kerberos-with-openldap-backend\"&gt;https://ubuntu.com/server/docs/service-kerberos-with-openldap-backend&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://unix.stackexchange.com/questions/486444/how-to-tell-kerberos-where-to-find-the-root-certificate-for-ldap-with-tls\"&gt;https://unix.stackexchange.com/questions/486444/how-to-tell-kerberos-where-to-find-the-root-certificate-for-ldap-with-tls&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"https://kifarunix.com/how-to-configure-sudo-via-openldap-server/\"&gt;https://kifarunix.com/how-to-configure-sudo-via-openldap-server/&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "c5723bd4-ecdc-11ec-95c9-6aa3965088a7", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11bavio", "is_robot_indexable": true, "report_reasons": null, "author": "surfrock66", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11bavio/openldap_kerberos_and_sasl_my_experience_in_the/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11bavio/openldap_kerberos_and_sasl_my_experience_in_the/", "subreddit_subscribers": 231821, "created_utc": 1677296040.0, "num_crossposts": 1, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Does anyone have experience hosting a wiki? I tried one a long time ago and it was filled with spam bots in a few days. Is there a simple/easy solution?", "author_fullname": "t2_11k30x", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Does anyone have experience hosting a wiki?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11ayyik", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 8, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 8, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": true, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1677264941.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Does anyone have experience hosting a wiki? I tried one a long time ago and it was filled with spam bots in a few days. Is there a simple/easy solution?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11ayyik", "is_robot_indexable": true, "report_reasons": null, "author": "RedEagle_MGN", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11ayyik/does_anyone_have_experience_hosting_a_wiki/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11ayyik/does_anyone_have_experience_hosting_a_wiki/", "subreddit_subscribers": 231821, "created_utc": 1677264941.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hi,\n\nI have recently set a home assistant on my raspberry pi 4 with all my devices set up. Now I would like to be able to control it by voice. I've heard of some options but I'm unsure of which are serious ones :\n\nMy requirements are that it is installable on Docker. All my services are on that and I couldn't do without it. It should also be usable headless (I don't have any display on my pi4)\n\n\\- MycroftAI : seems to be getting dead, it uses a cloud backend that can also be selfhosted with Selene but it looks like it is no longer a good option. What do you think ?\n\n\\- NeonAI : I am not sure if it's real, the website looks a bit fake [https://neon.ai/](https://neon.ai/) but they claim it is installable on docker. I have no idea how it works though.\n\n\\- OVOS (openvoiceos), looks like it's the successor or Mycroft, but I couldn't find if it's usable headless and on docker. Could someone help me to see a bit clearer on this ?\n\n\\- Rhasspy. It looks much more documented than the others, but apparently it is more pre-written sentences and not a real assistant. It is not a huge problem but if possible I would also be able to ask questions on the internet, set timers, things like this. Couldn't figure out what it can and can't do.\n\nIs there other options I didn't think about ? Could you help me to compare them ? Do you have reviews ?\n\nThanks in advance for any answer, have a great day.", "author_fullname": "t2_w7u542t", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "I would like a voice assistant for Home Assistant. What are my options ?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "Automation", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11b3alm", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 7, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Automation", "can_mod_post": false, "score": 7, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1677275746.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi,&lt;/p&gt;\n\n&lt;p&gt;I have recently set a home assistant on my raspberry pi 4 with all my devices set up. Now I would like to be able to control it by voice. I&amp;#39;ve heard of some options but I&amp;#39;m unsure of which are serious ones :&lt;/p&gt;\n\n&lt;p&gt;My requirements are that it is installable on Docker. All my services are on that and I couldn&amp;#39;t do without it. It should also be usable headless (I don&amp;#39;t have any display on my pi4)&lt;/p&gt;\n\n&lt;p&gt;- MycroftAI : seems to be getting dead, it uses a cloud backend that can also be selfhosted with Selene but it looks like it is no longer a good option. What do you think ?&lt;/p&gt;\n\n&lt;p&gt;- NeonAI : I am not sure if it&amp;#39;s real, the website looks a bit fake &lt;a href=\"https://neon.ai/\"&gt;https://neon.ai/&lt;/a&gt; but they claim it is installable on docker. I have no idea how it works though.&lt;/p&gt;\n\n&lt;p&gt;- OVOS (openvoiceos), looks like it&amp;#39;s the successor or Mycroft, but I couldn&amp;#39;t find if it&amp;#39;s usable headless and on docker. Could someone help me to see a bit clearer on this ?&lt;/p&gt;\n\n&lt;p&gt;- Rhasspy. It looks much more documented than the others, but apparently it is more pre-written sentences and not a real assistant. It is not a huge problem but if possible I would also be able to ask questions on the internet, set timers, things like this. Couldn&amp;#39;t figure out what it can and can&amp;#39;t do.&lt;/p&gt;\n\n&lt;p&gt;Is there other options I didn&amp;#39;t think about ? Could you help me to compare them ? Do you have reviews ?&lt;/p&gt;\n\n&lt;p&gt;Thanks in advance for any answer, have a great day.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "13cfcd28-7e68-11e9-8ad0-0edb644073ce", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11b3alm", "is_robot_indexable": true, "report_reasons": null, "author": "LeVraiRoiDHyrule", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11b3alm/i_would_like_a_voice_assistant_for_home_assistant/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11b3alm/i_would_like_a_voice_assistant_for_home_assistant/", "subreddit_subscribers": 231821, "created_utc": 1677275746.0, "num_crossposts": 1, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Just had something pop into my head and I was wondering if anyone has seen something like the Autotldr bot that various subreddits use as a plugin for an RSS news reader? I am unfortunately not a developer, but hey I\u2019d throw some money to someone that wants to write a plugin or something like that. It seems in my head like it would be super useful as a way to grab more pertinent content from the various articles I read. \n\nThanks!", "author_fullname": "t2_h9k9l", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Autotldr in RSS app?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "textstorage", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11ats5q", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.78, "author_flair_background_color": null, "subreddit_type": "public", "ups": 5, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Text Storage", "can_mod_post": false, "score": 5, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1677251835.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Just had something pop into my head and I was wondering if anyone has seen something like the Autotldr bot that various subreddits use as a plugin for an RSS news reader? I am unfortunately not a developer, but hey I\u2019d throw some money to someone that wants to write a plugin or something like that. It seems in my head like it would be super useful as a way to grab more pertinent content from the various articles I read. &lt;/p&gt;\n\n&lt;p&gt;Thanks!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "38c528e4-7e68-11e9-baff-0ec5f304b28c", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11ats5q", "is_robot_indexable": true, "report_reasons": null, "author": "No_Ja", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11ats5q/autotldr_in_rss_app/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11ats5q/autotldr_in_rss_app/", "subreddit_subscribers": 231821, "created_utc": 1677251835.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hello, I am building an open-source tool for frontend teams to enjoy instant natural language search in React (JS/TS) codebases. You can ask questions about your codebase to find code instead of searching through keywords. I\u2019d love your feedback on this, here is the Github repo: [https://github.com/wizi-ai/code-search](https://github.com/wizi-ai/code-search)\n\nAlso, please support the launch on [Product Hunt!](https://www.producthunt.com/posts/wizi-ai)\n\nhttps://reddit.com/link/11bfvte/video/rzesqr1qnaka1/player", "author_fullname": "t2_hv66khdu", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Wizi - AI powered, open -source, self-hosted Code Search for frontend teams with LLM", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "productannouncement", "downs": 0, "thumbnail_height": 70, "top_awarded_type": null, "hide_score": false, "media_metadata": {"rzesqr1qnaka1": {"status": "valid", "e": "RedditVideo", "dashUrl": "https://v.redd.it/link/11bfvte/asset/rzesqr1qnaka1/DASHPlaylist.mpd?a=1679917107%2CZGJiNDdmNjNkYWM4YWQxZTkzOGFhMDFlODc4YjhlZjdhMzA5OTU3MDZhZGI5MGE1NDgwZGUwZWI4NGNiMmY2ZA%3D%3D&amp;v=1&amp;f=sd", "x": 1844, "y": 1080, "hlsUrl": "https://v.redd.it/link/11bfvte/asset/rzesqr1qnaka1/HLSPlaylist.m3u8?a=1679917107%2CYmZhNzYyYzk3ZDE5MzVkMGY3NjA0NjExOTIzYzhjYmY3ODdmMGI2YTQ2MDEzYmU5ZmUyYjU3MDc3ZjI4MWY2Nw%3D%3D&amp;v=1&amp;f=sd", "id": "rzesqr1qnaka1", "isGif": false}}, "name": "t3_11bfvte", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.67, "author_flair_background_color": null, "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Product Announcement", "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "https://a.thumbs.redditmedia.com/bi1qMXSUSIcA2mq64IBHFx7kZ2ZEjSoThanuwClh0A0.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "subreddit_type": "public", "created": 1677313185.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello, I am building an open-source tool for frontend teams to enjoy instant natural language search in React (JS/TS) codebases. You can ask questions about your codebase to find code instead of searching through keywords. I\u2019d love your feedback on this, here is the Github repo: &lt;a href=\"https://github.com/wizi-ai/code-search\"&gt;https://github.com/wizi-ai/code-search&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Also, please support the launch on &lt;a href=\"https://www.producthunt.com/posts/wizi-ai\"&gt;Product Hunt!&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://reddit.com/link/11bfvte/video/rzesqr1qnaka1/player\"&gt;https://reddit.com/link/11bfvte/video/rzesqr1qnaka1/player&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/OlgskP5pLvUMedtUuoTzF1semwIshw_XNE3dzHO10jA.jpg?auto=webp&amp;v=enabled&amp;s=a03cf271a45ffbf06f847a2d98b94e270bd191b3", "width": 1200, "height": 600}, "resolutions": [{"url": "https://external-preview.redd.it/OlgskP5pLvUMedtUuoTzF1semwIshw_XNE3dzHO10jA.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=9c0b012fbe82fcd0b54c659a959e04fb748b69bf", "width": 108, "height": 54}, {"url": "https://external-preview.redd.it/OlgskP5pLvUMedtUuoTzF1semwIshw_XNE3dzHO10jA.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=f3baabf815209b66339693c493cfd082dcc5a0df", "width": 216, "height": 108}, {"url": "https://external-preview.redd.it/OlgskP5pLvUMedtUuoTzF1semwIshw_XNE3dzHO10jA.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=5f8936dfe8eeda6db71b5fc000c929182a84d2d6", "width": 320, "height": 160}, {"url": "https://external-preview.redd.it/OlgskP5pLvUMedtUuoTzF1semwIshw_XNE3dzHO10jA.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=fd1005a2b36992a6002cb9de6227e83e22859676", "width": 640, "height": 320}, {"url": "https://external-preview.redd.it/OlgskP5pLvUMedtUuoTzF1semwIshw_XNE3dzHO10jA.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=12eed81b9219313a3c8bb7605fee5cad62c236d3", "width": 960, "height": 480}, {"url": "https://external-preview.redd.it/OlgskP5pLvUMedtUuoTzF1semwIshw_XNE3dzHO10jA.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=421f089eed86755c5f6cfbdb861146027f0d681b", "width": 1080, "height": 540}], "variants": {}, "id": "bhWhbLLI319W9JxSL1cDmErSTQxXhtNubkkU3thbYko"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "c7fc47c4-7e6b-11e9-b04d-0e70893a61b4", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "mod_note": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "num_reports": null, "removal_reason": null, "link_flair_background_color": "", "id": "11bfvte", "is_robot_indexable": true, "report_reasons": null, "author": "Massive_Machine6026", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11bfvte/wizi_ai_powered_open_source_selfhosted_code/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11bfvte/wizi_ai_powered_open_source_selfhosted_code/", "subreddit_subscribers": 231821, "created_utc": 1677313185.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "", "author_fullname": "t2_kbzhni8", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Get ready for Matrix 2.0 by deploying the sliding sync proxy for your homeserver", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": 105, "top_awarded_type": null, "hide_score": false, "name": "t3_11axd3m", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.56, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {"content": "&lt;iframe width=\"356\" height=\"200\" src=\"https://www.youtube.com/embed/25wkV2ZCSsM?feature=oembed&amp;enablejsapi=1\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen title=\"Matrix Tutorial #7 \u2014 Getting Ready for Sliding Sync\"&gt;&lt;/iframe&gt;", "width": 356, "scrolling": false, "height": 200}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": {"oembed": {"provider_url": "https://www.youtube.com/", "title": "Matrix Tutorial #7 \u2014 Getting Ready for Sliding Sync", "html": "&lt;iframe width=\"356\" height=\"200\" src=\"https://www.youtube.com/embed/25wkV2ZCSsM?feature=oembed&amp;enablejsapi=1\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen title=\"Matrix Tutorial #7 \u2014 Getting Ready for Sliding Sync\"&gt;&lt;/iframe&gt;", "thumbnail_width": 480, "height": 200, "width": 356, "version": "1.0", "author_name": "Matrixdotorg", "provider_name": "YouTube", "thumbnail_url": "https://i.ytimg.com/vi/25wkV2ZCSsM/hqdefault.jpg", "type": "video", "thumbnail_height": 360, "author_url": "https://www.youtube.com/@Matrixdotorg"}, "type": "youtube.com"}, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {"content": "&lt;iframe width=\"356\" height=\"200\" src=\"https://www.youtube.com/embed/25wkV2ZCSsM?feature=oembed&amp;enablejsapi=1\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen title=\"Matrix Tutorial #7 \u2014 Getting Ready for Sliding Sync\"&gt;&lt;/iframe&gt;", "width": 356, "scrolling": false, "media_domain_url": "https://www.redditmedia.com/mediaembed/11axd3m", "height": 200}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "https://b.thumbs.redditmedia.com/_1THYs7l9eyCkmxEDWEMHt39An6tmK0zgD04qVxUCco.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "rich:video", "content_categories": null, "is_self": false, "mod_note": null, "created": 1677260949.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "youtube.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://www.youtube.com/watch?v=25wkV2ZCSsM", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/HUWfumDQiquTIsg2LGEbe4wNyPv4_mthVC5tZIOiUVI.jpg?auto=webp&amp;v=enabled&amp;s=49df6cfcec0fb1e44937533a176344748d57f4b6", "width": 480, "height": 360}, "resolutions": [{"url": "https://external-preview.redd.it/HUWfumDQiquTIsg2LGEbe4wNyPv4_mthVC5tZIOiUVI.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=202f5e417d4b8de78bb83b69c33adf5a655d8b74", "width": 108, "height": 81}, {"url": "https://external-preview.redd.it/HUWfumDQiquTIsg2LGEbe4wNyPv4_mthVC5tZIOiUVI.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=e5567b274b4194b2857d1c2654473db41a3ca238", "width": 216, "height": 162}, {"url": "https://external-preview.redd.it/HUWfumDQiquTIsg2LGEbe4wNyPv4_mthVC5tZIOiUVI.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=255f4f670e661042b8e5e0cb8ca148342cdcc451", "width": 320, "height": 240}], "variants": {}, "id": "kq9WlGb4G5kqwgpT6U1hkyZJHVLMw4gsZtVuOUg4F_I"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11axd3m", "is_robot_indexable": true, "report_reasons": null, "author": "thibaultmartin", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11axd3m/get_ready_for_matrix_20_by_deploying_the_sliding/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://www.youtube.com/watch?v=25wkV2ZCSsM", "subreddit_subscribers": 231821, "created_utc": 1677260949.0, "num_crossposts": 0, "media": {"oembed": {"provider_url": "https://www.youtube.com/", "title": "Matrix Tutorial #7 \u2014 Getting Ready for Sliding Sync", "html": "&lt;iframe width=\"356\" height=\"200\" src=\"https://www.youtube.com/embed/25wkV2ZCSsM?feature=oembed&amp;enablejsapi=1\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen title=\"Matrix Tutorial #7 \u2014 Getting Ready for Sliding Sync\"&gt;&lt;/iframe&gt;", "thumbnail_width": 480, "height": 200, "width": 356, "version": "1.0", "author_name": "Matrixdotorg", "provider_name": "YouTube", "thumbnail_url": "https://i.ytimg.com/vi/25wkV2ZCSsM/hqdefault.jpg", "type": "video", "thumbnail_height": 360, "author_url": "https://www.youtube.com/@Matrixdotorg"}, "type": "youtube.com"}, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "A few days ago I began to transition my Arch Jellyfin/Plex media server to Fedora Server as the OS and I've also taken this as an opportunity to try to learn Podman/Docker as I was previously running my servers natively though the package manager.\n\nAnyway, things have been going surprisingly very well moving over and I even set up Podman with support for my nvidia GPU and all. However, when I have been trying to spin up my Podman containers for Jellyfin using linuxserverio's container image I noticed the volumes I set never actually get applied to the container. All my other config settings gets passed through successfully and the container functions properly. Ports, environment variables, etc. all go through properly, but not my volumes.\n\nI'm very much a noob to containerization so I'm sure I'm doing something wrong here, but after about 2 days of tinkering, reading endless guides/manuals with either too much or too little info I just haven't been able to figure it out so far. I've been using the Cockpit web UI to manage the images and containers, I also tried making a Docker compose file but that also spun up ignoring my volumes as well.\n\nAny tips or help would be greatly appreciated so I can finally get back to watching The Sopranos on my server \ud83d\ude02\n\nI'd be happy to post more details about my setup\n\nHere's the Docker compose setup I used:\n\nhttps://i.imgur.com/g8Pcn3b.jpg\n\n---\nversion: \"2.1\"\nservices:\n  jellyfin:\n    image: lscr.io/linuxserver/jellyfin:latest\n    container_name: jellyfin\n    environment:\n      - PUID=1000\n      - PGID=1000\n      - TZ=America/New_York\n      - JELLYFIN_PublishedServerUrl=192.168.1.33 #optional\n    volumes:\n      - /home/admin/Server-Configs/Jellyfin:/config\n      - /mnt/HDD-01/Media:/data/movies\n      - /mnt/HDD-02/Media:/data/movies\n      - /mnt/HDD-03/Media:/data/movies\n      - /mnt/SSD-02/Media:/data/movies\n    ports:\n      - 8096:8096\n      - 8920:8920 #optional\n      - 7359:7359/udp #optional\n      - 1900:1900/udp #optional\n    restart: unless-stopped\n\nEDIT: I can't get it to format properly thanks Reddit lol", "author_fullname": "t2_15ul5o", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Podman ignoring entered volumes?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11b98oa", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Need Help", "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": 1677291810.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1677291269.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;A few days ago I began to transition my Arch Jellyfin/Plex media server to Fedora Server as the OS and I&amp;#39;ve also taken this as an opportunity to try to learn Podman/Docker as I was previously running my servers natively though the package manager.&lt;/p&gt;\n\n&lt;p&gt;Anyway, things have been going surprisingly very well moving over and I even set up Podman with support for my nvidia GPU and all. However, when I have been trying to spin up my Podman containers for Jellyfin using linuxserverio&amp;#39;s container image I noticed the volumes I set never actually get applied to the container. All my other config settings gets passed through successfully and the container functions properly. Ports, environment variables, etc. all go through properly, but not my volumes.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m very much a noob to containerization so I&amp;#39;m sure I&amp;#39;m doing something wrong here, but after about 2 days of tinkering, reading endless guides/manuals with either too much or too little info I just haven&amp;#39;t been able to figure it out so far. I&amp;#39;ve been using the Cockpit web UI to manage the images and containers, I also tried making a Docker compose file but that also spun up ignoring my volumes as well.&lt;/p&gt;\n\n&lt;p&gt;Any tips or help would be greatly appreciated so I can finally get back to watching The Sopranos on my server \ud83d\ude02&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;d be happy to post more details about my setup&lt;/p&gt;\n\n&lt;p&gt;Here&amp;#39;s the Docker compose setup I used:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://i.imgur.com/g8Pcn3b.jpg\"&gt;https://i.imgur.com/g8Pcn3b.jpg&lt;/a&gt;&lt;/p&gt;\n\n&lt;hr/&gt;\n\n&lt;p&gt;version: &amp;quot;2.1&amp;quot;\nservices:\n  jellyfin:\n    image: lscr.io/linuxserver/jellyfin:latest\n    container_name: jellyfin\n    environment:\n      - PUID=1000\n      - PGID=1000\n      - TZ=America/New_York\n      - JELLYFIN_PublishedServerUrl=192.168.1.33 #optional\n    volumes:\n      - /home/admin/Server-Configs/Jellyfin:/config\n      - /mnt/HDD-01/Media:/data/movies\n      - /mnt/HDD-02/Media:/data/movies\n      - /mnt/HDD-03/Media:/data/movies\n      - /mnt/SSD-02/Media:/data/movies\n    ports:\n      - 8096:8096\n      - 8920:8920 #optional\n      - 7359:7359/udp #optional\n      - 1900:1900/udp #optional\n    restart: unless-stopped&lt;/p&gt;\n\n&lt;p&gt;EDIT: I can&amp;#39;t get it to format properly thanks Reddit lol&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/FavTgMd1nG2qwkatTQKIVj7OR97q5iiwJ40mebEbLkk.jpg?auto=webp&amp;v=enabled&amp;s=f95ef68f2fecdeac9fdad767dad8148e62306af4", "width": 508, "height": 413}, "resolutions": [{"url": "https://external-preview.redd.it/FavTgMd1nG2qwkatTQKIVj7OR97q5iiwJ40mebEbLkk.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=81eb1c31503045f204b56b6efb7b982a8dd73a7a", "width": 108, "height": 87}, {"url": "https://external-preview.redd.it/FavTgMd1nG2qwkatTQKIVj7OR97q5iiwJ40mebEbLkk.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=9b60d06bd00c3fbbf726c4a349ba9c53ce0d527e", "width": 216, "height": 175}, {"url": "https://external-preview.redd.it/FavTgMd1nG2qwkatTQKIVj7OR97q5iiwJ40mebEbLkk.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=c2df0d15aaf2917ef7f10a3096de49023abf81de", "width": 320, "height": 260}], "variants": {}, "id": "He5D7kTi0ydOk6omj5NZ4doy2yV2iicfxY0CWyPVuyc"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "82508a80-05bc-11eb-ae09-0effb713859f", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11b98oa", "is_robot_indexable": true, "report_reasons": null, "author": "MLG_Skeletor", "discussion_type": null, "num_comments": 7, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11b98oa/podman_ignoring_entered_volumes/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11b98oa/podman_ignoring_entered_volumes/", "subreddit_subscribers": 231821, "created_utc": 1677291269.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hello,\n\nI use nginx proxy manager to proxy to all my services, even when using them only locally.\n\nI know some services would like the \u201eWebsockets Support\u201c option to be enabled, but how do I know which?\n\nI don\u2019t want to enable this for everything without knowing whether it really makes sense. What benefit do I even have\nfrom enabling it? \n\nCan someone answer me these questions?\n\nThanks in advance for any answers! :)", "author_fullname": "t2_n5sqdwsq", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How do I know for which services I should enable Websocket Support?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "proxy", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11b5t3c", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Proxy", "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1677282095.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello,&lt;/p&gt;\n\n&lt;p&gt;I use nginx proxy manager to proxy to all my services, even when using them only locally.&lt;/p&gt;\n\n&lt;p&gt;I know some services would like the \u201eWebsockets Support\u201c option to be enabled, but how do I know which?&lt;/p&gt;\n\n&lt;p&gt;I don\u2019t want to enable this for everything without knowing whether it really makes sense. What benefit do I even have\nfrom enabling it? &lt;/p&gt;\n\n&lt;p&gt;Can someone answer me these questions?&lt;/p&gt;\n\n&lt;p&gt;Thanks in advance for any answers! :)&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "5e46c26c-7e68-11e9-8d4e-0e3bbb559e74", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11b5t3c", "is_robot_indexable": true, "report_reasons": null, "author": "Generic_User48579", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11b5t3c/how_do_i_know_for_which_services_i_should_enable/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11b5t3c/how_do_i_know_for_which_services_i_should_enable/", "subreddit_subscribers": 231821, "created_utc": 1677282095.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hi All,\n\nI\u2019m familiar with Intune at my work but I looking into a MDM solution to manage my family/kids devices (ipad,mobile phones). One of the things is to push a VPN profile, DNS settings etc. anything that can be recommended? \n\nI have a personal cloud where I can host it.", "author_fullname": "t2_g7tez", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Recommendation for MDM Opensource", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "phonesystem", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11axkth", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Phone System", "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1677261497.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi All,&lt;/p&gt;\n\n&lt;p&gt;I\u2019m familiar with Intune at my work but I looking into a MDM solution to manage my family/kids devices (ipad,mobile phones). One of the things is to push a VPN profile, DNS settings etc. anything that can be recommended? &lt;/p&gt;\n\n&lt;p&gt;I have a personal cloud where I can host it.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "f5688f50-7e67-11e9-8fb9-0ee40327e406", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11axkth", "is_robot_indexable": true, "report_reasons": null, "author": "pielman", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11axkth/recommendation_for_mdm_opensource/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11axkth/recommendation_for_mdm_opensource/", "subreddit_subscribers": 231821, "created_utc": 1677261497.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hello /r/selfhosted community,\n\nI've been looking for a self-hosted solution that can help me create interactive product tours, user guides, and onboarding tutorials for my web applications. I've come across UserGuiding and iorad, but unfortunately, both of these solutions are not open source.\n\nAs a self-hosting enthusiast, I would prefer to use an open source alternative that I can host on my own infrastructure, as this gives me more control over my data and allows me to customize the solution to fit my needs.\n\nDoes anyone have any recommendations for open source alternatives that can achieve the same or similar functionality as UserGuiding or iorad? Ideally, I'd like a solution that is easy to use and has a good user interface.\n\nThank you for any suggestions!", "author_fullname": "t2_8ash5", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Looking for an open source alternative to UserGuiding or iorad", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11arxl6", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1677246871.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello &lt;a href=\"/r/selfhosted\"&gt;/r/selfhosted&lt;/a&gt; community,&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ve been looking for a self-hosted solution that can help me create interactive product tours, user guides, and onboarding tutorials for my web applications. I&amp;#39;ve come across UserGuiding and iorad, but unfortunately, both of these solutions are not open source.&lt;/p&gt;\n\n&lt;p&gt;As a self-hosting enthusiast, I would prefer to use an open source alternative that I can host on my own infrastructure, as this gives me more control over my data and allows me to customize the solution to fit my needs.&lt;/p&gt;\n\n&lt;p&gt;Does anyone have any recommendations for open source alternatives that can achieve the same or similar functionality as UserGuiding or iorad? Ideally, I&amp;#39;d like a solution that is easy to use and has a good user interface.&lt;/p&gt;\n\n&lt;p&gt;Thank you for any suggestions!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11arxl6", "is_robot_indexable": true, "report_reasons": null, "author": "myhrmans", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11arxl6/looking_for_an_open_source_alternative_to/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11arxl6/looking_for_an_open_source_alternative_to/", "subreddit_subscribers": 231821, "created_utc": 1677246871.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I got a presence sensor and a echo/nest in each room.\n\nI want to play a Spotify playlist on all devices simultaneously.\n\nFor that I need a service that will basically play a Spotify playlist and expose it via HTTP or TCP stream. Something like Icecast but with support for Spotify.\n\n&amp;#x200B;\n\nHas this been done already, does someone know a solution ? Quick google searching did not give results.\n\nCurrently I use public radio stations which works fine, but I would prefer to play my own playlists.", "author_fullname": "t2_3z90tq85", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Looking for a Spotify HTTP/TCP Proxy", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11aq1fh", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Need Help", "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1677241015.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I got a presence sensor and a echo/nest in each room.&lt;/p&gt;\n\n&lt;p&gt;I want to play a Spotify playlist on all devices simultaneously.&lt;/p&gt;\n\n&lt;p&gt;For that I need a service that will basically play a Spotify playlist and expose it via HTTP or TCP stream. Something like Icecast but with support for Spotify.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Has this been done already, does someone know a solution ? Quick google searching did not give results.&lt;/p&gt;\n\n&lt;p&gt;Currently I use public radio stations which works fine, but I would prefer to play my own playlists.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "82508a80-05bc-11eb-ae09-0effb713859f", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11aq1fh", "is_robot_indexable": true, "report_reasons": null, "author": "AnyNameFreeGiveIt", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11aq1fh/looking_for_a_spotify_httptcp_proxy/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11aq1fh/looking_for_a_spotify_httptcp_proxy/", "subreddit_subscribers": 231821, "created_utc": 1677241015.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I have a old laptop and want to be able to use multiple OS at once , which option would be better  \nSpecifications of my laptop:  \ni3 5005u - 4gb ram- 1tb hdd  \nThe OS I am planning to run are alpine,debian,tiny11  etc , i would probably be running Debian with GUI, my most used OS would be Debian with alpine simultaneously.  \nso looking at this can you recommend should i go with proxmox or a linux with docker(But if i go with linux how would i be able to use Debian GUI , like the base Linux I am gonna be using is alpine on which i would run docker, but it would just be CLI and i do want to access my docker OS on my laptop screen itself )", "author_fullname": "t2_ugc3wq0u", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Proxmox or a lightweight Linux with docker", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": true, "name": "t3_11bhnhd", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1677320099.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have a old laptop and want to be able to use multiple OS at once , which option would be better&lt;br/&gt;\nSpecifications of my laptop:&lt;br/&gt;\ni3 5005u - 4gb ram- 1tb hdd&lt;br/&gt;\nThe OS I am planning to run are alpine,debian,tiny11  etc , i would probably be running Debian with GUI, my most used OS would be Debian with alpine simultaneously.&lt;br/&gt;\nso looking at this can you recommend should i go with proxmox or a linux with docker(But if i go with linux how would i be able to use Debian GUI , like the base Linux I am gonna be using is alpine on which i would run docker, but it would just be CLI and i do want to access my docker OS on my laptop screen itself )&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11bhnhd", "is_robot_indexable": true, "report_reasons": null, "author": "hapless_pants", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11bhnhd/proxmox_or_a_lightweight_linux_with_docker/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11bhnhd/proxmox_or_a_lightweight_linux_with_docker/", "subreddit_subscribers": 231821, "created_utc": 1677320099.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I'm trying to get NGINX setup using Opnsense's plugin as the frontend for a couple webservers. If the backend webservers are doing automatic redirection of port 80 to 443 do I need to disable it or do I just enable port 80 and 443 on the upstream server?", "author_fullname": "t2_4ahul", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Dumb question about NGINX", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "webservers", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11b6csy", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.67, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Webserver", "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1677283502.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m trying to get NGINX setup using Opnsense&amp;#39;s plugin as the frontend for a couple webservers. If the backend webservers are doing automatic redirection of port 80 to 443 do I need to disable it or do I just enable port 80 and 443 on the upstream server?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "73cd8238-7e68-11e9-a3b5-0eb4a9a3f2d6", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11b6csy", "is_robot_indexable": true, "report_reasons": null, "author": "rjan", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11b6csy/dumb_question_about_nginx/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11b6csy/dumb_question_about_nginx/", "subreddit_subscribers": 231821, "created_utc": 1677283502.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hello, i have made a simple flask app that serves images through it's url. Those images rotate for a desired amount of time. The images are fed to the app via links. So as an example you can generate some art with MidJourney AI, put the links you want in the app.\n\nThe app can be served as a docker container as well.\n\nSo the idea is to put the url of the app into your preferred dashboard, so then you will have rotating images on your dashboard! The limitation is that the images don't change in real time. You have to refresh, but the idea is that every time you open your dashboard, you have a different background.\n\nPlease see below the link for the repo. Feel free to fork it and change what you want.\n\nhttps://github.com/JoreisPy/background_rotator", "author_fullname": "t2_96yqxux5", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "flask app that serves rotating images for you favorite dashboard.", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11ayfsn", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1677263646.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hello, i have made a simple flask app that serves images through it&amp;#39;s url. Those images rotate for a desired amount of time. The images are fed to the app via links. So as an example you can generate some art with MidJourney AI, put the links you want in the app.&lt;/p&gt;\n\n&lt;p&gt;The app can be served as a docker container as well.&lt;/p&gt;\n\n&lt;p&gt;So the idea is to put the url of the app into your preferred dashboard, so then you will have rotating images on your dashboard! The limitation is that the images don&amp;#39;t change in real time. You have to refresh, but the idea is that every time you open your dashboard, you have a different background.&lt;/p&gt;\n\n&lt;p&gt;Please see below the link for the repo. Feel free to fork it and change what you want.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://github.com/JoreisPy/background_rotator\"&gt;https://github.com/JoreisPy/background_rotator&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/i7aWeuGLJNM6tRhiNgkH6yTvp9Rk991jIu2WTS1_mQg.jpg?auto=webp&amp;v=enabled&amp;s=5812f08ea3042029b3027d7a8f96d6fc43b9d41d", "width": 1200, "height": 600}, "resolutions": [{"url": "https://external-preview.redd.it/i7aWeuGLJNM6tRhiNgkH6yTvp9Rk991jIu2WTS1_mQg.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=36025681ae08984076c25a66a287e8df678318dd", "width": 108, "height": 54}, {"url": "https://external-preview.redd.it/i7aWeuGLJNM6tRhiNgkH6yTvp9Rk991jIu2WTS1_mQg.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=8fc6a167bc0df2a61d28764417f74951dd0251cb", "width": 216, "height": 108}, {"url": "https://external-preview.redd.it/i7aWeuGLJNM6tRhiNgkH6yTvp9Rk991jIu2WTS1_mQg.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=2bf18d7ccb5ec183dc7639c0fb051751e92755f9", "width": 320, "height": 160}, {"url": "https://external-preview.redd.it/i7aWeuGLJNM6tRhiNgkH6yTvp9Rk991jIu2WTS1_mQg.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=56e9d9a105abf51ed308b73c7336690c23b06349", "width": 640, "height": 320}, {"url": "https://external-preview.redd.it/i7aWeuGLJNM6tRhiNgkH6yTvp9Rk991jIu2WTS1_mQg.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=076ea8bfc46d2dc336c0a8ca49a8a872304e95c4", "width": 960, "height": 480}, {"url": "https://external-preview.redd.it/i7aWeuGLJNM6tRhiNgkH6yTvp9Rk991jIu2WTS1_mQg.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=6d1b293de1c1979b93849463d0f016be4be34475", "width": 1080, "height": 540}], "variants": {}, "id": "vRsc6v9aIxilMZFnnIApS4xrfN8Kmz4Il_qg77Ek6Qg"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11ayfsn", "is_robot_indexable": true, "report_reasons": null, "author": "Agile_Ad_2073", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11ayfsn/flask_app_that_serves_rotating_images_for_you/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11ayfsn/flask_app_that_serves_rotating_images_for_you/", "subreddit_subscribers": 231821, "created_utc": 1677263646.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hey all,\n\nI\u2019m not all that technical but I did buy an custom build Nas from someone I know. It has 4 bays and I got 4tb of storage in it at the moment.\nBeen using it to store some files in it but I want to expand this.\n\nI would like to be able to get an nice dashboard of things running like you all have.\nI also do like the nextcloud ecosystem\n\nMy specs are:\n\nIntel core i3-4130\n4096 my of ram\nWith 2x 3,5 tb nas drives in SHR\n\nHow would I go and set this up? My Nas uses Xpenology and is in an somewhat older version of DSM.\n\nI was able to get docker installed and SSH into the Nas but can\u2019t get further.", "author_fullname": "t2_6fzzedq8", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Self build Nas with Synology Replica", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11axqrc", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": 1677263820.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1677261903.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey all,&lt;/p&gt;\n\n&lt;p&gt;I\u2019m not all that technical but I did buy an custom build Nas from someone I know. It has 4 bays and I got 4tb of storage in it at the moment.\nBeen using it to store some files in it but I want to expand this.&lt;/p&gt;\n\n&lt;p&gt;I would like to be able to get an nice dashboard of things running like you all have.\nI also do like the nextcloud ecosystem&lt;/p&gt;\n\n&lt;p&gt;My specs are:&lt;/p&gt;\n\n&lt;p&gt;Intel core i3-4130\n4096 my of ram\nWith 2x 3,5 tb nas drives in SHR&lt;/p&gt;\n\n&lt;p&gt;How would I go and set this up? My Nas uses Xpenology and is in an somewhat older version of DSM.&lt;/p&gt;\n\n&lt;p&gt;I was able to get docker installed and SSH into the Nas but can\u2019t get further.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11axqrc", "is_robot_indexable": true, "report_reasons": null, "author": "Dennisjeee", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11axqrc/self_build_nas_with_synology_replica/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11axqrc/self_build_nas_with_synology_replica/", "subreddit_subscribers": 231821, "created_utc": 1677261903.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hi, I recently got into setting up a homelab and I was wondering whether I could get some help regarding a certain issue I have been working around for some time. I am running Proxmox on my host with Debian Turnkey LXC containers. Initially, I wanted to have 2 separate containers, one running nginx reverse proxy manager and the other running Pihole and Wireguard. I set this up through portainer and ended up with 2 separate environments one for the network(NPM container) and another for the DNS(Pihole container). In the end, I couldn't get the host machine to connect to my pihole as an ad blocker even though the containers are on the same host. I have tried multiple things online but haven't really found a solution to this. I have also read a lot about why I shouldn't run pihole and NPM in the same LXC on proxmox but I can't seem to get it to work alongside NPM when they are on the same LXC and when they are on different ones my host doesn't use pihole as its DNS. I have followind multiple guides and read the installation manuals but I can't seem to wrap my head around what im doing wrong since most people online seem to be able to connect Pihole and NPM in the same network and use  DNS names to resolve to pihole's web intercafe but I have not been able to do that despite getting Npm to work for other services like the portainer instance running in the same LXC or the Proxmox webconsole which runs on a different Ip. Are there any pointers you could offer on how I should connect the services ? I would give more details about my set up but since  am new to this and managaing my own security I am being a little discrete for my own safety.", "author_fullname": "t2_2dwo5vjx", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Beginnner Home Lab Questions", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11ax99l", "quarantine": false, "link_flair_text_color": null, "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Need Help", "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1677260673.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi, I recently got into setting up a homelab and I was wondering whether I could get some help regarding a certain issue I have been working around for some time. I am running Proxmox on my host with Debian Turnkey LXC containers. Initially, I wanted to have 2 separate containers, one running nginx reverse proxy manager and the other running Pihole and Wireguard. I set this up through portainer and ended up with 2 separate environments one for the network(NPM container) and another for the DNS(Pihole container). In the end, I couldn&amp;#39;t get the host machine to connect to my pihole as an ad blocker even though the containers are on the same host. I have tried multiple things online but haven&amp;#39;t really found a solution to this. I have also read a lot about why I shouldn&amp;#39;t run pihole and NPM in the same LXC on proxmox but I can&amp;#39;t seem to get it to work alongside NPM when they are on the same LXC and when they are on different ones my host doesn&amp;#39;t use pihole as its DNS. I have followind multiple guides and read the installation manuals but I can&amp;#39;t seem to wrap my head around what im doing wrong since most people online seem to be able to connect Pihole and NPM in the same network and use  DNS names to resolve to pihole&amp;#39;s web intercafe but I have not been able to do that despite getting Npm to work for other services like the portainer instance running in the same LXC or the Proxmox webconsole which runs on a different Ip. Are there any pointers you could offer on how I should connect the services ? I would give more details about my set up but since  am new to this and managaing my own security I am being a little discrete for my own safety.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "82508a80-05bc-11eb-ae09-0effb713859f", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": null, "id": "11ax99l", "is_robot_indexable": true, "report_reasons": null, "author": "Reaer254", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11ax99l/beginnner_home_lab_questions/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11ax99l/beginnner_home_lab_questions/", "subreddit_subscribers": 231821, "created_utc": 1677260673.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I have been using Seafile as a Docker container for a very long time, but the backup always takes longer. Due to many file versions and about 3TB of data, I now have a little over 19 million files in the folder where Docker stores the Seafile data. Backing this up by simply copying the data to an external hard drive now takes days probably because there are so many small files. Does anyone have a tip or software to speed this up?\nI backup already incremental but sometimes I prefer to do a full backup. The data is on a RAID 5 with WD Gold hard drives and is backed up via USB to an external 8TB hard drive. I have already replaced it with a new one, but that didn't change anything.", "author_fullname": "t2_8o30kg6v", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Seafile backup takes several days", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11avgrl", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Need Help", "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1677256200.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have been using Seafile as a Docker container for a very long time, but the backup always takes longer. Due to many file versions and about 3TB of data, I now have a little over 19 million files in the folder where Docker stores the Seafile data. Backing this up by simply copying the data to an external hard drive now takes days probably because there are so many small files. Does anyone have a tip or software to speed this up?\nI backup already incremental but sometimes I prefer to do a full backup. The data is on a RAID 5 with WD Gold hard drives and is backed up via USB to an external 8TB hard drive. I have already replaced it with a new one, but that didn&amp;#39;t change anything.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "82508a80-05bc-11eb-ae09-0effb713859f", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11avgrl", "is_robot_indexable": true, "report_reasons": null, "author": "G00TH", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11avgrl/seafile_backup_takes_several_days/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11avgrl/seafile_backup_takes_several_days/", "subreddit_subscribers": 231821, "created_utc": 1677256200.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "LMK if I should post this somewhere else.\n\nI an audiobook collection and am trying to figure out a free way to keep my audiobooks in sync across devices. A friend of mine recommended I check out the gPodderSync plugin for NextCloud. I wrote a PHP script to create the RSS feeds for each audiobook and another PHP script to create an OPML file so I can import all audiobooks into AntennaPod or Kasts. The problem I am having is that gPodderSync doesn't list all the audiobooks that I have. It only lists a small portion of them. Is there something wrong with my scripts or does gPodderSync have a limit on how many *podcasts* it can handle?\n\ncreate-podcasts.php:\n```php\n&lt;?php\n// Recursive implementation of glob()\nfunction rglob(string $pattern, int $flags = 0) {\n    $files = glob($pattern, $flags);\n    foreach (glob(dirname($pattern) . '/*', GLOB_ONLYDIR | GLOB_NOSORT) as $dir) {\n        $files = array_merge($files, rglob($dir . '/' . basename($pattern), $flags));\n    }\n    return $files;\n}\n\n// Get tracks\n$tracks = rglob(\"audiobooks/**/*.mp3\");\n\n// Get folders\n$folders = array();\nforeach ($tracks as $track) {\n    $folder = dirname($track);\n    if (!in_array($folder, $folders)) {\n        $folders[] = $folder;\n    }\n}\n\n// Constants\nconst HOST = \"http://notrealdomain.com:3000\";\nconst OUTDIR = \"podcasts\";\n\n// Return and update pubDate\n$date = new DateTime(\"1970-01-01 12:00:00 -0700\");\n$orig = $date;\nfunction getPubDate() {\n    global $date;\n    $date-&gt;modify(\"+1 day\");\n    return $date;\n}\n\n// Create xml item for track\nfunction createTrack(string $track, string $folder, DateTime $date) {\n    // Get track info\n    $title = str_replace(\" \", \"_\", basename($track, \".mp3\"));\n    $desc = \"Audiobook: \" . basename($folder);\n    $url = HOST . \"/\" . $track;\n    $pubDate = $date-&gt;format(DateTime::RSS);\n    $length = filesize($track);\n\n    // Create xml\n    $xml = &lt;&lt;&lt;XML\n            &lt;item&gt;\n                &lt;title&gt;$title&lt;/title&gt;\n                &lt;description&gt;$desc&lt;/description&gt;\n                &lt;pubDate&gt;$pubDate&lt;/pubDate&gt;\n                &lt;enclosure url=\"$url\" length=\"$length\" type=\"audio/mpeg\" /&gt;\n            &lt;/item&gt;\\n\n    XML;\n\n    // Return xml item\n    return $xml;\n}\n\n\n// Create podcast for each folder\nforeach ($folders as $folder) {\n    // Beginning of xml\n    $title = basename($folder);\n    $rss = &lt;&lt;&lt;XML\n    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;rss version=\"2.0\"&gt;\n        &lt;channel&gt;\n            &lt;title&gt;$title&lt;/title&gt;\n            &lt;description&gt;Audiobook: $folder&lt;/description&gt;\n            &lt;link&gt;$folder&lt;/link&gt;\n            &lt;language&gt;en-us&lt;/language&gt;\\n\n    XML;\n\n    // Get tracks in folder and sort\n    $tracks = glob(\"$folder/*.mp3\");\n    usort($tracks, function (string $a, string $b) {\n        // Get numbers from track names\n        preg_match_all(\"/\\d+/\", $a, $numsA);\n        preg_match_all(\"/\\d+/\", $b, $numsB);\n\n        // Get last number from track names (no mp3)\n        $numA = $numsA[0][count($numsA[0]) - 2];\n        $numB = $numsB[0][count($numsB[0]) - 2];\n\n        // Compare numbers\n        return $numA &lt;=&gt; $numB;\n    });\n    array_reverse($tracks);\n\n    // Create xml item for each track\n    foreach ($tracks as $track) {\n        $xml = createTrack($track, $folder, getPubDate());\n        $rss .= $xml;\n    }\n\n    // End of xml\n    $rss .= &lt;&lt;&lt;XML\n        &lt;/channel&gt;\n    &lt;/rss&gt;\n    XML;\n\n    // Write to file\n    $file = OUTDIR . \"/\" . basename($folder) . \".rss\";\n    file_put_contents($file, $rss);\n\n    // Reset date\n    $date = $orig;\n}\n\n```\n\ncreate-opml.php:\n```php\n&lt;?php\n// Constants\nconst HOST = \"http://notrealdomain.com:3000\";\nconst RSSDIR = \"podcasts\";\n\n// Get all rss files\n$rssFiles = glob(RSSDIR . \"/*.rss\");\n\n// Create start of xml file\n$opml = &lt;&lt;&lt;XML\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;opml version=\"1.0\"&gt;\n    &lt;head&gt;\n        &lt;title&gt;Audiobook Collection&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\\n\nXML;\n\n// Add each rss file to opml\nforeach ($rssFiles as $file) {\n    // Get podcast info\n    $title = $text = basename($file, \".rss\");\n    $url = HOST . \"/\" . $file;\n\n    // Add podcast to opml\n    $opml .= &lt;&lt;&lt;XML\n            &lt;outline text=\"$text\" title=\"$title\" type=\"rss\" xmlUrl=\"$url\" /&gt;\\n\n    XML;\n}\n\n// Add end of xml file\n$opml .= &lt;&lt;&lt;XML\n    &lt;/body&gt;\n&lt;/opml&gt;\nXML;\n\n// Write opml to file\nfile_put_contents(RSSDIR . \"/podcasts.opml\", $opml);\n```", "author_fullname": "t2_2thhc6as", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "gPodderSync not syncing all podcasts", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "mediaserving", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11aud2m", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Media Serving", "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1677253369.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;LMK if I should post this somewhere else.&lt;/p&gt;\n\n&lt;p&gt;I an audiobook collection and am trying to figure out a free way to keep my audiobooks in sync across devices. A friend of mine recommended I check out the gPodderSync plugin for NextCloud. I wrote a PHP script to create the RSS feeds for each audiobook and another PHP script to create an OPML file so I can import all audiobooks into AntennaPod or Kasts. The problem I am having is that gPodderSync doesn&amp;#39;t list all the audiobooks that I have. It only lists a small portion of them. Is there something wrong with my scripts or does gPodderSync have a limit on how many &lt;em&gt;podcasts&lt;/em&gt; it can handle?&lt;/p&gt;\n\n&lt;p&gt;create-podcasts.php:\n```php\n&amp;lt;?php\n// Recursive implementation of glob()\nfunction rglob(string $pattern, int $flags = 0) {\n    $files = glob($pattern, $flags);\n    foreach (glob(dirname($pattern) . &amp;#39;/*&amp;#39;, GLOB_ONLYDIR | GLOB_NOSORT) as $dir) {\n        $files = array_merge($files, rglob($dir . &amp;#39;/&amp;#39; . basename($pattern), $flags));\n    }\n    return $files;\n}&lt;/p&gt;\n\n&lt;p&gt;// Get tracks\n$tracks = rglob(&amp;quot;audiobooks/*&lt;em&gt;/&lt;/em&gt;.mp3&amp;quot;);&lt;/p&gt;\n\n&lt;p&gt;// Get folders\n$folders = array();\nforeach ($tracks as $track) {\n    $folder = dirname($track);\n    if (!in_array($folder, $folders)) {\n        $folders[] = $folder;\n    }\n}&lt;/p&gt;\n\n&lt;p&gt;// Constants\nconst HOST = &amp;quot;&lt;a href=\"http://notrealdomain.com:3000\"&gt;http://notrealdomain.com:3000&lt;/a&gt;&amp;quot;;\nconst OUTDIR = &amp;quot;podcasts&amp;quot;;&lt;/p&gt;\n\n&lt;p&gt;// Return and update pubDate\n$date = new DateTime(&amp;quot;1970-01-01 12:00:00 -0700&amp;quot;);\n$orig = $date;\nfunction getPubDate() {\n    global $date;\n    $date-&amp;gt;modify(&amp;quot;+1 day&amp;quot;);\n    return $date;\n}&lt;/p&gt;\n\n&lt;p&gt;// Create xml item for track\nfunction createTrack(string $track, string $folder, DateTime $date) {\n    // Get track info\n    $title = str&lt;em&gt;replace(&amp;quot; &amp;quot;, &amp;quot;&lt;/em&gt;&amp;quot;, basename($track, &amp;quot;.mp3&amp;quot;));\n    $desc = &amp;quot;Audiobook: &amp;quot; . basename($folder);\n    $url = HOST . &amp;quot;/&amp;quot; . $track;\n    $pubDate = $date-&amp;gt;format(DateTime::RSS);\n    $length = filesize($track);&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;// Create xml\n$xml = &amp;lt;&amp;lt;&amp;lt;XML\n        &amp;lt;item&amp;gt;\n            &amp;lt;title&amp;gt;$title&amp;lt;/title&amp;gt;\n            &amp;lt;description&amp;gt;$desc&amp;lt;/description&amp;gt;\n            &amp;lt;pubDate&amp;gt;$pubDate&amp;lt;/pubDate&amp;gt;\n            &amp;lt;enclosure url=&amp;quot;$url&amp;quot; length=&amp;quot;$length&amp;quot; type=&amp;quot;audio/mpeg&amp;quot; /&amp;gt;\n        &amp;lt;/item&amp;gt;\\n\nXML;\n\n// Return xml item\nreturn $xml;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;}&lt;/p&gt;\n\n&lt;p&gt;// Create podcast for each folder\nforeach ($folders as $folder) {\n    // Beginning of xml\n    $title = basename($folder);\n    $rss = &amp;lt;&amp;lt;&amp;lt;XML\n    &amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;\n    &amp;lt;rss version=&amp;quot;2.0&amp;quot;&amp;gt;\n        &amp;lt;channel&amp;gt;\n            &amp;lt;title&amp;gt;$title&amp;lt;/title&amp;gt;\n            &amp;lt;description&amp;gt;Audiobook: $folder&amp;lt;/description&amp;gt;\n            &amp;lt;link&amp;gt;$folder&amp;lt;/link&amp;gt;\n            &amp;lt;language&amp;gt;en-us&amp;lt;/language&amp;gt;\\n\n    XML;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;// Get tracks in folder and sort\n$tracks = glob(&amp;quot;$folder/*.mp3&amp;quot;);\nusort($tracks, function (string $a, string $b) {\n    // Get numbers from track names\n    preg_match_all(&amp;quot;/\\d+/&amp;quot;, $a, $numsA);\n    preg_match_all(&amp;quot;/\\d+/&amp;quot;, $b, $numsB);\n\n    // Get last number from track names (no mp3)\n    $numA = $numsA[0][count($numsA[0]) - 2];\n    $numB = $numsB[0][count($numsB[0]) - 2];\n\n    // Compare numbers\n    return $numA &amp;lt;=&amp;gt; $numB;\n});\narray_reverse($tracks);\n\n// Create xml item for each track\nforeach ($tracks as $track) {\n    $xml = createTrack($track, $folder, getPubDate());\n    $rss .= $xml;\n}\n\n// End of xml\n$rss .= &amp;lt;&amp;lt;&amp;lt;XML\n    &amp;lt;/channel&amp;gt;\n&amp;lt;/rss&amp;gt;\nXML;\n\n// Write to file\n$file = OUTDIR . &amp;quot;/&amp;quot; . basename($folder) . &amp;quot;.rss&amp;quot;;\nfile_put_contents($file, $rss);\n\n// Reset date\n$date = $orig;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;}&lt;/p&gt;\n\n&lt;p&gt;```&lt;/p&gt;\n\n&lt;p&gt;create-opml.php:\n```php\n&amp;lt;?php\n// Constants\nconst HOST = &amp;quot;&lt;a href=\"http://notrealdomain.com:3000\"&gt;http://notrealdomain.com:3000&lt;/a&gt;&amp;quot;;\nconst RSSDIR = &amp;quot;podcasts&amp;quot;;&lt;/p&gt;\n\n&lt;p&gt;// Get all rss files\n$rssFiles = glob(RSSDIR . &amp;quot;/*.rss&amp;quot;);&lt;/p&gt;\n\n&lt;p&gt;// Create start of xml file\n$opml = &amp;lt;&amp;lt;&amp;lt;XML\n&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;\n&amp;lt;opml version=&amp;quot;1.0&amp;quot;&amp;gt;\n    &amp;lt;head&amp;gt;\n        &amp;lt;title&amp;gt;Audiobook Collection&amp;lt;/title&amp;gt;\n    &amp;lt;/head&amp;gt;\n    &amp;lt;body&amp;gt;\\n\nXML;&lt;/p&gt;\n\n&lt;p&gt;// Add each rss file to opml\nforeach ($rssFiles as $file) {\n    // Get podcast info\n    $title = $text = basename($file, &amp;quot;.rss&amp;quot;);\n    $url = HOST . &amp;quot;/&amp;quot; . $file;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;// Add podcast to opml\n$opml .= &amp;lt;&amp;lt;&amp;lt;XML\n        &amp;lt;outline text=&amp;quot;$text&amp;quot; title=&amp;quot;$title&amp;quot; type=&amp;quot;rss&amp;quot; xmlUrl=&amp;quot;$url&amp;quot; /&amp;gt;\\n\nXML;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;}&lt;/p&gt;\n\n&lt;p&gt;// Add end of xml file\n$opml .= &amp;lt;&amp;lt;&amp;lt;XML\n    &amp;lt;/body&amp;gt;\n&amp;lt;/opml&amp;gt;\nXML;&lt;/p&gt;\n\n&lt;p&gt;// Write opml to file\nfile_put_contents(RSSDIR . &amp;quot;/podcasts.opml&amp;quot;, $opml);\n```&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "cb71ccc0-7e67-11e9-841a-0e67038620c2", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11aud2m", "is_robot_indexable": true, "report_reasons": null, "author": "masterborger", "discussion_type": null, "num_comments": 0, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11aud2m/gpoddersync_not_syncing_all_podcasts/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11aud2m/gpoddersync_not_syncing_all_podcasts/", "subreddit_subscribers": 231821, "created_utc": 1677253369.0, "num_crossposts": 1, "media": null, "is_video": false}}], "before": null}}