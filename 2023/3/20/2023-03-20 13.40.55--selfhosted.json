{"kind": "Listing", "data": {"after": "t3_11wg3d4", "dist": 25, "modhash": "", "geo_filter": "", "children": [{"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "It took me a while of poking around to get this working the way I (mostly) wanted, and now that I have, I thought it might be useful to someone else in a similar boat. \n\n* **My Use Case**: Running Jellyfin container on a Linux host with media library hosted on NAS smb shares \n\n* **My Problem**: When restarting the host server, especially after a power outage that outlasts my UPSes (after which my NAS does not automatically restart, unfortunately), the container would start before the media share was mounted, making Jellyfin think the library was empty. \n\nLooking into this problem, I came across several solutions which didn't quite work for me.  Using systemd unit files, besides being messy, would hold *all* docker containers until they were mounted, which wasn't what I was looking for.  \n\nI could also do the check by wrapping the turnup in a shell script and checking for the existing file before executing docker/docker-compose, but this precluded the use of \"restart: unless-stopped\" since I'd have to rely on the script for every start. \n\n* **My Solution**: Abuse the fail behavior of bind mounts. \n\nI created a flag file in the root of my media library, on the share (so it won't exist if the mount isn't ready/fails) \n\n    touch /MediaLib/.targren_mount_ready\n\nThen add another bind mount in the spin-up command:  \n\n    --mount type=bind,source=/MediaLib/.targren_mount_ready, target=/.targren_mount_ok, readonly=1   \n\nNote: You *cannot* use -v/volume for this, since [it will create the missing file instead of failing](https://docs.docker.com/storage/bind-mounts/#differences-between--v-and---mount-behavior), defeating the purpose.\n\n* **The Downside**\n\nAs a solution, it's not what I'd call perfect. In fact, it's pretty hackish.\n\nIt usually requires manual intervention to fix, but I call that a wash since the status quo also requires a manual fix. Since Jellyfin isn't a critical service, that's not a huge deal to me, and at least this way, I don't end up having to rescan the library every time. \n\nI could probably cron a shell script to check for the flag file and running container, for a delayed auto-restart, if it gets to that point.\n\nMaybe someone else will find this handy to have in their toolbox.", "author_fullname": "t2_bv5ay", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Stupid Docker Tricks: Don't start docker container without a \"flag file\" existing", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "dockermanagement", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11vp9cr", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.95, "author_flair_background_color": null, "subreddit_type": "public", "ups": 88, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Docker Management", "can_mod_post": false, "score": 88, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679242235.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;It took me a while of poking around to get this working the way I (mostly) wanted, and now that I have, I thought it might be useful to someone else in a similar boat. &lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;My Use Case&lt;/strong&gt;: Running Jellyfin container on a Linux host with media library hosted on NAS smb shares &lt;/p&gt;&lt;/li&gt;\n&lt;li&gt;&lt;p&gt;&lt;strong&gt;My Problem&lt;/strong&gt;: When restarting the host server, especially after a power outage that outlasts my UPSes (after which my NAS does not automatically restart, unfortunately), the container would start before the media share was mounted, making Jellyfin think the library was empty. &lt;/p&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Looking into this problem, I came across several solutions which didn&amp;#39;t quite work for me.  Using systemd unit files, besides being messy, would hold &lt;em&gt;all&lt;/em&gt; docker containers until they were mounted, which wasn&amp;#39;t what I was looking for.  &lt;/p&gt;\n\n&lt;p&gt;I could also do the check by wrapping the turnup in a shell script and checking for the existing file before executing docker/docker-compose, but this precluded the use of &amp;quot;restart: unless-stopped&amp;quot; since I&amp;#39;d have to rely on the script for every start. &lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;My Solution&lt;/strong&gt;: Abuse the fail behavior of bind mounts. &lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;I created a flag file in the root of my media library, on the share (so it won&amp;#39;t exist if the mount isn&amp;#39;t ready/fails) &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;touch /MediaLib/.targren_mount_ready\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Then add another bind mount in the spin-up command:  &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;--mount type=bind,source=/MediaLib/.targren_mount_ready, target=/.targren_mount_ok, readonly=1   \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Note: You &lt;em&gt;cannot&lt;/em&gt; use -v/volume for this, since &lt;a href=\"https://docs.docker.com/storage/bind-mounts/#differences-between--v-and---mount-behavior\"&gt;it will create the missing file instead of failing&lt;/a&gt;, defeating the purpose.&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;strong&gt;The Downside&lt;/strong&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;As a solution, it&amp;#39;s not what I&amp;#39;d call perfect. In fact, it&amp;#39;s pretty hackish.&lt;/p&gt;\n\n&lt;p&gt;It usually requires manual intervention to fix, but I call that a wash since the status quo also requires a manual fix. Since Jellyfin isn&amp;#39;t a critical service, that&amp;#39;s not a huge deal to me, and at least this way, I don&amp;#39;t end up having to rescan the library every time. &lt;/p&gt;\n\n&lt;p&gt;I could probably cron a shell script to check for the flag file and running container, for a delayed auto-restart, if it gets to that point.&lt;/p&gt;\n\n&lt;p&gt;Maybe someone else will find this handy to have in their toolbox.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "f7d475f2-7e6b-11e9-9d01-0e36b1616012", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11vp9cr", "is_robot_indexable": true, "report_reasons": null, "author": "Targren", "discussion_type": null, "num_comments": 62, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11vp9cr/stupid_docker_tricks_dont_start_docker_container/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11vp9cr/stupid_docker_tricks_dont_start_docker_container/", "subreddit_subscribers": 236058, "created_utc": 1679242235.0, "num_crossposts": 1, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "hey,\n\nI am looking for a software for to-do lists. Unfortunately I could not find the right one yet.Important to me would be:\n\n* self-hosting\n* kanban board\n* easy handling\n* checklist in tasks\n* create pictures, links and comments for a task\n* multiple boards\n* android app. (would like to have the board as widget)\n\n&amp;#x200B;\n\nWhat I have looked at so far:\n\nplanka -&gt; my favorite unfortunately without app.\n\nwekan -&gt; Android app unfortunately not for self-hosted\n\nvikunja -&gt; app is in development\n\nfocalboad -&gt; not easy to use\n\ntaiga -&gt; also no app\n\nkanboard -&gt; the app (kandroid) is no longer under development\n\nAll posts here on reddit are older than 4 years.Does anyone happen to have another alternative for me ?", "author_fullname": "t2_s9z7fe27", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Self-hosted kanban board", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11vmrh3", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.98, "author_flair_background_color": null, "subreddit_type": "public", "ups": 42, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 42, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": 1679289229.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679235877.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;hey,&lt;/p&gt;\n\n&lt;p&gt;I am looking for a software for to-do lists. Unfortunately I could not find the right one yet.Important to me would be:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;self-hosting&lt;/li&gt;\n&lt;li&gt;kanban board&lt;/li&gt;\n&lt;li&gt;easy handling&lt;/li&gt;\n&lt;li&gt;checklist in tasks&lt;/li&gt;\n&lt;li&gt;create pictures, links and comments for a task&lt;/li&gt;\n&lt;li&gt;multiple boards&lt;/li&gt;\n&lt;li&gt;android app. (would like to have the board as widget)&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;What I have looked at so far:&lt;/p&gt;\n\n&lt;p&gt;planka -&amp;gt; my favorite unfortunately without app.&lt;/p&gt;\n\n&lt;p&gt;wekan -&amp;gt; Android app unfortunately not for self-hosted&lt;/p&gt;\n\n&lt;p&gt;vikunja -&amp;gt; app is in development&lt;/p&gt;\n\n&lt;p&gt;focalboad -&amp;gt; not easy to use&lt;/p&gt;\n\n&lt;p&gt;taiga -&amp;gt; also no app&lt;/p&gt;\n\n&lt;p&gt;kanboard -&amp;gt; the app (kandroid) is no longer under development&lt;/p&gt;\n\n&lt;p&gt;All posts here on reddit are older than 4 years.Does anyone happen to have another alternative for me ?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11vmrh3", "is_robot_indexable": true, "report_reasons": null, "author": "i_draco", "discussion_type": null, "num_comments": 42, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11vmrh3/selfhosted_kanban_board/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11vmrh3/selfhosted_kanban_board/", "subreddit_subscribers": 236058, "created_utc": 1679235877.0, "num_crossposts": 1, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hey everyone. So I've been self hosting a few things in the past mostly for fun / testing purposes (nextcloud instances, private media server, this kind of things) but recently decided to do much more. \n\nI want to start building a solid thing from the ground up. I'm very knowledgeable about Linux in general, pretty comfortable with docker, but one area I'm very lacking in is networking. I very broadly know every concept, and I've made things work in the past, but I've always kind of overlooked the networking part, mainly, blindly following what was needed for the things I've wanted to setup to work (forward this to this, open this port, activate that, etc...). \n\nBefore starting it all, I'd love to get a much better knowledge about it. So when I have to forward a port, I know what it's doing, when I have to set up some reverse proxy, I know the ins and outs of it, when I have to configure my router or DNS, I know what I'm looking for and don't have to \"guess\", that kind of things. \n\nYou guys know of any tutorial / series of tutorials that explains this all clearly ? Either written or video form, with a small preference for video (I much prefer written explanations for deep dives in complicated subjects, but kind of like the \"interactivity\" of video format for introductions to a subject).\n\nTo be a bit more precise, what I'll start setting up will be a raspberry pi hosting a few containerized services (some accessible from outside, some no), allowing an ssh outside connection to my home network through it, while keeping the whole thing \"safe enough\". If I like it as much as I anticipate, I have some leftover hardware that I will repurpose to a more beefy home server should the pi prove not powerful enough down the line.", "author_fullname": "t2_1u8m9rom", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Good networking tutorial ?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11wbzx0", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.85, "author_flair_background_color": null, "subreddit_type": "public", "ups": 31, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Need Help", "can_mod_post": false, "score": 31, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679297523.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey everyone. So I&amp;#39;ve been self hosting a few things in the past mostly for fun / testing purposes (nextcloud instances, private media server, this kind of things) but recently decided to do much more. &lt;/p&gt;\n\n&lt;p&gt;I want to start building a solid thing from the ground up. I&amp;#39;m very knowledgeable about Linux in general, pretty comfortable with docker, but one area I&amp;#39;m very lacking in is networking. I very broadly know every concept, and I&amp;#39;ve made things work in the past, but I&amp;#39;ve always kind of overlooked the networking part, mainly, blindly following what was needed for the things I&amp;#39;ve wanted to setup to work (forward this to this, open this port, activate that, etc...). &lt;/p&gt;\n\n&lt;p&gt;Before starting it all, I&amp;#39;d love to get a much better knowledge about it. So when I have to forward a port, I know what it&amp;#39;s doing, when I have to set up some reverse proxy, I know the ins and outs of it, when I have to configure my router or DNS, I know what I&amp;#39;m looking for and don&amp;#39;t have to &amp;quot;guess&amp;quot;, that kind of things. &lt;/p&gt;\n\n&lt;p&gt;You guys know of any tutorial / series of tutorials that explains this all clearly ? Either written or video form, with a small preference for video (I much prefer written explanations for deep dives in complicated subjects, but kind of like the &amp;quot;interactivity&amp;quot; of video format for introductions to a subject).&lt;/p&gt;\n\n&lt;p&gt;To be a bit more precise, what I&amp;#39;ll start setting up will be a raspberry pi hosting a few containerized services (some accessible from outside, some no), allowing an ssh outside connection to my home network through it, while keeping the whole thing &amp;quot;safe enough&amp;quot;. If I like it as much as I anticipate, I have some leftover hardware that I will repurpose to a more beefy home server should the pi prove not powerful enough down the line.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "82508a80-05bc-11eb-ae09-0effb713859f", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11wbzx0", "is_robot_indexable": true, "report_reasons": null, "author": "ISitAndWatch", "discussion_type": null, "num_comments": 7, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11wbzx0/good_networking_tutorial/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11wbzx0/good_networking_tutorial/", "subreddit_subscribers": 236058, "created_utc": 1679297523.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "# Ubuntu Server HDD Spin Down Problem\n\n## Summary\n\nI make my disks spin down after 30 minutes of inactivity, but something seems to be waking them. Even when my HDDs disks are supposed to be inaccessible (i.e., when they are unmounted), the behavior is the same. What could possibly be causing the disks to spin up or what else (aside from what I've already done) can I do to find out what is causing it?\n\n## Details\n\n## Setup\n\n* Two HDDs, mirrored using ZFS\n* NVME SSD - no need to use power management\n* WDC HDDs: WD80EDAZ and WD80EZAZ\n* Ubuntu Server 22.04 AMD64\n* zfs-2.1.5-1ubuntu6\\~22.04.1\n* zfs-kmod-2.1.4-0ubuntu0.1\n\nMy server is set up such that most data that changes often are on my SSD, while my large, infrequently-accessed files are in my HDDs. Because of this setup, my HDDs only have to spin up typically once or twice a day. I set up my `hdparm.conf` to spin down my disks after 30 minutes of inactivity. I noticed that my disks never spin down unless I run `sudo hdparm -Y /dev/sda &amp;&amp; sudo hdparm -Y /dev/sdb`, but after a few minutes, somehow they spin back up. I know that these disks are capable of spinning down and staying spun down because\n\n* When I used these same disks in another server, the behavior I'm describing did not occur.\n* running `hdparm -Y` with the current setup makes them spin down, until that mystery process makes them spin back up.\n\n## Things I've tried\n\n* hdparm spin down by adding the following to `/etc/hdparm.conf`\n\n&amp;#x200B;\n\n    /dev/sda {\n        spindown_time = 241\n    }\n    \n    /dev/sdb {\n        spindown_time = 241\n    }\n\n&amp;#x200B;\n\n* `hdparm.conf` APM settings to 127\n\n&amp;#x200B;\n\n    # -B apm setting\n    apm = 127\n\n&amp;#x200B;\n\n* used `sudo journalctl -u systemd-udevd.service -f` to find out systemd logs related to `/dev/sda`. I did the same for `/dev/sdb`. I found some logs related to `snapd.autoimport.service`, so I disabled them\n   * the error was something like `systemd-udevd[658]: Process \u2018/usr/bin/unshare -m /usr/bin/snap auto-import --mount=/dev/sda1\u2019 failed`\n   * I disabled service `snapd.autoimport.service` and when that didn't work, I tried disabling `snapd`. That didn't work to keep the disks spun down either.\n      * `sudo systemctl stop &lt;service&gt; &amp;&amp; sudo systemctl disable &lt;service&gt;`\n* checked crontab and `/etc/cron.d/zfsutils-linux` crontab\n   * I saw a entries for trimming and scrubbing, but each was supposed to happen only once a month, and nothing was happening at the time I checked using `zpool status`\n* stopped all docker containers, **UNMOUNTED the disks**, but still, the disks spin up somehow!\n\n## Update\nI found here a way to trace activity on block devices:\nHere's the output after the disks spun back up despite having nothing on the disks mounted and the entire zfs pool exported\n\n```\n\u279c  ~ sudo hdparm -Y /dev/sda &amp;&amp; sudo hdparm -Y /dev/sdb &amp;&amp; sudo btrace /dev/sda\n\n/dev/sda:\n issuing sleep command\n\n/dev/sdb:\n issuing sleep command\n  8,0    0        1     0.000000000 724856  D   N 0 [pool-udisksd]\n  8,0    3        1    11.525428063 722301  R   R [0]\n  8,0    3        2    11.533306895   183  R   R [0]\n  8,0    3        3    11.540439357   185  C   N [0]\n  8,0    3        4    11.540445592   185  D   R 255 [scsi_eh_0]\n  8,0    3        5    11.540453860    34  C   R [0]\n  8,0    3        6    11.540461575 722301  D   R 255 [kworker/3:0]\n  8,0    3        7    11.540463567    34  C   R [0]\n  8,0    3        8    11.540466751 722301  D   R 255 [kworker/3:0]\n  8,0    3        9    11.540468435    34  C   R [0]\n  8,0    3       10    11.540471038 722301  D   R 255 [kworker/3:0]\n  8,0    3       11    11.540472778    34  C   R [0]\n  8,0    3       12    11.540475209 722301  D   R 255 [kworker/3:0]\n  8,0    3       13    11.540476889    34  C   R [0]\n  8,0    3       14    11.540479184 722301  D   R 572 [kworker/3:0]\n  8,0    3       15    11.540480624    34  C   R [0]\n  8,0    3       16    11.540483620 722301  D   N 0 [kworker/3:0]\n  8,0    3       17    11.540484979    34  C   N [0]\n  8,0    3       18    11.540487542 722301  D   R 32 [kworker/3:0]\n  8,0    3       19    11.540489352    34  C   R [0]\n  8,0    3       20    11.540492719 722301  D   R 64 [kworker/3:0]\n  8,0    3       21    11.540494231    34  C   R [0]\n  8,0    3       22    11.540496390 722301  D   R 64 [kworker/3:0]\n  8,0    3       23    11.540497971    34  C   R [0]\n  8,0    3       24    11.540500657 722301  D   R 64 [kworker/3:0]\n  8,0    3       25    11.540502098    34  C   R [0]\n  8,0    3       26    11.540504274 722301  D   R 64 [kworker/3:0]\n  8,0    3       27    11.540505931    34  C   R [0]\n  8,0    3       28    11.573494125 722301  D   R 8 [kworker/3:0]\n  8,0    3       29    11.573527906    34  C   R [0]\n  8,0    3       30    11.573553453 722301  D   R 8 [kworker/3:0]\n  8,0    3       31    11.573561308    34  C   R [0]\n  8,0    3       32    11.573571628 722301  D   R 36 [kworker/3:0]\n  8,0    3       33    11.573578245    34  C   R [0]\n  8,0    3       34    11.573588496 722301  D   R 512 [kworker/3:0]\n  8,0    3       35    11.573595167    34  C   R [0]\n  8,0    3       36    11.573603325 722301  D   R 512 [kworker/3:0]\n  8,0    3       37    11.573609503    34  C   R [0]\n  8,0    3       38    11.573617637 722301  D   R 512 [kworker/3:0]\n  8,0    3       39    11.573623265    34  C   R [0]\n  8,0    3       40    11.573630652 722301  D   R 512 [kworker/3:0]\n  8,0    3       41    11.573636471    34  C   R [0]\n  8,0    3       42    11.573643758 722301  D   R 512 [kworker/3:0]\n  8,0    3       43    11.573649461    34  C   R [0]\n```", "author_fullname": "t2_x4x3cwy", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Ubuntu Server HDD Spin Down Problem", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11w4apb", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.75, "author_flair_background_color": null, "subreddit_type": "public", "ups": 11, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 11, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": 1679317522.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679275489.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;h1&gt;Ubuntu Server HDD Spin Down Problem&lt;/h1&gt;\n\n&lt;h2&gt;Summary&lt;/h2&gt;\n\n&lt;p&gt;I make my disks spin down after 30 minutes of inactivity, but something seems to be waking them. Even when my HDDs disks are supposed to be inaccessible (i.e., when they are unmounted), the behavior is the same. What could possibly be causing the disks to spin up or what else (aside from what I&amp;#39;ve already done) can I do to find out what is causing it?&lt;/p&gt;\n\n&lt;h2&gt;Details&lt;/h2&gt;\n\n&lt;h2&gt;Setup&lt;/h2&gt;\n\n&lt;ul&gt;\n&lt;li&gt;Two HDDs, mirrored using ZFS&lt;/li&gt;\n&lt;li&gt;NVME SSD - no need to use power management&lt;/li&gt;\n&lt;li&gt;WDC HDDs: WD80EDAZ and WD80EZAZ&lt;/li&gt;\n&lt;li&gt;Ubuntu Server 22.04 AMD64&lt;/li&gt;\n&lt;li&gt;zfs-2.1.5-1ubuntu6~22.04.1&lt;/li&gt;\n&lt;li&gt;zfs-kmod-2.1.4-0ubuntu0.1&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;My server is set up such that most data that changes often are on my SSD, while my large, infrequently-accessed files are in my HDDs. Because of this setup, my HDDs only have to spin up typically once or twice a day. I set up my &lt;code&gt;hdparm.conf&lt;/code&gt; to spin down my disks after 30 minutes of inactivity. I noticed that my disks never spin down unless I run &lt;code&gt;sudo hdparm -Y /dev/sda &amp;amp;&amp;amp; sudo hdparm -Y /dev/sdb&lt;/code&gt;, but after a few minutes, somehow they spin back up. I know that these disks are capable of spinning down and staying spun down because&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;When I used these same disks in another server, the behavior I&amp;#39;m describing did not occur.&lt;/li&gt;\n&lt;li&gt;running &lt;code&gt;hdparm -Y&lt;/code&gt; with the current setup makes them spin down, until that mystery process makes them spin back up.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h2&gt;Things I&amp;#39;ve tried&lt;/h2&gt;\n\n&lt;ul&gt;\n&lt;li&gt;hdparm spin down by adding the following to &lt;code&gt;/etc/hdparm.conf&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;/dev/sda {\n    spindown_time = 241\n}\n\n/dev/sdb {\n    spindown_time = 241\n}\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;hdparm.conf&lt;/code&gt; APM settings to 127&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;# -B apm setting\napm = 127\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;used &lt;code&gt;sudo journalctl -u systemd-udevd.service -f&lt;/code&gt; to find out systemd logs related to &lt;code&gt;/dev/sda&lt;/code&gt;. I did the same for &lt;code&gt;/dev/sdb&lt;/code&gt;. I found some logs related to &lt;code&gt;snapd.autoimport.service&lt;/code&gt;, so I disabled them\n\n&lt;ul&gt;\n&lt;li&gt;the error was something like &lt;code&gt;systemd-udevd[658]: Process \u2018/usr/bin/unshare -m /usr/bin/snap auto-import --mount=/dev/sda1\u2019 failed&lt;/code&gt;&lt;/li&gt;\n&lt;li&gt;I disabled service &lt;code&gt;snapd.autoimport.service&lt;/code&gt; and when that didn&amp;#39;t work, I tried disabling &lt;code&gt;snapd&lt;/code&gt;. That didn&amp;#39;t work to keep the disks spun down either.\n\n&lt;ul&gt;\n&lt;li&gt;&lt;code&gt;sudo systemctl stop &amp;lt;service&amp;gt; &amp;amp;&amp;amp; sudo systemctl disable &amp;lt;service&amp;gt;&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;&lt;/li&gt;\n&lt;/ul&gt;&lt;/li&gt;\n&lt;li&gt;checked crontab and &lt;code&gt;/etc/cron.d/zfsutils-linux&lt;/code&gt; crontab\n\n&lt;ul&gt;\n&lt;li&gt;I saw a entries for trimming and scrubbing, but each was supposed to happen only once a month, and nothing was happening at the time I checked using &lt;code&gt;zpool status&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;&lt;/li&gt;\n&lt;li&gt;stopped all docker containers, &lt;strong&gt;UNMOUNTED the disks&lt;/strong&gt;, but still, the disks spin up somehow!&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h2&gt;Update&lt;/h2&gt;\n\n&lt;p&gt;I found here a way to trace activity on block devices:\nHere&amp;#39;s the output after the disks spun back up despite having nothing on the disks mounted and the entire zfs pool exported&lt;/p&gt;\n\n&lt;p&gt;```\n\u279c  ~ sudo hdparm -Y /dev/sda &amp;amp;&amp;amp; sudo hdparm -Y /dev/sdb &amp;amp;&amp;amp; sudo btrace /dev/sda&lt;/p&gt;\n\n&lt;p&gt;/dev/sda:\n issuing sleep command&lt;/p&gt;\n\n&lt;p&gt;/dev/sdb:\n issuing sleep command\n  8,0    0        1     0.000000000 724856  D   N 0 [pool-udisksd]\n  8,0    3        1    11.525428063 722301  R   R [0]\n  8,0    3        2    11.533306895   183  R   R [0]\n  8,0    3        3    11.540439357   185  C   N [0]\n  8,0    3        4    11.540445592   185  D   R 255 [scsi_eh_0]\n  8,0    3        5    11.540453860    34  C   R [0]\n  8,0    3        6    11.540461575 722301  D   R 255 [kworker/3:0]\n  8,0    3        7    11.540463567    34  C   R [0]\n  8,0    3        8    11.540466751 722301  D   R 255 [kworker/3:0]\n  8,0    3        9    11.540468435    34  C   R [0]\n  8,0    3       10    11.540471038 722301  D   R 255 [kworker/3:0]\n  8,0    3       11    11.540472778    34  C   R [0]\n  8,0    3       12    11.540475209 722301  D   R 255 [kworker/3:0]\n  8,0    3       13    11.540476889    34  C   R [0]\n  8,0    3       14    11.540479184 722301  D   R 572 [kworker/3:0]\n  8,0    3       15    11.540480624    34  C   R [0]\n  8,0    3       16    11.540483620 722301  D   N 0 [kworker/3:0]\n  8,0    3       17    11.540484979    34  C   N [0]\n  8,0    3       18    11.540487542 722301  D   R 32 [kworker/3:0]\n  8,0    3       19    11.540489352    34  C   R [0]\n  8,0    3       20    11.540492719 722301  D   R 64 [kworker/3:0]\n  8,0    3       21    11.540494231    34  C   R [0]\n  8,0    3       22    11.540496390 722301  D   R 64 [kworker/3:0]\n  8,0    3       23    11.540497971    34  C   R [0]\n  8,0    3       24    11.540500657 722301  D   R 64 [kworker/3:0]\n  8,0    3       25    11.540502098    34  C   R [0]\n  8,0    3       26    11.540504274 722301  D   R 64 [kworker/3:0]\n  8,0    3       27    11.540505931    34  C   R [0]\n  8,0    3       28    11.573494125 722301  D   R 8 [kworker/3:0]\n  8,0    3       29    11.573527906    34  C   R [0]\n  8,0    3       30    11.573553453 722301  D   R 8 [kworker/3:0]\n  8,0    3       31    11.573561308    34  C   R [0]\n  8,0    3       32    11.573571628 722301  D   R 36 [kworker/3:0]\n  8,0    3       33    11.573578245    34  C   R [0]\n  8,0    3       34    11.573588496 722301  D   R 512 [kworker/3:0]\n  8,0    3       35    11.573595167    34  C   R [0]\n  8,0    3       36    11.573603325 722301  D   R 512 [kworker/3:0]\n  8,0    3       37    11.573609503    34  C   R [0]\n  8,0    3       38    11.573617637 722301  D   R 512 [kworker/3:0]\n  8,0    3       39    11.573623265    34  C   R [0]\n  8,0    3       40    11.573630652 722301  D   R 512 [kworker/3:0]\n  8,0    3       41    11.573636471    34  C   R [0]\n  8,0    3       42    11.573643758 722301  D   R 512 [kworker/3:0]\n  8,0    3       43    11.573649461    34  C   R [0]\n```&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11w4apb", "is_robot_indexable": true, "report_reasons": null, "author": "hoy_pogi", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11w4apb/ubuntu_server_hdd_spin_down_problem/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11w4apb/ubuntu_server_hdd_spin_down_problem/", "subreddit_subscribers": 236058, "created_utc": 1679275489.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "", "author_fullname": "t2_5n88o", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "nforwardauth, a simple forwardauth service for Traefik I built after being sick of basic auth", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "productannouncement", "downs": 0, "thumbnail_height": 70, "top_awarded_type": null, "hide_score": false, "name": "t3_11vpuj8", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.89, "author_flair_background_color": null, "ups": 14, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": 140, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Product Announcement", "can_mod_post": false, "score": 14, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "https://b.thumbs.redditmedia.com/lH04mhEUowV35QiZRCQLfp3OVOW12yDd1JlAes4FeRI.jpg", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "link", "content_categories": null, "is_self": false, "subreddit_type": "public", "created": 1679243551.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "github.com", "allow_live_comments": false, "selftext_html": null, "likes": null, "suggested_sort": null, "banned_at_utc": null, "url_overridden_by_dest": "https://github.com/NOSDuco/nforwardauth", "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/EaNIVybtqZR7ZUDpqFfSAMpmiu-j-Yo17uMIts8gb74.jpg?auto=webp&amp;v=enabled&amp;s=a9346c2b942d6c8c7cf0e82b5366d3cea79af5b5", "width": 1200, "height": 600}, "resolutions": [{"url": "https://external-preview.redd.it/EaNIVybtqZR7ZUDpqFfSAMpmiu-j-Yo17uMIts8gb74.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=53b8c5f74e4d9a982765cfdeef15b4102efa5c52", "width": 108, "height": 54}, {"url": "https://external-preview.redd.it/EaNIVybtqZR7ZUDpqFfSAMpmiu-j-Yo17uMIts8gb74.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=041c4d2f168e9756136aab0e8922d82d59fdc59c", "width": 216, "height": 108}, {"url": "https://external-preview.redd.it/EaNIVybtqZR7ZUDpqFfSAMpmiu-j-Yo17uMIts8gb74.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=59ce135f94727c5c6591dfc3c8a7cf98b9889ad0", "width": 320, "height": 160}, {"url": "https://external-preview.redd.it/EaNIVybtqZR7ZUDpqFfSAMpmiu-j-Yo17uMIts8gb74.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=fdd34fdf2a786c8ec98c97772e04315244d77374", "width": 640, "height": 320}, {"url": "https://external-preview.redd.it/EaNIVybtqZR7ZUDpqFfSAMpmiu-j-Yo17uMIts8gb74.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=9408717119de1b5cebdc244595c3f84bea95ae75", "width": 960, "height": 480}, {"url": "https://external-preview.redd.it/EaNIVybtqZR7ZUDpqFfSAMpmiu-j-Yo17uMIts8gb74.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=630a2c1287bc83fe45b66e7a3524bdc463047a44", "width": 1080, "height": 540}], "variants": {}, "id": "Dho-LPug1xavmEBUjsbvzmJbSo2bsOflhAp_oQgrrdk"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "c7fc47c4-7e6b-11e9-b04d-0e70893a61b4", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "mod_note": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "num_reports": null, "removal_reason": null, "link_flair_background_color": "", "id": "11vpuj8", "is_robot_indexable": true, "report_reasons": null, "author": "NOSDuco", "discussion_type": null, "num_comments": 7, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11vpuj8/nforwardauth_a_simple_forwardauth_service_for/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://github.com/NOSDuco/nforwardauth", "subreddit_subscribers": 236058, "created_utc": 1679243551.0, "num_crossposts": 1, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hey all,\n\nJust wanted to share a small site I built to learn working with Next.js and Typesense.\n\nI've been a huge fan of the awesome-selfhosted repo for the last 3 years. I decided to scrape all the repos mentioned in the list and save amount of stars, descriptions, and other relevant data to a small db. I also added the data to the Typesense instance to enable quick search.\n\nWould love to know what you think. Here is the link: [https://awesome-selfhosted-analysis.vercel.app](https://awesome-selfhosted-analysis.vercel.app)\n\nIn the future, I will try to add some graph and interesting stats about the repos.", "author_fullname": "t2_570xtibt", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Awesome Self-hosted Search", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "productannouncement", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11vps0h", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.82, "author_flair_background_color": null, "subreddit_type": "public", "ups": 10, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Product Announcement", "can_mod_post": false, "score": 10, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679243405.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hey all,&lt;/p&gt;\n\n&lt;p&gt;Just wanted to share a small site I built to learn working with Next.js and Typesense.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ve been a huge fan of the awesome-selfhosted repo for the last 3 years. I decided to scrape all the repos mentioned in the list and save amount of stars, descriptions, and other relevant data to a small db. I also added the data to the Typesense instance to enable quick search.&lt;/p&gt;\n\n&lt;p&gt;Would love to know what you think. Here is the link: &lt;a href=\"https://awesome-selfhosted-analysis.vercel.app\"&gt;https://awesome-selfhosted-analysis.vercel.app&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;In the future, I will try to add some graph and interesting stats about the repos.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "c7fc47c4-7e6b-11e9-b04d-0e70893a61b4", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11vps0h", "is_robot_indexable": true, "report_reasons": null, "author": "rasulkireev", "discussion_type": null, "num_comments": 9, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11vps0h/awesome_selfhosted_search/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11vps0h/awesome_selfhosted_search/", "subreddit_subscribers": 236058, "created_utc": 1679243405.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "From my previous post, I see that many people use Plex. I am interested in why so many people are using it.", "author_fullname": "t2_w7lnqp57", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Why did you choose Plex instead of something else?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11wb7m8", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.72, "author_flair_background_color": null, "subreddit_type": "public", "ups": 9, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 9, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679294943.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;From my previous post, I see that many people use Plex. I am interested in why so many people are using it.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11wb7m8", "is_robot_indexable": true, "report_reasons": null, "author": "AstroAntique", "discussion_type": null, "num_comments": 71, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11wb7m8/why_did_you_choose_plex_instead_of_something_else/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11wb7m8/why_did_you_choose_plex_instead_of_something_else/", "subreddit_subscribers": 236058, "created_utc": 1679294943.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I have Authelia mostly working in my self hosted environment, but having issues with Vaultwarden currently.  I'm fairly new to configuring Authelia, so I've likely got something wrong here.\n\nI can connect to Vaultwarden via browser URL.  Inputting my information into the bitwarden app however just gives a prompt of \"An error has occured\"\n\nI tried to interpret what they had on the Ibracorp site for it, but obviously I'm missing something.\n\n[https://docs.ibracorp.io/authelia/authelia/rules](https://docs.ibracorp.io/authelia/authelia/rules)\n\n\\&gt;Editor is being a pain in the rear with spaces - here is my code:\n\n[https://pastebin.com/6vH3WWCm](https://pastebin.com/6vH3WWCm)\n\n&amp;#x200B;\n\nAnything inherently wrong with my authelia configuration.yml ?  Possible it might be something else I'm doing?\n\nAppreciate any thoughts you might have!", "author_fullname": "t2_7bbs1", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Authelia | Vaultwarden help", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11w4s7c", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.86, "author_flair_background_color": null, "subreddit_type": "public", "ups": 9, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 9, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": 1679277426.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "post_hint": "self", "content_categories": null, "is_self": true, "mod_note": null, "created": 1679276713.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": true, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have Authelia mostly working in my self hosted environment, but having issues with Vaultwarden currently.  I&amp;#39;m fairly new to configuring Authelia, so I&amp;#39;ve likely got something wrong here.&lt;/p&gt;\n\n&lt;p&gt;I can connect to Vaultwarden via browser URL.  Inputting my information into the bitwarden app however just gives a prompt of &amp;quot;An error has occured&amp;quot;&lt;/p&gt;\n\n&lt;p&gt;I tried to interpret what they had on the Ibracorp site for it, but obviously I&amp;#39;m missing something.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://docs.ibracorp.io/authelia/authelia/rules\"&gt;https://docs.ibracorp.io/authelia/authelia/rules&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;gt;Editor is being a pain in the rear with spaces - here is my code:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://pastebin.com/6vH3WWCm\"&gt;https://pastebin.com/6vH3WWCm&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Anything inherently wrong with my authelia configuration.yml ?  Possible it might be something else I&amp;#39;m doing?&lt;/p&gt;\n\n&lt;p&gt;Appreciate any thoughts you might have!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "preview": {"images": [{"source": {"url": "https://external-preview.redd.it/JORZEoJGJVmNrN7iAgFC5xwtLzggbeI5hbC54JOKwPg.jpg?auto=webp&amp;v=enabled&amp;s=279f4f594c88d552674580a312dd33886613a8f5", "width": 2560, "height": 265}, "resolutions": [{"url": "https://external-preview.redd.it/JORZEoJGJVmNrN7iAgFC5xwtLzggbeI5hbC54JOKwPg.jpg?width=108&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=b0926cb3b8c055fce18b3ae03d42be4432be46bd", "width": 108, "height": 11}, {"url": "https://external-preview.redd.it/JORZEoJGJVmNrN7iAgFC5xwtLzggbeI5hbC54JOKwPg.jpg?width=216&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=388d5324f9132c22e0bfab4f84b8be3117e2be34", "width": 216, "height": 22}, {"url": "https://external-preview.redd.it/JORZEoJGJVmNrN7iAgFC5xwtLzggbeI5hbC54JOKwPg.jpg?width=320&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=6a6013732e2896c7cab422bc331132d9ae108af8", "width": 320, "height": 33}, {"url": "https://external-preview.redd.it/JORZEoJGJVmNrN7iAgFC5xwtLzggbeI5hbC54JOKwPg.jpg?width=640&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=17fda0f97c517f8d52903a9bee374b81a5e3b92a", "width": 640, "height": 66}, {"url": "https://external-preview.redd.it/JORZEoJGJVmNrN7iAgFC5xwtLzggbeI5hbC54JOKwPg.jpg?width=960&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=04793587110ce25ccb4a46696bfb27801fd48662", "width": 960, "height": 99}, {"url": "https://external-preview.redd.it/JORZEoJGJVmNrN7iAgFC5xwtLzggbeI5hbC54JOKwPg.jpg?width=1080&amp;crop=smart&amp;auto=webp&amp;v=enabled&amp;s=5b8f800dc95247f639a517d2a048516e4994031a", "width": 1080, "height": 111}], "variants": {}, "id": "cd_mIY03OFmrpJ6ScmZyDNmWxRyEbyhi30A8ig4A_3k"}], "enabled": false}, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11w4s7c", "is_robot_indexable": true, "report_reasons": null, "author": "gmaclean", "discussion_type": null, "num_comments": 9, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11w4s7c/authelia_vaultwarden_help/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11w4s7c/authelia_vaultwarden_help/", "subreddit_subscribers": 236058, "created_utc": 1679276713.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "There was a post in here recently asking about a self-hosted personal finance app.  I can\u2019t seem to find it again for some reason, but someone suggested Firefly iii (3?).  That got me intrigued, so I was wondering how that compared to other free options.  I\u2019ve been using Mint for the past few years, but I\u2019ve been looking to reduce the amount of personal data that can be mined with cloud hosted services.  Does anyone use it on a regular basis?  How is it when you compare it to Mint or any of the open source services you can host yourself?", "author_fullname": "t2_59yfkpxq", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Firefly iii vs", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11w5068", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.76, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 6, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679277279.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;There was a post in here recently asking about a self-hosted personal finance app.  I can\u2019t seem to find it again for some reason, but someone suggested Firefly iii (3?).  That got me intrigued, so I was wondering how that compared to other free options.  I\u2019ve been using Mint for the past few years, but I\u2019ve been looking to reduce the amount of personal data that can be mined with cloud hosted services.  Does anyone use it on a regular basis?  How is it when you compare it to Mint or any of the open source services you can host yourself?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11w5068", "is_robot_indexable": true, "report_reasons": null, "author": "dnoods", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11w5068/firefly_iii_vs/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11w5068/firefly_iii_vs/", "subreddit_subscribers": 236058, "created_utc": 1679277279.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "TLDR  : free teams account need to pay or will be deleted in 30 days \n\nHello all , I am only using a few docker images and do not fully understand what is the big deal for open source ?", "author_fullname": "t2_4llsk62", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "How will docker recent changes affect us?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "dockermanagement", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11wb5es", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.67, "author_flair_background_color": null, "subreddit_type": "public", "ups": 6, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Docker Management", "can_mod_post": false, "score": 6, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679294749.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;TLDR  : free teams account need to pay or will be deleted in 30 days &lt;/p&gt;\n\n&lt;p&gt;Hello all , I am only using a few docker images and do not fully understand what is the big deal for open source ?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "f7d475f2-7e6b-11e9-9d01-0e36b1616012", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11wb5es", "is_robot_indexable": true, "report_reasons": null, "author": "aviellg3", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11wb5es/how_will_docker_recent_changes_affect_us/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11wb5es/how_will_docker_recent_changes_affect_us/", "subreddit_subscribers": 236058, "created_utc": 1679294749.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I want to host a tiny VPN into which I want to bind a NAS and allow my friends to connect to it, so they can then use SMB from Windows Explorer to access the files on it. They have a moderate understanding of tech, but not far enough that I would put something like SoftEther into their hand.\n\nBack then, we used Hamachi LogMeIn - but I was wondering if there was a self-hosted version I could use instead? I.e.: Use my public server as a rondez-vous server to set up p2p connections to then talk directly to my NAS?\n\nThanks in advance!", "author_fullname": "t2_2c8xodlx", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "\"Noob-level\" VPN server", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "remote-access", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11w6ait", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.86, "author_flair_background_color": null, "subreddit_type": "public", "ups": 10, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Remote Access", "can_mod_post": false, "score": 10, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679280543.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I want to host a tiny VPN into which I want to bind a NAS and allow my friends to connect to it, so they can then use SMB from Windows Explorer to access the files on it. They have a moderate understanding of tech, but not far enough that I would put something like SoftEther into their hand.&lt;/p&gt;\n\n&lt;p&gt;Back then, we used Hamachi LogMeIn - but I was wondering if there was a self-hosted version I could use instead? I.e.: Use my public server as a rondez-vous server to set up p2p connections to then talk directly to my NAS?&lt;/p&gt;\n\n&lt;p&gt;Thanks in advance!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "0a45032a-0de1-11ed-997f-0a924a5694f9", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11w6ait", "is_robot_indexable": true, "report_reasons": null, "author": "IngwiePhoenix", "discussion_type": null, "num_comments": 13, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11w6ait/nooblevel_vpn_server/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11w6ait/nooblevel_vpn_server/", "subreddit_subscribers": 236058, "created_utc": 1679280543.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I'm looking to get into self hosting, but all i've got so far is a Homarr dashboard with a single button leadin to an empty Jellyfin server, all running on my day to day arch (btw) pc. What OS, Dashboard, NAS, VPN, Docker helpers/tools, etc etc apps do you use?\nI'm really looking forward to running a useful homelab for my friends, family and myself to take advantage of.\nThank you in advance!", "author_fullname": "t2_vweh88if", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "What self-hosted software are you using for each service?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11vvtde", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 7, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Need Help", "can_mod_post": false, "score": 7, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679255902.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m looking to get into self hosting, but all i&amp;#39;ve got so far is a Homarr dashboard with a single button leadin to an empty Jellyfin server, all running on my day to day arch (btw) pc. What OS, Dashboard, NAS, VPN, Docker helpers/tools, etc etc apps do you use?\nI&amp;#39;m really looking forward to running a useful homelab for my friends, family and myself to take advantage of.\nThank you in advance!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "82508a80-05bc-11eb-ae09-0effb713859f", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11vvtde", "is_robot_indexable": true, "report_reasons": null, "author": "ColonelRadium", "discussion_type": null, "num_comments": 15, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11vvtde/what_selfhosted_software_are_you_using_for_each/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11vvtde/what_selfhosted_software_are_you_using_for_each/", "subreddit_subscribers": 236058, "created_utc": 1679255902.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "i dont understand any about networkings or vpns but i need connect my home internet with my laptop while im outside like other cities. i just want show like  my ip is home ip when im in other city\n\nso i have questions;\n\nif i get one raspery pi and put it at home and configure PiVPN and when im in another city can i connect with that pivpn and my ip will show like im at home ?\n\nfor this did i need pay for extra server/vps fee etc ?\n\nhow good will be connection quality? too slow ? or keep disconnect quickly? or its stable?\n\ni  have 50mbit internet at home.\n\ndid i need static ip at home for this?\n\nwhen i connect with my laptop ill do just some browsing, youtube, excel etc basic office stuff.\n\nis raspery pi enough for this?\n\nalso is it safe ?\n\nsomeone can hack my homeVPN easily? and my home pc and my laptop ?\n\n\nseems like i have too much question but im searching about and im very confuse. so i hope someone help me", "author_fullname": "t2_f6fh8", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "PiVPN and self hosted questions", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11w3cyt", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.62, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679273135.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;i dont understand any about networkings or vpns but i need connect my home internet with my laptop while im outside like other cities. i just want show like  my ip is home ip when im in other city&lt;/p&gt;\n\n&lt;p&gt;so i have questions;&lt;/p&gt;\n\n&lt;p&gt;if i get one raspery pi and put it at home and configure PiVPN and when im in another city can i connect with that pivpn and my ip will show like im at home ?&lt;/p&gt;\n\n&lt;p&gt;for this did i need pay for extra server/vps fee etc ?&lt;/p&gt;\n\n&lt;p&gt;how good will be connection quality? too slow ? or keep disconnect quickly? or its stable?&lt;/p&gt;\n\n&lt;p&gt;i  have 50mbit internet at home.&lt;/p&gt;\n\n&lt;p&gt;did i need static ip at home for this?&lt;/p&gt;\n\n&lt;p&gt;when i connect with my laptop ill do just some browsing, youtube, excel etc basic office stuff.&lt;/p&gt;\n\n&lt;p&gt;is raspery pi enough for this?&lt;/p&gt;\n\n&lt;p&gt;also is it safe ?&lt;/p&gt;\n\n&lt;p&gt;someone can hack my homeVPN easily? and my home pc and my laptop ?&lt;/p&gt;\n\n&lt;p&gt;seems like i have too much question but im searching about and im very confuse. so i hope someone help me&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11w3cyt", "is_robot_indexable": true, "report_reasons": null, "author": "xy1k", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11w3cyt/pivpn_and_self_hosted_questions/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11w3cyt/pivpn_and_self_hosted_questions/", "subreddit_subscribers": 236058, "created_utc": 1679273135.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hi, I would like to automate provisioning (install OS and configure system) of many (like 20 for the beginning) raspberry pi's. This includes flashing raspbian (this I could even think of doing manually), configuring hostname, enabling ssh, configuring network with a dedicated IP address per device, enabling several services, configuring wireguard with provision of device-specific config &amp; keys etc\n\nInternet research brougtht 2 main solutions : script the whole thing or use ansible. Ansible requires ssh and network to be up and running, before being able to run it. first solution has the advantage that it is run on the sd card before boting up the pi at all, but also sounds like rewriting ansible to perform the tasks on the local filesystem\n\nIdeally I'm looking for a way to run ansible including its modules, but specifying the root of the filesystem. E.g. when enabling services, it shoudl not be done in /etc/systemd but in /mnt/etc/systemd\n\nIs there any way to implement this ? Could even ansible be repurposed ?\n\nMany thanks", "author_fullname": "t2_ehm7qu", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "auto-provisioning multiple raspberry pi's", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11w2dnv", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.76, "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 4, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679270794.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi, I would like to automate provisioning (install OS and configure system) of many (like 20 for the beginning) raspberry pi&amp;#39;s. This includes flashing raspbian (this I could even think of doing manually), configuring hostname, enabling ssh, configuring network with a dedicated IP address per device, enabling several services, configuring wireguard with provision of device-specific config &amp;amp; keys etc&lt;/p&gt;\n\n&lt;p&gt;Internet research brougtht 2 main solutions : script the whole thing or use ansible. Ansible requires ssh and network to be up and running, before being able to run it. first solution has the advantage that it is run on the sd card before boting up the pi at all, but also sounds like rewriting ansible to perform the tasks on the local filesystem&lt;/p&gt;\n\n&lt;p&gt;Ideally I&amp;#39;m looking for a way to run ansible including its modules, but specifying the root of the filesystem. E.g. when enabling services, it shoudl not be done in /etc/systemd but in /mnt/etc/systemd&lt;/p&gt;\n\n&lt;p&gt;Is there any way to implement this ? Could even ansible be repurposed ?&lt;/p&gt;\n\n&lt;p&gt;Many thanks&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11w2dnv", "is_robot_indexable": true, "report_reasons": null, "author": "jhf2442", "discussion_type": null, "num_comments": 7, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11w2dnv/autoprovisioning_multiple_raspberry_pis/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11w2dnv/autoprovisioning_multiple_raspberry_pis/", "subreddit_subscribers": 236058, "created_utc": 1679270794.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Beat with me, I'm very new to this, kinda just slamming my head into it until I get it...\n\nBasically, I deployed a bunch of self hosted stuff on my Nas, through docker.  But they all have ips like 192.168.x.x:xxxx.  I know I can create a dns for a ip like 192.168.86.x, but I want to have a domain name for each service I am hosting locally...\n\nSo like maybe dash.box to bring up a dashboard.  Or plex.box to bring up Plex in a browser, etc.   Currently, if I create the domain, since they all share the same IP, I'd have something like nasus.box:8080.  \n\nWhat tool or method would I need to use?", "author_fullname": "t2_hpjfw", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Looking to be pointed in the right direction, for assigning local dns to programs on docker, on Synology nas", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "dnstools", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11voy45", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 4, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "DNS Tools", "can_mod_post": false, "score": 4, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679241507.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Beat with me, I&amp;#39;m very new to this, kinda just slamming my head into it until I get it...&lt;/p&gt;\n\n&lt;p&gt;Basically, I deployed a bunch of self hosted stuff on my Nas, through docker.  But they all have ips like 192.168.x.x:xxxx.  I know I can create a dns for a ip like 192.168.86.x, but I want to have a domain name for each service I am hosting locally...&lt;/p&gt;\n\n&lt;p&gt;So like maybe dash.box to bring up a dashboard.  Or plex.box to bring up Plex in a browser, etc.   Currently, if I create the domain, since they all share the same IP, I&amp;#39;d have something like nasus.box:8080.  &lt;/p&gt;\n\n&lt;p&gt;What tool or method would I need to use?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "f0c1d430-7e6b-11e9-9779-0e688895811a", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11voy45", "is_robot_indexable": true, "report_reasons": null, "author": "Zeal514", "discussion_type": null, "num_comments": 7, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11voy45/looking_to_be_pointed_in_the_right_direction_for/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11voy45/looking_to_be_pointed_in_the_right_direction_for/", "subreddit_subscribers": 236058, "created_utc": 1679241507.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Over the past several months, Portainer CE has gotten really bad with pushing its \u201cBusiness Plan\u201d on users. The interface is very aesthetically pleasing, but now very intrusive, plus they\u2019ve been taking away features from CE and moving them to other versions. \n\nDoes anyone know of any good alternatives? Perhaps even a fork of Portainer without all of the bloatware. \n\nThanks,\nWDD", "author_fullname": "t2_vkoy1v6o", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Portainer Alternatives?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11wevxu", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.62, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679307714.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Over the past several months, Portainer CE has gotten really bad with pushing its \u201cBusiness Plan\u201d on users. The interface is very aesthetically pleasing, but now very intrusive, plus they\u2019ve been taking away features from CE and moving them to other versions. &lt;/p&gt;\n\n&lt;p&gt;Does anyone know of any good alternatives? Perhaps even a fork of Portainer without all of the bloatware. &lt;/p&gt;\n\n&lt;p&gt;Thanks,\nWDD&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11wevxu", "is_robot_indexable": true, "report_reasons": null, "author": "WienerDogDad", "discussion_type": null, "num_comments": 7, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11wevxu/portainer_alternatives/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11wevxu/portainer_alternatives/", "subreddit_subscribers": 236058, "created_utc": 1679307714.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hi,\n\ni have currently set up my cloudflare tunnel with a **wildcard \\*.mydomain.com** with the **NGINX port** in the Cloudfare Zero Trust GUI. This way the traffic runs through the one tunnel and the nginx manager splits it up, depending on the subdomain (see image attached).\n\nI had to turn \"Force SSL\" off to reach my subdomains.\n\nIn general this works fine but the filerun proxy host isn't able to generate a new SSL Certificate (Internal error). In the DNS managment i only included:\n\n1. \"\\*\" for name and the [*ID.cfargotunnel.com*](https://ID.cfargotunnel.com) for content and\n2. \"www\" (name), [*mydomain.com*](https://mydomain.com) (content)\n\nThis was no problem without the cloudflare tunnel. There i just opened 443+80 and used the NGINX Mangers for reverse proxy.\n\n&amp;#x200B;\n\nDo you have any ideas? Otherwise i would delete the wildcard and just generate a tunnel for each subdomain to the NGINX Manager.\n\n&amp;#x200B;\n\nThanks in advance.", "author_fullname": "t2_lk7dbw", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Cloudflare Tunnel, NGINX Proxy Manager and Filerun issue", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11vsxx6", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.81, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 3, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": 1679250224.0, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679249789.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi,&lt;/p&gt;\n\n&lt;p&gt;i have currently set up my cloudflare tunnel with a &lt;strong&gt;wildcard *.mydomain.com&lt;/strong&gt; with the &lt;strong&gt;NGINX port&lt;/strong&gt; in the Cloudfare Zero Trust GUI. This way the traffic runs through the one tunnel and the nginx manager splits it up, depending on the subdomain (see image attached).&lt;/p&gt;\n\n&lt;p&gt;I had to turn &amp;quot;Force SSL&amp;quot; off to reach my subdomains.&lt;/p&gt;\n\n&lt;p&gt;In general this works fine but the filerun proxy host isn&amp;#39;t able to generate a new SSL Certificate (Internal error). In the DNS managment i only included:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;&amp;quot;*&amp;quot; for name and the &lt;a href=\"https://ID.cfargotunnel.com\"&gt;&lt;em&gt;ID.cfargotunnel.com&lt;/em&gt;&lt;/a&gt; for content and&lt;/li&gt;\n&lt;li&gt;&amp;quot;www&amp;quot; (name), &lt;a href=\"https://mydomain.com\"&gt;&lt;em&gt;mydomain.com&lt;/em&gt;&lt;/a&gt; (content)&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;This was no problem without the cloudflare tunnel. There i just opened 443+80 and used the NGINX Mangers for reverse proxy.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Do you have any ideas? Otherwise i would delete the wildcard and just generate a tunnel for each subdomain to the NGINX Manager.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;Thanks in advance.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11vsxx6", "is_robot_indexable": true, "report_reasons": null, "author": "Aldamir24", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11vsxx6/cloudflare_tunnel_nginx_proxy_manager_and_filerun/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11vsxx6/cloudflare_tunnel_nginx_proxy_manager_and_filerun/", "subreddit_subscribers": 236058, "created_utc": 1679249789.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I'm trying to set up Plausible as a analytics systems for various apps I'm selfhosting (Immich, uptime-kuma, etc), but it needs a custom javascript snipped to be added to all of the pages' header. Is there a way to add this header through the docker compose file for these services or through Cloudflare, since these services are hosted behind Cloudflare? I also host these services through/with Authentik, depending on whether they accept oauth, if that helps. Normally I think you would just add it to your nginx config file for the site, but these services don't have one so I not sure what to do.", "author_fullname": "t2_6ywqobq3", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Custom Headers for Self-Hosted Apps", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "solved", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11vofic", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.81, "author_flair_background_color": null, "subreddit_type": "public", "ups": 3, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Solved", "can_mod_post": false, "score": 3, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679240198.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m trying to set up Plausible as a analytics systems for various apps I&amp;#39;m selfhosting (Immich, uptime-kuma, etc), but it needs a custom javascript snipped to be added to all of the pages&amp;#39; header. Is there a way to add this header through the docker compose file for these services or through Cloudflare, since these services are hosted behind Cloudflare? I also host these services through/with Authentik, depending on whether they accept oauth, if that helps. Normally I think you would just add it to your nginx config file for the site, but these services don&amp;#39;t have one so I not sure what to do.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "7b9b9156-5ccb-11eb-9ab6-0e4839ba7cc3", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11vofic", "is_robot_indexable": true, "report_reasons": null, "author": "Cats3214", "discussion_type": null, "num_comments": 2, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11vofic/custom_headers_for_selfhosted_apps/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11vofic/custom_headers_for_selfhosted_apps/", "subreddit_subscribers": 236058, "created_utc": 1679240198.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Hi, \n\n&amp;#x200B;\n\nI am thinking of renting a VPS. I would like to host:\n\n\\- a very simple static website, \n\n\\- a photo cloud service (photoprism or immich)\n\n\\- a nextcloud instance\n\n&amp;#x200B;\n\nI have never used a VPS, therefore i don't exactly know how it works to separate each app. \n\nFor the static website i actually own a domain name (.net) i would like to be able to redirect this domain to the simple website.\n\nThen maybe point 2 other random (if possible free) domain to the 2 others services. \n\n&amp;#x200B;\n\nis that possible? As the VPS only have one ipV4 adress?", "author_fullname": "t2_gdaums7g", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "VPS and domain name", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "iot", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11weyvv", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.63, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Internet of Things", "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679307987.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Hi, &lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;I am thinking of renting a VPS. I would like to host:&lt;/p&gt;\n\n&lt;p&gt;- a very simple static website, &lt;/p&gt;\n\n&lt;p&gt;- a photo cloud service (photoprism or immich)&lt;/p&gt;\n\n&lt;p&gt;- a nextcloud instance&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;I have never used a VPS, therefore i don&amp;#39;t exactly know how it works to separate each app. &lt;/p&gt;\n\n&lt;p&gt;For the static website i actually own a domain name (.net) i would like to be able to redirect this domain to the simple website.&lt;/p&gt;\n\n&lt;p&gt;Then maybe point 2 other random (if possible free) domain to the 2 others services. &lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;is that possible? As the VPS only have one ipV4 adress?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "2bb5b326-7e68-11e9-82d4-0e5b93af5dd4", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11weyvv", "is_robot_indexable": true, "report_reasons": null, "author": "arthuragone", "discussion_type": null, "num_comments": 5, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11weyvv/vps_and_domain_name/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11weyvv/vps_and_domain_name/", "subreddit_subscribers": 236058, "created_utc": 1679307987.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I do all my development from the terminal. Recently I was thinking it would be very convenient if I could spin up an ephemeral workstation with my dotfiles within a web browser. This is because I travel a lot and sometimes I only have my iPad with me. \n\nNote that I\u2019m not looking for a desktop environment. Just shell over HTTP is enough. Seems like you could hack something like this together with a docker image containing your dotfiles. \n\nAnything like that exists? Conversely, if I were to develop something like this, what are the threat models I need to consider?", "author_fullname": "t2_uz8r4h9i", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "OSS for opening an on demand shell instance from a web browser?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11wal7t", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.76, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679292955.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I do all my development from the terminal. Recently I was thinking it would be very convenient if I could spin up an ephemeral workstation with my dotfiles within a web browser. This is because I travel a lot and sometimes I only have my iPad with me. &lt;/p&gt;\n\n&lt;p&gt;Note that I\u2019m not looking for a desktop environment. Just shell over HTTP is enough. Seems like you could hack something like this together with a docker image containing your dotfiles. &lt;/p&gt;\n\n&lt;p&gt;Anything like that exists? Conversely, if I were to develop something like this, what are the threat models I need to consider?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11wal7t", "is_robot_indexable": true, "report_reasons": null, "author": "walrusbutterfly", "discussion_type": null, "num_comments": 15, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11wal7t/oss_for_opening_an_on_demand_shell_instance_from/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11wal7t/oss_for_opening_an_on_demand_shell_instance_from/", "subreddit_subscribers": 236058, "created_utc": 1679292955.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Cloak.ist looks impressive, but I wondered if there\u2019s an alternative that\u2019s self hosted? Sort of like the self hosted link shorteners etc.\n\nDoubt it exists (I can\u2019t even find an alternative to cloak.it\u2019s in general), but it would be awesome!", "author_fullname": "t2_i4wnr", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Any Self Hosted alternatives to cloak.ist?", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11w09le", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.6, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679265729.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Cloak.ist looks impressive, but I wondered if there\u2019s an alternative that\u2019s self hosted? Sort of like the self hosted link shorteners etc.&lt;/p&gt;\n\n&lt;p&gt;Doubt it exists (I can\u2019t even find an alternative to cloak.it\u2019s in general), but it would be awesome!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11w09le", "is_robot_indexable": true, "report_reasons": null, "author": "smernt", "discussion_type": null, "num_comments": 3, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11w09le/any_self_hosted_alternatives_to_cloakist/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11w09le/any_self_hosted_alternatives_to_cloakist/", "subreddit_subscribers": 236058, "created_utc": 1679265729.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I'm a Junior (and coincidentally 3rd year) developer who has an old computer I'm looking to turn into a development environment. I understand the basics of setting up ssh connections to the environment and how virtual environments work, but wondering if anyone has any recommendations, best practices or guides that helped them starting down this path. Version control do's and don'ts? Anything particularly helpful for sandbox environments or setting up smaller environments per project? \n\nI don't want to complicate a ham sandwich but also want to do it right the first time.", "author_fullname": "t2_58cnityo", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Setting up a remote development environment", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "softwaredev", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11vzqm0", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.67, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Software Development", "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679264380.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m a Junior (and coincidentally 3rd year) developer who has an old computer I&amp;#39;m looking to turn into a development environment. I understand the basics of setting up ssh connections to the environment and how virtual environments work, but wondering if anyone has any recommendations, best practices or guides that helped them starting down this path. Version control do&amp;#39;s and don&amp;#39;ts? Anything particularly helpful for sandbox environments or setting up smaller environments per project? &lt;/p&gt;\n\n&lt;p&gt;I don&amp;#39;t want to complicate a ham sandwich but also want to do it right the first time.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "684a1552-7e68-11e9-a4b1-0e84949b6a4e", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11vzqm0", "is_robot_indexable": true, "report_reasons": null, "author": "Trolann", "discussion_type": null, "num_comments": 4, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11vzqm0/setting_up_a_remote_development_environment/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11vzqm0/setting_up_a_remote_development_environment/", "subreddit_subscribers": 236058, "created_utc": 1679264380.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "Is there a way to reset active directory user  passwords without using a computer  or login to ad server or mmc console? \n\nI want my family to be able to change their  password without  my intervention. I already have different sites linked to ad and members of different groups have access to different sites. \n\nMaybe something that can also issue user certs?", "author_fullname": "t2_5fzxwf2", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Remote AD user pw reset.", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": null, "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11vpah6", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": null, "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679242303.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Is there a way to reset active directory user  passwords without using a computer  or login to ad server or mmc console? &lt;/p&gt;\n\n&lt;p&gt;I want my family to be able to change their  password without  my intervention. I already have different sites linked to ad and members of different groups have access to different sites. &lt;/p&gt;\n\n&lt;p&gt;Maybe something that can also issue user certs?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11vpah6", "is_robot_indexable": true, "report_reasons": null, "author": "Mabizle", "discussion_type": null, "num_comments": 6, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11vpah6/remote_ad_user_pw_reset/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11vpah6/remote_ad_user_pw_reset/", "subreddit_subscribers": 236058, "created_utc": 1679242303.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I've been running mostly off of the same server for the last year and a half. It's an openmediavault server running on a Dell R720 and it has been great, but I've just been running backups to my first built server periodically.\n\nRecently, I spent the time and money to build out a modern hardware server, also running OMV 6, and I made it so that this is my always-on main server and the R720 is now the backup that spins up once or twice a week for rsync commands and such.\n\nThe issue is that I have two domain names that are setup as separate instances in cloudflare (one I bought years ago and it has applied to the dell server, the other is newer and I wanted it to represent services on the new server). I've been running Nginx proxy manager from portainer on the dell server since pretty much day one for all my reverse proxy stuff, just so I could have a domain name alias for each docker container basically.\n\nI just setup NPM on my new server the other day and made sure cloudflare setup is the same, applied my SSL cert from clourflare, etc. The issue is that all of my services from NPM on the new server resolve to a 521 error (web server down). I know that my cloudflare instances have the same setup (i.e. domain1 is a cname to my home IP and domain2 is a cname to my Home IP) but I can't figure out why the services on the old server work with the aliases through NPM but everything on the new one is getting a 521.\n\n&amp;#x200B;\n\nI'll provide any info I can, but is it just not going to work having two servers (each with their own respective domain name) running from the same home IP?", "author_fullname": "t2_j1w6t76w", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Issues trying to run Nginx Proxy Manager from two different servers (same router/location, in portainer)", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11vobrw", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 0.76, "author_flair_background_color": null, "subreddit_type": "public", "ups": 2, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Need Help", "can_mod_post": false, "score": 2, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679239940.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;ve been running mostly off of the same server for the last year and a half. It&amp;#39;s an openmediavault server running on a Dell R720 and it has been great, but I&amp;#39;ve just been running backups to my first built server periodically.&lt;/p&gt;\n\n&lt;p&gt;Recently, I spent the time and money to build out a modern hardware server, also running OMV 6, and I made it so that this is my always-on main server and the R720 is now the backup that spins up once or twice a week for rsync commands and such.&lt;/p&gt;\n\n&lt;p&gt;The issue is that I have two domain names that are setup as separate instances in cloudflare (one I bought years ago and it has applied to the dell server, the other is newer and I wanted it to represent services on the new server). I&amp;#39;ve been running Nginx proxy manager from portainer on the dell server since pretty much day one for all my reverse proxy stuff, just so I could have a domain name alias for each docker container basically.&lt;/p&gt;\n\n&lt;p&gt;I just setup NPM on my new server the other day and made sure cloudflare setup is the same, applied my SSL cert from clourflare, etc. The issue is that all of my services from NPM on the new server resolve to a 521 error (web server down). I know that my cloudflare instances have the same setup (i.e. domain1 is a cname to my home IP and domain2 is a cname to my Home IP) but I can&amp;#39;t figure out why the services on the old server work with the aliases through NPM but everything on the new one is getting a 521.&lt;/p&gt;\n\n&lt;p&gt;&amp;#x200B;&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ll provide any info I can, but is it just not going to work having two servers (each with their own respective domain name) running from the same home IP?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": false, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "82508a80-05bc-11eb-ae09-0effb713859f", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11vobrw", "is_robot_indexable": true, "report_reasons": null, "author": "FourTimesRadical", "discussion_type": null, "num_comments": 1, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11vobrw/issues_trying_to_run_nginx_proxy_manager_from_two/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11vobrw/issues_trying_to_run_nginx_proxy_manager_from_two/", "subreddit_subscribers": 236058, "created_utc": 1679239940.0, "num_crossposts": 0, "media": null, "is_video": false}}, {"kind": "t3", "data": {"approved_at_utc": null, "subreddit": "selfhosted", "selftext": "I'm hosting a few services on my domain behind HAProxy, all under subdomains, eg. [service1.example.com](https://service1.example.com), [service2.example.com](https://service2.example.com) etc. I'm wondering what should be the recommended approach when users try accessing eg. [example.com](https://example.com) or [www.example.com](https://www.example.com) which have no services behind. \n\nBy default the users get 503, which makes sense, however from security point of view I'm wondering if redirecting to an empty page or simply rejecting requests for unknown subdomains would be a better idea? Any best practices in this matter?", "author_fullname": "t2_xyc2c", "saved": false, "mod_reason_title": null, "gilded": 0, "clicked": false, "title": "Default page for my domain", "link_flair_richtext": [], "subreddit_name_prefixed": "r/selfhosted", "hidden": false, "pwls": 6, "link_flair_css_class": "help", "downs": 0, "thumbnail_height": null, "top_awarded_type": null, "hide_score": false, "name": "t3_11wg3d4", "quarantine": false, "link_flair_text_color": "dark", "upvote_ratio": 1.0, "author_flair_background_color": null, "subreddit_type": "public", "ups": 1, "total_awards_received": 0, "media_embed": {}, "thumbnail_width": null, "author_flair_template_id": null, "is_original_content": false, "user_reports": [], "secure_media": null, "is_reddit_media_domain": false, "is_meta": false, "category": null, "secure_media_embed": {}, "link_flair_text": "Need Help", "can_mod_post": false, "score": 1, "approved_by": null, "is_created_from_ads_ui": false, "author_premium": false, "thumbnail": "self", "edited": false, "author_flair_css_class": null, "author_flair_richtext": [], "gildings": {}, "content_categories": null, "is_self": true, "mod_note": null, "created": 1679311616.0, "link_flair_type": "text", "wls": 6, "removed_by_category": null, "banned_by": null, "author_flair_type": "text", "domain": "self.selfhosted", "allow_live_comments": false, "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m hosting a few services on my domain behind HAProxy, all under subdomains, eg. &lt;a href=\"https://service1.example.com\"&gt;service1.example.com&lt;/a&gt;, &lt;a href=\"https://service2.example.com\"&gt;service2.example.com&lt;/a&gt; etc. I&amp;#39;m wondering what should be the recommended approach when users try accessing eg. &lt;a href=\"https://example.com\"&gt;example.com&lt;/a&gt; or &lt;a href=\"https://www.example.com\"&gt;www.example.com&lt;/a&gt; which have no services behind. &lt;/p&gt;\n\n&lt;p&gt;By default the users get 503, which makes sense, however from security point of view I&amp;#39;m wondering if redirecting to an empty page or simply rejecting requests for unknown subdomains would be a better idea? Any best practices in this matter?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "likes": null, "suggested_sort": null, "banned_at_utc": null, "view_count": null, "archived": false, "no_follow": true, "is_crosspostable": false, "pinned": false, "over_18": false, "all_awardings": [], "awarders": [], "media_only": false, "link_flair_template_id": "82508a80-05bc-11eb-ae09-0effb713859f", "can_gild": false, "spoiler": false, "locked": false, "author_flair_text": null, "treatment_tags": [], "visited": false, "removed_by": null, "num_reports": null, "distinguished": null, "subreddit_id": "t5_32hch", "author_is_blocked": false, "mod_reason_by": null, "removal_reason": null, "link_flair_background_color": "", "id": "11wg3d4", "is_robot_indexable": true, "report_reasons": null, "author": "pavulondit", "discussion_type": null, "num_comments": 8, "send_replies": true, "whitelist_status": "all_ads", "contest_mode": false, "mod_reports": [], "author_patreon_flair": false, "author_flair_text_color": null, "permalink": "/r/selfhosted/comments/11wg3d4/default_page_for_my_domain/", "parent_whitelist_status": "all_ads", "stickied": false, "url": "https://old.reddit.com/r/selfhosted/comments/11wg3d4/default_page_for_my_domain/", "subreddit_subscribers": 236058, "created_utc": 1679311616.0, "num_crossposts": 0, "media": null, "is_video": false}}], "before": null}}